{
    "hints": {
        "createVault(uint64,uint64,uint64,uint64,uint64,uint64,address,address)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "optInAssets()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "optIn()void": {
            "call_config": {
                "opt_in": "CALL"
            }
        },
        "closeOut()void": {
            "call_config": {
                "close_out": "CALL"
            }
        },
        "deposit()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "withdraw(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claim()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimCreator()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "swapYield(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getVaultStats()(uint64,uint64,uint64,uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPendingYield(address)uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getUserDeposit(address)uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getSwapQuote()(uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateMinSwapThreshold(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateTinymanPool(uint64,address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQgOCAxMDAwMCAxMDAwMDAwMDAwIDIwMDAwMAogICAgYnl0ZWNibG9jayAidG90YWxEZXBvc2l0cyIgImRlcG9zaXRlZEFtb3VudCIgInlpZWxkQXNzZXQiICJzd2FwQXNzZXQiICJ5aWVsZFBlclRva2VuIiAiZWFybmVkWWllbGQiICJjcmVhdG9yQWRkcmVzcyIgImNyZWF0b3JVbmNsYWltZWRZaWVsZCIgImRlcG9zaXRBc3NldCIgInJhcmVmaUFkZHJlc3MiICJtaW5Td2FwVGhyZXNob2xkIiAidG90YWxZaWVsZEdlbmVyYXRlZCIgInRpbnltYW5Qb29sQXBwSWQiICJ0aW55bWFuUG9vbEFkZHJlc3MiICJ1c2VyWWllbGRQZXJUb2tlbiIgMHgxNTFmN2M3NSAiY3JlYXRvckZlZVJhdGUiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNAogICAgLy8gZXhwb3J0IGNsYXNzIFJhcmVGaVZhdWx0IGV4dGVuZHMgYXJjNC5Db250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9iYXJlX3JvdXRpbmdAMjQKICAgIHB1c2hieXRlc3MgMHgyOTMxNGQ5NSAweDZhNjkxZmUyIC8vIG1ldGhvZCAib3B0SW4oKXZvaWQiLCBtZXRob2QgImNsb3NlT3V0KCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9vcHRJbl9yb3V0ZUAzIG1haW5fY2xvc2VPdXRfcm91dGVANAoKbWFpbl9zd2l0Y2hfY2FzZV9uZXh0QDU6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNAogICAgLy8gZXhwb3J0IGNsYXNzIFJhcmVGaVZhdWx0IGV4dGVuZHMgYXJjNC5Db250cmFjdCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGJ6IG1haW5fY3JlYXRlX05vT3BAMjAKICAgIHB1c2hieXRlc3MgMHg0MTRlNDFiNSAweDkyZTAzYjFjIDB4MjFmMWRkZmYgMHhmMTU3NzcyNiAweGJjOTk0NDllIDB4MzZmM2IyZjQgMHgwMDM1OTdhMiAweGIwZGY1YzBmIDB4M2ZiOGE5MjcgMHhmNDFkYTM1ZCAweGFiNmVmNzNiIDB4MWVmN2I1ODYgLy8gbWV0aG9kICJvcHRJbkFzc2V0cygpdm9pZCIsIG1ldGhvZCAiZGVwb3NpdCgpdm9pZCIsIG1ldGhvZCAid2l0aGRyYXcodWludDY0KXZvaWQiLCBtZXRob2QgImNsYWltKCl2b2lkIiwgbWV0aG9kICJjbGFpbUNyZWF0b3IoKXZvaWQiLCBtZXRob2QgInN3YXBZaWVsZCh1aW50NjQpdm9pZCIsIG1ldGhvZCAiZ2V0VmF1bHRTdGF0cygpKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiZ2V0UGVuZGluZ1lpZWxkKGFkZHJlc3MpdWludDY0IiwgbWV0aG9kICJnZXRVc2VyRGVwb3NpdChhZGRyZXNzKXVpbnQ2NCIsIG1ldGhvZCAiZ2V0U3dhcFF1b3RlKCkodWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJ1cGRhdGVNaW5Td2FwVGhyZXNob2xkKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJ1cGRhdGVUaW55bWFuUG9vbCh1aW50NjQsYWRkcmVzcyl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggb3B0SW5Bc3NldHMgZGVwb3NpdCB3aXRoZHJhdyBjbGFpbSBjbGFpbUNyZWF0b3Igc3dhcFlpZWxkIGdldFZhdWx0U3RhdHMgZ2V0UGVuZGluZ1lpZWxkIGdldFVzZXJEZXBvc2l0IGdldFN3YXBRdW90ZSB1cGRhdGVNaW5Td2FwVGhyZXNob2xkIHVwZGF0ZVRpbnltYW5Qb29sCiAgICBlcnIKCm1haW5fY3JlYXRlX05vT3BAMjA6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNAogICAgLy8gZXhwb3J0IGNsYXNzIFJhcmVGaVZhdWx0IGV4dGVuZHMgYXJjNC5Db250cmFjdCB7CiAgICBwdXNoYnl0ZXMgMHg0ZDAzY2IyOSAvLyBtZXRob2QgImNyZWF0ZVZhdWx0KHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LGFkZHJlc3MsYWRkcmVzcyl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggY3JlYXRlVmF1bHQKICAgIGVycgoKbWFpbl9jbG9zZU91dF9yb3V0ZUA0OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjkzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdDbG9zZU91dCcgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgMiAvLyBDbG9zZU91dAogICAgPT0KICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAmJgogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBtdXN0IGJlIENsb3NlT3V0ICYmIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGIgY2xvc2VPdXQKCm1haW5fb3B0SW5fcm91dGVAMzoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI4MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnT3B0SW4nIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBpbnRjXzEgLy8gT3B0SW4KICAgID09CiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgJiYKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBPcHRJbiAmJiBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBiIG9wdEluCgptYWluX2JhcmVfcm91dGluZ0AyNDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0CiAgICAvLyBleHBvcnQgY2xhc3MgUmFyZUZpVmF1bHQgZXh0ZW5kcyBhcmM0LkNvbnRyYWN0IHsKICAgIGludGNfMiAvLyBVcGRhdGVBcHBsaWNhdGlvbgogICAgcHVzaGludCA1IC8vIERlbGV0ZUFwcGxpY2F0aW9uCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBtYXRjaCBtYWluX3VwZGF0ZUFwcGxpY2F0aW9uQDI1IG1haW5fZGVsZXRlQXBwbGljYXRpb25AMjYKICAgIGVycgoKbWFpbl9kZWxldGVBcHBsaWNhdGlvbkAyNjoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY0NQogICAgLy8gQGJhcmVtZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjQ3CiAgICAvLyBhc3NlcnQoZmFsc2UsICdDb250cmFjdCBkZWxldGlvbiBkaXNhYmxlZCcpOwogICAgZXJyIC8vIENvbnRyYWN0IGRlbGV0aW9uIGRpc2FibGVkCgptYWluX3VwZGF0ZUFwcGxpY2F0aW9uQDI1OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjQwCiAgICAvLyBAYmFyZW1ldGhvZCh7IGFsbG93QWN0aW9uczogJ1VwZGF0ZUFwcGxpY2F0aW9uJyB9KQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NDIKICAgIC8vIGFzc2VydChmYWxzZSwgJ0NvbnRyYWN0IHVwZGF0ZXMgZGlzYWJsZWQnKTsKICAgIGVyciAvLyBDb250cmFjdCB1cGRhdGVzIGRpc2FibGVkCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmNyZWF0ZVZhdWx0W3JvdXRpbmddKCkgLT4gdm9pZDoKY3JlYXRlVmF1bHQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxNzMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDcKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDgKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE4NQogICAgLy8gYXNzZXJ0KGNyZWF0b3JGZWVSYXRlIDw9IE1BWF9GRUVfUkFURSwgJ0NyZWF0b3IgZmVlIHJhdGUgZXhjZWVkcyBtYXhpbXVtICgxMDAlKScpOwogICAgZGlnIDQKICAgIHB1c2hpbnQgMTAwIC8vIDEwMAogICAgPD0KICAgIGFzc2VydCAvLyBDcmVhdG9yIGZlZSByYXRlIGV4Y2VlZHMgbWF4aW11bSAoMTAwJSkKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE4NgogICAgLy8gYXNzZXJ0KG1pblN3YXBUaHJlc2hvbGQgPj0gTUlOX1NXQVBfQU1PVU5ULCAnU3dhcCB0aHJlc2hvbGQgdG9vIGxvdycpOwogICAgZGlnIDMKICAgIGludGMgNiAvLyAyMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gU3dhcCB0aHJlc2hvbGQgdG9vIGxvdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTg3CiAgICAvLyBhc3NlcnQoZGVwb3NpdEFzc2V0SWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgZGVwb3NpdCBhc3NldCcpOwogICAgZGlnIDcKICAgIGFzc2VydCAvLyBJbnZhbGlkIGRlcG9zaXQgYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE4OAogICAgLy8gYXNzZXJ0KHlpZWxkQXNzZXRJZCAhPT0gVWludDY0KDApLCAnSW52YWxpZCB5aWVsZCBhc3NldCcpOwogICAgZGlnIDYKICAgIGFzc2VydCAvLyBJbnZhbGlkIHlpZWxkIGFzc2V0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxODkKICAgIC8vIGFzc2VydChzd2FwQXNzZXRJZCAhPT0gVWludDY0KDApLCAnSW52YWxpZCBzd2FwIGFzc2V0Jyk7CiAgICBkaWcgNQogICAgYXNzZXJ0IC8vIEludmFsaWQgc3dhcCBhc3NldAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTkwCiAgICAvLyBhc3NlcnQodGlueW1hblBvb2xBcHBJZCAhPT0gVWludDY0KDApLCAnSW52YWxpZCBUaW55bWFuIHBvb2wgYXBwIElEJyk7CiAgICBkaWcgMgogICAgYXNzZXJ0IC8vIEludmFsaWQgVGlueW1hbiBwb29sIGFwcCBJRAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTkzCiAgICAvLyBhc3NlcnQoZGVwb3NpdEFzc2V0SWQgIT09IHlpZWxkQXNzZXRJZCwgJ0RlcG9zaXQgYW5kIHlpZWxkIGFzc2V0cyBtdXN0IGJlIGRpZmZlcmVudCcpOwogICAgZGlnIDcKICAgIGRpZyA3CiAgICAhPQogICAgYXNzZXJ0IC8vIERlcG9zaXQgYW5kIHlpZWxkIGFzc2V0cyBtdXN0IGJlIGRpZmZlcmVudAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTk0CiAgICAvLyBhc3NlcnQoZGVwb3NpdEFzc2V0SWQgIT09IHN3YXBBc3NldElkLCAnRGVwb3NpdCBhbmQgc3dhcCBhc3NldHMgbXVzdCBiZSBkaWZmZXJlbnQnKTsKICAgIGRpZyA3CiAgICBkaWcgNgogICAgIT0KICAgIGFzc2VydCAvLyBEZXBvc2l0IGFuZCBzd2FwIGFzc2V0cyBtdXN0IGJlIGRpZmZlcmVudAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTk1CiAgICAvLyBhc3NlcnQoeWllbGRBc3NldElkICE9PSBzd2FwQXNzZXRJZCwgJ1lpZWxkIGFuZCBzd2FwIGFzc2V0cyBtdXN0IGJlIGRpZmZlcmVudCcpOwogICAgZGlnIDYKICAgIGRpZyA2CiAgICAhPQogICAgYXNzZXJ0IC8vIFlpZWxkIGFuZCBzd2FwIGFzc2V0cyBtdXN0IGJlIGRpZmZlcmVudAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDAKICAgIC8vIGRlcG9zaXRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAvLyBBbHBoYSBBU0EgSUQgKHdoYXQgdXNlcnMgZGVwb3NpdCkKICAgIGJ5dGVjIDggLy8gImRlcG9zaXRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE5OAogICAgLy8gdGhpcy5kZXBvc2l0QXNzZXQudmFsdWUgPSBkZXBvc2l0QXNzZXRJZDsKICAgIHVuY292ZXIgOAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxCiAgICAvLyB5aWVsZEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBBU0EgSUQgKHdoYXQgYWlyZHJvcHMgY29tZSBpbiBhcykKICAgIGJ5dGVjXzIgLy8gInlpZWxkQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxOTkKICAgIC8vIHRoaXMueWllbGRBc3NldC52YWx1ZSA9IHlpZWxkQXNzZXRJZDsKICAgIHVuY292ZXIgNwogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyCiAgICAvLyBzd2FwQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgLy8gUHJvamVjdCdzIEFTQSBJRCAod2hhdCB5aWVsZCBpcyBzd2FwcGVkIHRvKQogICAgYnl0ZWNfMyAvLyAic3dhcEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjAwCiAgICAvLyB0aGlzLnN3YXBBc3NldC52YWx1ZSA9IHN3YXBBc3NldElkOwogICAgdW5jb3ZlciA2CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDUKICAgIC8vIGNyZWF0b3JBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAvLyBWYXVsdCBjcmVhdG9yIHdobyByZWNlaXZlcyBmZWUKICAgIGJ5dGVjIDYgLy8gImNyZWF0b3JBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjAzCiAgICAvLyB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlID0gVHhuLnNlbmRlcjsKICAgIHR4biBTZW5kZXIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NgogICAgLy8gcmFyZWZpQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgIC8vIFJhcmVGaSBwbGF0Zm9ybSBhZGRyZXNzIChjYW4gYWxzbyB0cmlnZ2VyIHN3YXBzKQogICAgYnl0ZWMgOSAvLyAicmFyZWZpQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIwNAogICAgLy8gdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlID0gcmFyZWZpQWRkcmVzczsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NwogICAgLy8gY3JlYXRvckZlZVJhdGUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIDAtMTAwLCBwZXJjZW50YWdlIG9mIHlpZWxkIHRvIGNyZWF0b3IKICAgIGJ5dGVjIDE2IC8vICJjcmVhdG9yRmVlUmF0ZSIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIwNQogICAgLy8gdGhpcy5jcmVhdG9yRmVlUmF0ZS52YWx1ZSA9IGNyZWF0b3JGZWVSYXRlOwogICAgdW5jb3ZlciA0CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDgKICAgIC8vIGNyZWF0b3JVbmNsYWltZWRZaWVsZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgLy8gQWNjdW11bGF0ZWQgeWllbGQgZm9yIGNyZWF0b3IgdG8gY2xhaW0KICAgIGJ5dGVjIDcgLy8gImNyZWF0b3JVbmNsYWltZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIwNgogICAgLy8gdGhpcy5jcmVhdG9yVW5jbGFpbWVkWWllbGQudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjA5CiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyCiAgICAvLyB5aWVsZFBlclRva2VuID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gQWNjdW11bGF0b3IgZm9yIHlpZWxkIGRpc3RyaWJ1dGlvbiAoc2NhbGVkIGJ5IFNDQUxFKQogICAgYnl0ZWMgNCAvLyAieWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIxMAogICAgLy8gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlID0gVWludDY0KDApOwogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MwogICAgLy8gbWluU3dhcFRocmVzaG9sZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIE1pbmltdW0gVVNEQyBiZWZvcmUgc3dhcCBhbGxvd2VkCiAgICBieXRlYyAxMCAvLyAibWluU3dhcFRocmVzaG9sZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIxMQogICAgLy8gdGhpcy5taW5Td2FwVGhyZXNob2xkLnZhbHVlID0gbWluU3dhcFRocmVzaG9sZDsKICAgIHVuY292ZXIgMwogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0CiAgICAvLyB0b3RhbFlpZWxkR2VuZXJhdGVkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBUb3RhbCB5aWVsZCBnZW5lcmF0ZWQgZnJvbSBzd2FwcyAoc3dhcCBvdXRwdXQgaW4gc3dhcEFzc2V0KQogICAgYnl0ZWMgMTEgLy8gInRvdGFsWWllbGRHZW5lcmF0ZWQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMTIKICAgIC8vIHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTcKICAgIC8vIHRpbnltYW5Qb29sQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBUaW55bWFuIFYyIHBvb2wgYXBwIElEIChVU0RDL3N3YXBBc3NldCkKICAgIGJ5dGVjIDEyIC8vICJ0aW55bWFuUG9vbEFwcElkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjE1CiAgICAvLyB0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUgPSB0aW55bWFuUG9vbEFwcElkOwogICAgdW5jb3ZlciAyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTgKICAgIC8vIHRpbnltYW5Qb29sQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7IC8vIFRpbnltYW4gcG9vbCBhZGRyZXNzCiAgICBieXRlYyAxMyAvLyAidGlueW1hblBvb2xBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjE2CiAgICAvLyB0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZSA9IHRpbnltYW5Qb29sQWRkcmVzczsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxNzMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQub3B0SW5Bc3NldHNbcm91dGluZ10oKSAtPiB2b2lkOgpvcHRJbkFzc2V0czoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIyOAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvckFkZHJlc3MudmFsdWUsICdPbmx5IGNyZWF0b3IgY2FuIG9wdC1pbiBhc3NldHMnKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NQogICAgLy8gY3JlYXRvckFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgIC8vIFZhdWx0IGNyZWF0b3Igd2hvIHJlY2VpdmVzIGZlZQogICAgYnl0ZWMgNiAvLyAiY3JlYXRvckFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMjgKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlLCAnT25seSBjcmVhdG9yIGNhbiBvcHQtaW4gYXNzZXRzJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3IgY2FuIG9wdC1pbiBhc3NldHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIzMAogICAgLy8gY29uc3QgYXBwQWRkcjogQWNjb3VudCA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzOwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIzNQogICAgLy8gY29uc3QgY3VycmVudEluZGV4ID0gVHhuLmdyb3VwSW5kZXg7CiAgICB0eG4gR3JvdXBJbmRleAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjM2CiAgICAvLyBhc3NlcnQoY3VycmVudEluZGV4ID49IFVpbnQ2NCgxKSwgJ0FwcCBjYWxsIG11c3QgZm9sbG93IHBheW1lbnQnKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIEFwcCBjYWxsIG11c3QgZm9sbG93IHBheW1lbnQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIzOAogICAgLy8gY29uc3QgYWxnb1BheW1lbnQgPSBndHhuLlBheW1lbnRUeG4oY3VycmVudEluZGV4IC0gVWludDY0KDEpKTsKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMzkKICAgIC8vIGFzc2VydChhbGdvUGF5bWVudC5yZWNlaXZlciA9PT0gYXBwQWRkciwgJ1BheW1lbnQgbXVzdCBiZSB0byBhcHAnKTsKICAgIGR1cAogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGRpZyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIFBheW1lbnQgbXVzdCBiZSB0byBhcHAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI0MAogICAgLy8gYXNzZXJ0KGFsZ29QYXltZW50LmFtb3VudCA+PSB0b3RhbFJlcXVpcmVkLCAnSW5zdWZmaWNpZW50IEFMR08gKG5lZWQgMjAwLjMgQUxHTzogMjAwIHNldHVwIGZlZSArIDAuMyBNQlIpJyk7CiAgICBkdXAKICAgIGd0eG5zIEFtb3VudAogICAgcHVzaGludCAyMDAzMDAwMDAgLy8gMjAwMzAwMDAwCiAgICA+PQogICAgYXNzZXJ0IC8vIEluc3VmZmljaWVudCBBTEdPIChuZWVkIDIwMC4zIEFMR086IDIwMCBzZXR1cCBmZWUgKyAwLjMgTUJSKQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjQxCiAgICAvLyBhc3NlcnQoYWxnb1BheW1lbnQuc2VuZGVyID09PSBUeG4uc2VuZGVyLCAnUGF5bWVudCBtdXN0IGJlIGZyb20gY2FsbGVyJyk7CiAgICBndHhucyBTZW5kZXIKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gUGF5bWVudCBtdXN0IGJlIGZyb20gY2FsbGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNDQtMjQ4CiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICByZWNlaXZlcjogdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlLAogICAgLy8gICBhbW91bnQ6IENSRUFUT1JfU0VUVVBfRkVFLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjQ1CiAgICAvLyByZWNlaXZlcjogdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2CiAgICAvLyByYXJlZmlBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAgLy8gUmFyZUZpIHBsYXRmb3JtIGFkZHJlc3MgKGNhbiBhbHNvIHRyaWdnZXIgc3dhcHMpCiAgICBieXRlYyA5IC8vICJyYXJlZmlBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjQ1CiAgICAvLyByZWNlaXZlcjogdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI0NgogICAgLy8gYW1vdW50OiBDUkVBVE9SX1NFVFVQX0ZFRSwKICAgIHB1c2hpbnQgMjAwMDAwMDAwIC8vIDIwMDAwMDAwMAogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI0NC0yNDgKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgIHJlY2VpdmVyOiB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFtb3VudDogQ1JFQVRPUl9TRVRVUF9GRUUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjQ3CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjQ0LTI0OAogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgcmVjZWl2ZXI6IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYW1vdW50OiBDUkVBVE9SX1NFVFVQX0ZFRSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNTEtMjU2CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI1MwogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDAKICAgIC8vIGRlcG9zaXRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAvLyBBbHBoYSBBU0EgSUQgKHdoYXQgdXNlcnMgZGVwb3NpdCkKICAgIGJ5dGVjIDggLy8gImRlcG9zaXRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI1MwogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjU0CiAgICAvLyBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBkdXAKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjUxLTI1NgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjU1CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjUxLTI1NgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjU5LTI2NAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjYxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDEKICAgIC8vIHlpZWxkQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBVU0RDIEFTQSBJRCAod2hhdCBhaXJkcm9wcyBjb21lIGluIGFzKQogICAgYnl0ZWNfMiAvLyAieWllbGRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI2MQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI2MgogICAgLy8gYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgZHVwCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI1OS0yNjQKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IGFwcEFkZHIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNjMKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNTktMjY0CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjY3LTI3MgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNjkKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyCiAgICAvLyBzd2FwQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgLy8gUHJvamVjdCdzIEFTQSBJRCAod2hhdCB5aWVsZCBpcyBzd2FwcGVkIHRvKQogICAgYnl0ZWNfMyAvLyAic3dhcEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjY5CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNzAKICAgIC8vIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjY3LTI3MgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjcxCiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjY3LTI3MgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjI2CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5vcHRJbltyb3V0aW5nXSgpIC0+IHZvaWQ6Cm9wdEluOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mjg1CiAgICAvLyB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY0CiAgICAvLyBkZXBvc2l0ZWRBbW91bnQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gVXNlcidzIEFscGhhIGJhbGFuY2UgaW4gdmF1bHQKICAgIGJ5dGVjXzEgLy8gImRlcG9zaXRlZEFtb3VudCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI4NQogICAgLy8gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mjg2CiAgICAvLyB0aGlzLnVzZXJZaWVsZFBlclRva2VuKFR4bi5zZW5kZXIpLnZhbHVlID0gVWludDY0KDApOwogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjUKICAgIC8vIHVzZXJZaWVsZFBlclRva2VuID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBTbmFwc2hvdCBvZiB5aWVsZFBlclRva2VuIGF0IGxhc3QgYWN0aW9uCiAgICBieXRlYyAxNCAvLyAidXNlcllpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyODYKICAgIC8vIHRoaXMudXNlcllpZWxkUGVyVG9rZW4oVHhuLnNlbmRlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mjg3CiAgICAvLyB0aGlzLmVhcm5lZFlpZWxkKFR4bi5zZW5kZXIpLnZhbHVlID0gVWludDY0KDApOwogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjYKICAgIC8vIGVhcm5lZFlpZWxkID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBBY2N1bXVsYXRlZCB5aWVsZCBub3QgeWV0IGNsYWltZWQKICAgIGJ5dGVjIDUgLy8gImVhcm5lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mjg3CiAgICAvLyB0aGlzLmVhcm5lZFlpZWxkKFR4bi5zZW5kZXIpLnZhbHVlID0gVWludDY0KDApOwogICAgaW50Y18wIC8vIDAKICAgIGFwcF9sb2NhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI4MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnT3B0SW4nIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmNsb3NlT3V0W3JvdXRpbmddKCkgLT4gdm9pZDoKY2xvc2VPdXQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyOTYKICAgIC8vIHRoaXMudXBkYXRlRWFybmVkWWllbGQoVHhuLnNlbmRlcik7CiAgICB0eG4gU2VuZGVyCiAgICBjYWxsc3ViIHVwZGF0ZUVhcm5lZFlpZWxkCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyOTgKICAgIC8vIGNvbnN0IHVzZXJEZXBvc2l0ID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWU7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjQKICAgIC8vIGRlcG9zaXRlZEFtb3VudCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAvLyBVc2VyJ3MgQWxwaGEgYmFsYW5jZSBpbiB2YXVsdAogICAgYnl0ZWNfMSAvLyAiZGVwb3NpdGVkQW1vdW50IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mjk4CiAgICAvLyBjb25zdCB1c2VyRGVwb3NpdCA9IHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mjk5CiAgICAvLyBjb25zdCB1c2VyWWllbGQgPSB0aGlzLmVhcm5lZFlpZWxkKFR4bi5zZW5kZXIpLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY2CiAgICAvLyBlYXJuZWRZaWVsZCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gQWNjdW11bGF0ZWQgeWllbGQgbm90IHlldCBjbGFpbWVkCiAgICBieXRlYyA1IC8vICJlYXJuZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI5OQogICAgLy8gY29uc3QgdXNlcllpZWxkID0gdGhpcy5lYXJuZWRZaWVsZChUeG4uc2VuZGVyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzAyCiAgICAvLyBpZiAodXNlckRlcG9zaXQgPiBVaW50NjQoMCkpIHsKICAgIGJ6IGNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VANAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzAzCiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgLSB1c2VyRGVwb3NpdDsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MQogICAgLy8gdG90YWxEZXBvc2l0cyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIEFscGhhIGRlcG9zaXRlZCBpbiB2YXVsdAogICAgYnl0ZWNfMCAvLyAidG90YWxEZXBvc2l0cyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwMwogICAgLy8gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID0gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlIC0gdXNlckRlcG9zaXQ7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgLQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHRvdGFsRGVwb3NpdHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBBbHBoYSBkZXBvc2l0ZWQgaW4gdmF1bHQKICAgIGJ5dGVjXzAgLy8gInRvdGFsRGVwb3NpdHMiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDMKICAgIC8vIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSA9IHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSAtIHVzZXJEZXBvc2l0OwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwNS0zMTAKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNlckRlcG9zaXQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDYKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDcKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwCiAgICAvLyBkZXBvc2l0QXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gQWxwaGEgQVNBIElEICh3aGF0IHVzZXJzIGRlcG9zaXQpCiAgICBieXRlYyA4IC8vICJkZXBvc2l0QXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDcKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzA1LTMxMAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2VyRGVwb3NpdCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDkKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDUtMzEwCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHVzZXJEZXBvc2l0LAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCmNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMxNAogICAgLy8gaWYgKHVzZXJZaWVsZCA+IFVpbnQ2NCgwKSkgewogICAgZHVwCiAgICBieiBjbG9zZU91dF9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMxNS0zMjAKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNlcllpZWxkLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzE2CiAgICAvLyBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzE3CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MgogICAgLy8gc3dhcEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgIC8vIFByb2plY3QncyBBU0EgSUQgKHdoYXQgeWllbGQgaXMgc3dhcHBlZCB0bykKICAgIGJ5dGVjXzMgLy8gInN3YXBBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMxNwogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDIKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMxNS0zMjAKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNlcllpZWxkLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMxOQogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMxNS0zMjAKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNlcllpZWxkLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCmNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI5MwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnQ2xvc2VPdXQnIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmRlcG9zaXRbcm91dGluZ10oKSAtPiB2b2lkOgpkZXBvc2l0OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzM4CiAgICAvLyBjb25zdCBhcHBBZGRyOiBBY2NvdW50ID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3M7CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzQyCiAgICAvLyBjb25zdCB1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MQogICAgLy8geWllbGRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgQVNBIElEICh3aGF0IGFpcmRyb3BzIGNvbWUgaW4gYXMpCiAgICBieXRlY18yIC8vICJ5aWVsZEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzQyCiAgICAvLyBjb25zdCB1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNDMKICAgIC8vIGFzc2VydCh1c2RjQmFsYW5jZSA8IHRoaXMubWluU3dhcFRocmVzaG9sZC52YWx1ZSwgJ0RlcG9zaXRzIHBhdXNlZDogeWllbGQgcGVuZGluZyBzd2FwJyk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTMKICAgIC8vIG1pblN3YXBUaHJlc2hvbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBNaW5pbXVtIFVTREMgYmVmb3JlIHN3YXAgYWxsb3dlZAogICAgYnl0ZWMgMTAgLy8gIm1pblN3YXBUaHJlc2hvbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNDMKICAgIC8vIGFzc2VydCh1c2RjQmFsYW5jZSA8IHRoaXMubWluU3dhcFRocmVzaG9sZC52YWx1ZSwgJ0RlcG9zaXRzIHBhdXNlZDogeWllbGQgcGVuZGluZyBzd2FwJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPAogICAgYXNzZXJ0IC8vIERlcG9zaXRzIHBhdXNlZDogeWllbGQgcGVuZGluZyBzd2FwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNDUKICAgIC8vIGNvbnN0IGN1cnJlbnRJbmRleCA9IFR4bi5ncm91cEluZGV4OwogICAgdHhuIEdyb3VwSW5kZXgKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0NgogICAgLy8gYXNzZXJ0KGN1cnJlbnRJbmRleCA+PSBVaW50NjQoMSksICdBcHAgY2FsbCBtdXN0IGZvbGxvdyBhc3NldCB0cmFuc2ZlcicpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gQXBwIGNhbGwgbXVzdCBmb2xsb3cgYXNzZXQgdHJhbnNmZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0OQogICAgLy8gY29uc3QgZGVwb3NpdFRyYW5zZmVyID0gZ3R4bi5Bc3NldFRyYW5zZmVyVHhuKGN1cnJlbnRJbmRleCAtIFVpbnQ2NCgxKSk7CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18yIC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1MAogICAgLy8gYXNzZXJ0KGRlcG9zaXRUcmFuc2Zlci54ZmVyQXNzZXQgPT09IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwgJ011c3QgdHJhbnNmZXIgZGVwb3NpdCBhc3NldCcpOwogICAgZHVwCiAgICBndHhucyBYZmVyQXNzZXQKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MAogICAgLy8gZGVwb3NpdEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgIC8vIEFscGhhIEFTQSBJRCAod2hhdCB1c2VycyBkZXBvc2l0KQogICAgYnl0ZWMgOCAvLyAiZGVwb3NpdEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzUwCiAgICAvLyBhc3NlcnQoZGVwb3NpdFRyYW5zZmVyLnhmZXJBc3NldCA9PT0gQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLCAnTXVzdCB0cmFuc2ZlciBkZXBvc2l0IGFzc2V0Jyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBNdXN0IHRyYW5zZmVyIGRlcG9zaXQgYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1MQogICAgLy8gYXNzZXJ0KGRlcG9zaXRUcmFuc2Zlci5hc3NldFJlY2VpdmVyID09PSBhcHBBZGRyLCAnTXVzdCBzZW5kIHRvIGNvbnRyYWN0Jyk7CiAgICBkdXAKICAgIGd0eG5zIEFzc2V0UmVjZWl2ZXIKICAgIHVuY292ZXIgMgogICAgPT0KICAgIGFzc2VydCAvLyBNdXN0IHNlbmQgdG8gY29udHJhY3QKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1MgogICAgLy8gYXNzZXJ0KGRlcG9zaXRUcmFuc2Zlci5zZW5kZXIgPT09IFR4bi5zZW5kZXIsICdUcmFuc2ZlciBtdXN0IGJlIGZyb20gY2FsbGVyJyk7CiAgICBkdXAKICAgIGd0eG5zIFNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBUcmFuc2ZlciBtdXN0IGJlIGZyb20gY2FsbGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNTQKICAgIC8vIGNvbnN0IGFtb3VudCA9IGRlcG9zaXRUcmFuc2Zlci5hc3NldEFtb3VudDsKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNTUKICAgIC8vIGFzc2VydChhbW91bnQgPj0gTUlOX0RFUE9TSVRfQU1PVU5ULCAnRGVwb3NpdCB0b28gc21hbGwnKTsKICAgIGR1cAogICAgcHVzaGludCAxMDAwMDAwIC8vIDEwMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gRGVwb3NpdCB0b28gc21hbGwKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1OAogICAgLy8gdGhpcy51cGRhdGVFYXJuZWRZaWVsZChUeG4uc2VuZGVyKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgdXBkYXRlRWFybmVkWWllbGQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM2MQogICAgLy8gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgPSB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZSArIGFtb3VudDsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNjEKICAgIC8vIHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgKyBhbW91bnQ7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICArCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNjEKICAgIC8vIHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgKyBhbW91bnQ7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9sb2NhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM2MgogICAgLy8gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID0gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlICsgYW1vdW50OwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzYyCiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgKyBhbW91bnQ7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHRvdGFsRGVwb3NpdHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBBbHBoYSBkZXBvc2l0ZWQgaW4gdmF1bHQKICAgIGJ5dGVjXzAgLy8gInRvdGFsRGVwb3NpdHMiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNjIKICAgIC8vIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSA9IHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSArIGFtb3VudDsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMzYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LndpdGhkcmF3W3JvdXRpbmddKCkgLT4gdm9pZDoKd2l0aGRyYXc6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNjkKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM3MQogICAgLy8gY29uc3QgdXNlckJhbGFuY2UgPSB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNzEKICAgIC8vIGNvbnN0IHVzZXJCYWxhbmNlID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM3NQogICAgLy8gaWYgKHdpdGhkcmF3QW1vdW50ID09PSBVaW50NjQoMCkpIHsKICAgIGJ6IHdpdGhkcmF3X2lmX2JvZHlAMgogICAgZGlnIDEKCndpdGhkcmF3X2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM3OQogICAgLy8gYXNzZXJ0KHdpdGhkcmF3QW1vdW50ID4gVWludDY0KDApLCAnTm90aGluZyB0byB3aXRoZHJhdycpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gTm90aGluZyB0byB3aXRoZHJhdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzgwCiAgICAvLyBhc3NlcnQod2l0aGRyYXdBbW91bnQgPD0gdXNlckJhbGFuY2UsICdJbnN1ZmZpY2llbnQgYmFsYW5jZScpOwogICAgZHVwCiAgICBkaWcgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICA8PQogICAgYXNzZXJ0IC8vIEluc3VmZmljaWVudCBiYWxhbmNlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozODMKICAgIC8vIHRoaXMudXBkYXRlRWFybmVkWWllbGQoVHhuLnNlbmRlcik7CiAgICB0eG4gU2VuZGVyCiAgICBjYWxsc3ViIHVwZGF0ZUVhcm5lZFlpZWxkCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozODYKICAgIC8vIHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlID0gdXNlckJhbGFuY2UgLSB3aXRoZHJhd0Ftb3VudDsKICAgIGRpZyAxCiAgICAtCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozODYKICAgIC8vIHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlID0gdXNlckJhbGFuY2UgLSB3aXRoZHJhd0Ftb3VudDsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mzg3CiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgLSB3aXRoZHJhd0Ftb3VudDsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MQogICAgLy8gdG90YWxEZXBvc2l0cyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIEFscGhhIGRlcG9zaXRlZCBpbiB2YXVsdAogICAgYnl0ZWNfMCAvLyAidG90YWxEZXBvc2l0cyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM4NwogICAgLy8gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID0gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlIC0gd2l0aGRyYXdBbW91bnQ7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDEKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mzg3CiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgLSB3aXRoZHJhd0Ftb3VudDsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozOTAtMzk1CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHdpdGhkcmF3QW1vdW50LAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzkxCiAgICAvLyBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzkyCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MAogICAgLy8gZGVwb3NpdEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgIC8vIEFscGhhIEFTQSBJRCAod2hhdCB1c2VycyBkZXBvc2l0KQogICAgYnl0ZWMgOCAvLyAiZGVwb3NpdEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzkyCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM5MC0zOTUKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogd2l0aGRyYXdBbW91bnQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mzk0CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzkwLTM5NQogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB3aXRoZHJhd0Ftb3VudCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNjkKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgp3aXRoZHJhd19pZl9ib2R5QDI6CiAgICBkdXAKICAgIGIgd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAzCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmNsYWltW3JvdXRpbmddKCkgLT4gdm9pZDoKY2xhaW06CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MDgKICAgIC8vIHRoaXMudXBkYXRlRWFybmVkWWllbGQoVHhuLnNlbmRlcik7CiAgICB0eG4gU2VuZGVyCiAgICBjYWxsc3ViIHVwZGF0ZUVhcm5lZFlpZWxkCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTAKICAgIC8vIGNvbnN0IGNsYWltYWJsZSA9IHRoaXMuZWFybmVkWWllbGQoVHhuLnNlbmRlcikudmFsdWU7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjYKICAgIC8vIGVhcm5lZFlpZWxkID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBBY2N1bXVsYXRlZCB5aWVsZCBub3QgeWV0IGNsYWltZWQKICAgIGJ5dGVjIDUgLy8gImVhcm5lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDEwCiAgICAvLyBjb25zdCBjbGFpbWFibGUgPSB0aGlzLmVhcm5lZFlpZWxkKFR4bi5zZW5kZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTEKICAgIC8vIGFzc2VydChjbGFpbWFibGUgPiBVaW50NjQoMCksICdOb3RoaW5nIHRvIGNsYWltJyk7CiAgICBkdXAKICAgIGFzc2VydCAvLyBOb3RoaW5nIHRvIGNsYWltCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTQKICAgIC8vIHRoaXMuZWFybmVkWWllbGQoVHhuLnNlbmRlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NgogICAgLy8gZWFybmVkWWllbGQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIEFjY3VtdWxhdGVkIHlpZWxkIG5vdCB5ZXQgY2xhaW1lZAogICAgYnl0ZWMgNSAvLyAiZWFybmVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTQKICAgIC8vIHRoaXMuZWFybmVkWWllbGQoVHhuLnNlbmRlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDE3LTQyMgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTgKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTkKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyCiAgICAvLyBzd2FwQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgLy8gUHJvamVjdCdzIEFTQSBJRCAod2hhdCB5aWVsZCBpcyBzd2FwcGVkIHRvKQogICAgYnl0ZWNfMyAvLyAic3dhcEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDE5CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxNy00MjIKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogY2xhaW1hYmxlLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyMQogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxNy00MjIKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogY2xhaW1hYmxlLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwNQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuY2xhaW1DcmVhdG9yW3JvdXRpbmddKCkgLT4gdm9pZDoKY2xhaW1DcmVhdG9yOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDMwCiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5jcmVhdG9yQWRkcmVzcy52YWx1ZSwgJ09ubHkgY3JlYXRvciBjYW4gY2xhaW0nKTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NQogICAgLy8gY3JlYXRvckFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgIC8vIFZhdWx0IGNyZWF0b3Igd2hvIHJlY2VpdmVzIGZlZQogICAgYnl0ZWMgNiAvLyAiY3JlYXRvckFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MzAKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlLCAnT25seSBjcmVhdG9yIGNhbiBjbGFpbScpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBhc3NlcnQgLy8gT25seSBjcmVhdG9yIGNhbiBjbGFpbQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDMyCiAgICAvLyBjb25zdCBjbGFpbWFibGUgPSB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OAogICAgLy8gY3JlYXRvclVuY2xhaW1lZFlpZWxkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBBY2N1bXVsYXRlZCB5aWVsZCBmb3IgY3JlYXRvciB0byBjbGFpbQogICAgYnl0ZWMgNyAvLyAiY3JlYXRvclVuY2xhaW1lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDMyCiAgICAvLyBjb25zdCBjbGFpbWFibGUgPSB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MzMKICAgIC8vIGFzc2VydChjbGFpbWFibGUgPiBVaW50NjQoMCksICdOb3RoaW5nIHRvIGNsYWltJyk7CiAgICBkdXAKICAgIGFzc2VydCAvLyBOb3RoaW5nIHRvIGNsYWltCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OAogICAgLy8gY3JlYXRvclVuY2xhaW1lZFlpZWxkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBBY2N1bXVsYXRlZCB5aWVsZCBmb3IgY3JlYXRvciB0byBjbGFpbQogICAgYnl0ZWMgNyAvLyAiY3JlYXRvclVuY2xhaW1lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDM2CiAgICAvLyB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDM5LTQ0NAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NDAKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NDEKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyCiAgICAvLyBzd2FwQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgLy8gUHJvamVjdCdzIEFTQSBJRCAod2hhdCB5aWVsZCBpcyBzd2FwcGVkIHRvKQogICAgYnl0ZWNfMyAvLyAic3dhcEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDQxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQzOS00NDQKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogY2xhaW1hYmxlLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ0MwogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQzOS00NDQKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogY2xhaW1hYmxlLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyOAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuc3dhcFlpZWxkW3JvdXRpbmddKCkgLT4gdm9pZDoKc3dhcFlpZWxkOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDYyCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDY0CiAgICAvLyBjb25zdCBpc0NyZWF0b3IgPSBUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ1CiAgICAvLyBjcmVhdG9yQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgLy8gVmF1bHQgY3JlYXRvciB3aG8gcmVjZWl2ZXMgZmVlCiAgICBieXRlYyA2IC8vICJjcmVhdG9yQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2NAogICAgLy8gY29uc3QgaXNDcmVhdG9yID0gVHhuLnNlbmRlciA9PT0gdGhpcy5jcmVhdG9yQWRkcmVzcy52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDY1CiAgICAvLyBjb25zdCBpc1JhcmVmaSA9IFR4bi5zZW5kZXIgPT09IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NgogICAgLy8gcmFyZWZpQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgIC8vIFJhcmVGaSBwbGF0Zm9ybSBhZGRyZXNzIChjYW4gYWxzbyB0cmlnZ2VyIHN3YXBzKQogICAgYnl0ZWMgOSAvLyAicmFyZWZpQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2NQogICAgLy8gY29uc3QgaXNSYXJlZmkgPSBUeG4uc2VuZGVyID09PSB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2NgogICAgLy8gYXNzZXJ0KGlzQ3JlYXRvciB8fCBpc1JhcmVmaSwgJ09ubHkgY3JlYXRvciBvciBSYXJlRmkgY2FuIHN3YXAnKTsKICAgIHx8CiAgICBhc3NlcnQgLy8gT25seSBjcmVhdG9yIG9yIFJhcmVGaSBjYW4gc3dhcAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDY3CiAgICAvLyBhc3NlcnQoc2xpcHBhZ2VCcHMgPD0gTUFYX1NMSVBQQUdFX0JQUywgJ1NsaXBwYWdlIHRvbyBoaWdoIChtYXggMTAlKScpOwogICAgZHVwCiAgICBwdXNoaW50IDEwMDAgLy8gMTAwMAogICAgPD0KICAgIGFzc2VydCAvLyBTbGlwcGFnZSB0b28gaGlnaCAobWF4IDEwJSkKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2OQogICAgLy8gY29uc3QgYXBwQWRkcjogQWNjb3VudCA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzOwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ3MAogICAgLy8gY29uc3QgdXNkY0JhbGFuY2UgPSBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDEKICAgIC8vIHlpZWxkQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBVU0RDIEFTQSBJRCAod2hhdCBhaXJkcm9wcyBjb21lIGluIGFzKQogICAgYnl0ZWNfMiAvLyAieWllbGRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ3MAogICAgLy8gY29uc3QgdXNkY0JhbGFuY2UgPSBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDEKICAgIHN3YXAKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDcyCiAgICAvLyBhc3NlcnQodXNkY0JhbGFuY2UgPj0gdGhpcy5taW5Td2FwVGhyZXNob2xkLnZhbHVlLCAnQmVsb3cgbWluaW11bSBzd2FwIHRocmVzaG9sZCcpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUzCiAgICAvLyBtaW5Td2FwVGhyZXNob2xkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgLy8gTWluaW11bSBVU0RDIGJlZm9yZSBzd2FwIGFsbG93ZWQKICAgIGJ5dGVjIDEwIC8vICJtaW5Td2FwVGhyZXNob2xkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDcyCiAgICAvLyBhc3NlcnQodXNkY0JhbGFuY2UgPj0gdGhpcy5taW5Td2FwVGhyZXNob2xkLnZhbHVlLCAnQmVsb3cgbWluaW11bSBzd2FwIHRocmVzaG9sZCcpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICA8PQogICAgYXNzZXJ0IC8vIEJlbG93IG1pbmltdW0gc3dhcCB0aHJlc2hvbGQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ3MwogICAgLy8gYXNzZXJ0KHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSA+IFVpbnQ2NCgwKSwgJ05vIGRlcG9zaXRvcnMgdG8gZGlzdHJpYnV0ZSB0bycpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDczCiAgICAvLyBhc3NlcnQodGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID4gVWludDY0KDApLCAnTm8gZGVwb3NpdG9ycyB0byBkaXN0cmlidXRlIHRvJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYXNzZXJ0IC8vIE5vIGRlcG9zaXRvcnMgdG8gZGlzdHJpYnV0ZSB0bwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDc2CiAgICAvLyBjb25zdCBleHBlY3RlZE91dHB1dCA9IHRoaXMuZ2V0RXhwZWN0ZWRTd2FwT3V0cHV0KHVzZGNCYWxhbmNlKTsKICAgIGR1cAogICAgY2FsbHN1YiBnZXRFeHBlY3RlZFN3YXBPdXRwdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ3NwogICAgLy8gYXNzZXJ0KGV4cGVjdGVkT3V0cHV0ID4gVWludDY0KDApLCAnRXhwZWN0ZWQgb3V0cHV0IGlzIHplcm8nKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIEV4cGVjdGVkIG91dHB1dCBpcyB6ZXJvCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0ODAKICAgIC8vIGNvbnN0IG1pbkFtb3VudE91dCA9IHRoaXMubXVsRGl2Rmxvb3IoZXhwZWN0ZWRPdXRwdXQsIEZFRV9CUFNfQkFTRSAtIHNsaXBwYWdlQnBzLCBGRUVfQlBTX0JBU0UpOwogICAgaW50YyA0IC8vIDEwMDAwCiAgICB1bmNvdmVyIDQKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc3CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4MAogICAgLy8gY29uc3QgbWluQW1vdW50T3V0ID0gdGhpcy5tdWxEaXZGbG9vcihleHBlY3RlZE91dHB1dCwgRkVFX0JQU19CQVNFIC0gc2xpcHBhZ2VCcHMsIEZFRV9CUFNfQkFTRSk7CiAgICBpbnRjIDQgLy8gMTAwMDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OQogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ011bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4MwogICAgLy8gY29uc3Qgc3dhcEFzc2V0QmVmb3JlID0gQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDIKICAgIC8vIHN3YXBBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAvLyBQcm9qZWN0J3MgQVNBIElEICh3aGF0IHlpZWxkIGlzIHN3YXBwZWQgdG8pCiAgICBieXRlY18zIC8vICJzd2FwQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0ODMKICAgIC8vIGNvbnN0IHN3YXBBc3NldEJlZm9yZSA9IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAzCiAgICBkaWcgMQogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0ODctNTA3CiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKAogICAgLy8gICAvLyBUcmFuc2FjdGlvbiAxOiBTZW5kIFVTREMgdG8gcG9vbAogICAgLy8gICBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKSwKICAgIC8vICAgICBhc3NldEFtb3VudDogdXNkY0JhbGFuY2UsCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gICAvLyBUcmFuc2FjdGlvbiAyOiBDYWxsIFRpbnltYW4gcG9vbCB0byBleGVjdXRlIHN3YXAKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUpLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgIEJ5dGVzKCdzd2FwJyksCiAgICAvLyAgICAgICBCeXRlcygnZml4ZWQtaW5wdXQnKSwKICAgIC8vICAgICAgIGl0b2IobWluQW1vdW50T3V0KSwKICAgIC8vICAgICBdLAogICAgLy8gICAgIGFzc2V0czogW0Fzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKV0sICAvLyBPbmx5IG91dHB1dCBhc3NldCBuZWVkZWQKICAgIC8vICAgICBhY2NvdW50czogW3RoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlXSwKICAgIC8vICAgICBmZWU6IFVpbnQ2NCgwKSwgIC8vIFVzZSBmZWUgcG9vbGluZyAtIG91dGVyIHR4biBjb3ZlcnMgZmVlcwogICAgLy8gICB9KSwKICAgIC8vICk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OTAKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU4CiAgICAvLyB0aW55bWFuUG9vbEFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAvLyBUaW55bWFuIHBvb2wgYWRkcmVzcwogICAgYnl0ZWMgMTMgLy8gInRpbnltYW5Qb29sQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ5MAogICAgLy8gYXNzZXRSZWNlaXZlcjogdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDkxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDEKICAgIC8vIHlpZWxkQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBVU0RDIEFTQSBJRCAod2hhdCBhaXJkcm9wcyBjb21lIGluIGFzKQogICAgYnl0ZWNfMiAvLyAieWllbGRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ5MQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgNQogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0ODktNDk0CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiB0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZSwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNkY0JhbGFuY2UsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSksCiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDkzCiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDk2LTUwNgogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICBhcHBJZDogQXBwbGljYXRpb24odGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlKSwKICAgIC8vICAgYXBwQXJnczogWwogICAgLy8gICAgIEJ5dGVzKCdzd2FwJyksCiAgICAvLyAgICAgQnl0ZXMoJ2ZpeGVkLWlucHV0JyksCiAgICAvLyAgICAgaXRvYihtaW5BbW91bnRPdXQpLAogICAgLy8gICBdLAogICAgLy8gICBhc3NldHM6IFtBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSldLCAgLy8gT25seSBvdXRwdXQgYXNzZXQgbmVlZGVkCiAgICAvLyAgIGFjY291bnRzOiBbdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWVdLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwgIC8vIFVzZSBmZWUgcG9vbGluZyAtIG91dGVyIHR4biBjb3ZlcnMgZmVlcwogICAgLy8gfSksCiAgICBpdHhuX25leHQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ5NwogICAgLy8gYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTcKICAgIC8vIHRpbnltYW5Qb29sQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBUaW55bWFuIFYyIHBvb2wgYXBwIElEIChVU0RDL3N3YXBBc3NldCkKICAgIGJ5dGVjIDEyIC8vICJ0aW55bWFuUG9vbEFwcElkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDk3CiAgICAvLyBhcHBJZDogQXBwbGljYXRpb24odGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MDEKICAgIC8vIGl0b2IobWluQW1vdW50T3V0KSwKICAgIGRpZyA0CiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQWNjb3VudHMKICAgIGRpZyAzCiAgICBpdHhuX2ZpZWxkIEFzc2V0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDk5CiAgICAvLyBCeXRlcygnc3dhcCcpLAogICAgcHVzaGJ5dGVzICJzd2FwIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUwMAogICAgLy8gQnl0ZXMoJ2ZpeGVkLWlucHV0JyksCiAgICBwdXNoYnl0ZXMgImZpeGVkLWlucHV0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ5Ni01MDYKICAgIC8vIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZSksCiAgICAvLyAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICBCeXRlcygnc3dhcCcpLAogICAgLy8gICAgIEJ5dGVzKCdmaXhlZC1pbnB1dCcpLAogICAgLy8gICAgIGl0b2IobWluQW1vdW50T3V0KSwKICAgIC8vICAgXSwKICAgIC8vICAgYXNzZXRzOiBbQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpXSwgIC8vIE9ubHkgb3V0cHV0IGFzc2V0IG5lZWRlZAogICAgLy8gICBhY2NvdW50czogW3RoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlXSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksICAvLyBVc2UgZmVlIHBvb2xpbmcgLSBvdXRlciB0eG4gY292ZXJzIGZlZXMKICAgIC8vIH0pLAogICAgcHVzaGludCA2IC8vIDYKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUwNQogICAgLy8gZmVlOiBVaW50NjQoMCksICAvLyBVc2UgZmVlIHBvb2xpbmcgLSBvdXRlciB0eG4gY292ZXJzIGZlZXMKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDg3LTUwNwogICAgLy8gaXR4bi5zdWJtaXRHcm91cCgKICAgIC8vICAgLy8gVHJhbnNhY3Rpb24gMTogU2VuZCBVU0RDIHRvIHBvb2wKICAgIC8vICAgaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHVzZGNCYWxhbmNlLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICAgLy8gVHJhbnNhY3Rpb24gMjogQ2FsbCBUaW55bWFuIHBvb2wgdG8gZXhlY3V0ZSBzd2FwCiAgICAvLyAgIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogQXBwbGljYXRpb24odGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlKSwKICAgIC8vICAgICBhcHBBcmdzOiBbCiAgICAvLyAgICAgICBCeXRlcygnc3dhcCcpLAogICAgLy8gICAgICAgQnl0ZXMoJ2ZpeGVkLWlucHV0JyksCiAgICAvLyAgICAgICBpdG9iKG1pbkFtb3VudE91dCksCiAgICAvLyAgICAgXSwKICAgIC8vICAgICBhc3NldHM6IFtBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSldLCAgLy8gT25seSBvdXRwdXQgYXNzZXQgbmVlZGVkCiAgICAvLyAgICAgYWNjb3VudHM6IFt0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZV0sCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksICAvLyBVc2UgZmVlIHBvb2xpbmcgLSBvdXRlciB0eG4gY292ZXJzIGZlZXMKICAgIC8vICAgfSksCiAgICAvLyApOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxMAogICAgLy8gY29uc3Qgc3dhcEFzc2V0QWZ0ZXI6IHVpbnQ2NCA9IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTExCiAgICAvLyBjb25zdCBzd2FwT3V0cHV0OiB1aW50NjQgPSBzd2FwQXNzZXRBZnRlciAtIHN3YXBBc3NldEJlZm9yZTsKICAgIHN3YXAKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxMwogICAgLy8gYXNzZXJ0KHN3YXBPdXRwdXQgPj0gbWluQW1vdW50T3V0LCAnU3dhcCBvdXRwdXQgYmVsb3cgbWluaW11bScpOwogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgID49CiAgICBhc3NlcnQgLy8gU3dhcCBvdXRwdXQgYmVsb3cgbWluaW11bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTE2CiAgICAvLyB0aGlzLnRvdGFsWWllbGRHZW5lcmF0ZWQudmFsdWUgPSB0aGlzLnRvdGFsWWllbGRHZW5lcmF0ZWQudmFsdWUgKyBzd2FwT3V0cHV0OwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0CiAgICAvLyB0b3RhbFlpZWxkR2VuZXJhdGVkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBUb3RhbCB5aWVsZCBnZW5lcmF0ZWQgZnJvbSBzd2FwcyAoc3dhcCBvdXRwdXQgaW4gc3dhcEFzc2V0KQogICAgYnl0ZWMgMTEgLy8gInRvdGFsWWllbGRHZW5lcmF0ZWQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MTYKICAgIC8vIHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZSA9IHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZSArIHN3YXBPdXRwdXQ7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDEKICAgICsKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0CiAgICAvLyB0b3RhbFlpZWxkR2VuZXJhdGVkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBUb3RhbCB5aWVsZCBnZW5lcmF0ZWQgZnJvbSBzd2FwcyAoc3dhcCBvdXRwdXQgaW4gc3dhcEFzc2V0KQogICAgYnl0ZWMgMTEgLy8gInRvdGFsWWllbGRHZW5lcmF0ZWQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MTYKICAgIC8vIHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZSA9IHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZSArIHN3YXBPdXRwdXQ7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTE5CiAgICAvLyBjb25zdCBjcmVhdG9yQ3V0OiB1aW50NjQgPSB0aGlzLm11bERpdkZsb29yKHN3YXBPdXRwdXQsIHRoaXMuY3JlYXRvckZlZVJhdGUudmFsdWUsIE1BWF9GRUVfUkFURSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDcKICAgIC8vIGNyZWF0b3JGZWVSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAvLyAwLTEwMCwgcGVyY2VudGFnZSBvZiB5aWVsZCB0byBjcmVhdG9yCiAgICBieXRlYyAxNiAvLyAiY3JlYXRvckZlZVJhdGUiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MTkKICAgIC8vIGNvbnN0IGNyZWF0b3JDdXQ6IHVpbnQ2NCA9IHRoaXMubXVsRGl2Rmxvb3Ioc3dhcE91dHB1dCwgdGhpcy5jcmVhdG9yRmVlUmF0ZS52YWx1ZSwgTUFYX0ZFRV9SQVRFKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NwogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBkaWcgMQogICAgbXVsdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzgKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTE5CiAgICAvLyBjb25zdCBjcmVhdG9yQ3V0OiB1aW50NjQgPSB0aGlzLm11bERpdkZsb29yKHN3YXBPdXRwdXQsIHRoaXMuY3JlYXRvckZlZVJhdGUudmFsdWUsIE1BWF9GRUVfUkFURSk7CiAgICBwdXNoaW50IDEwMCAvLyAxMDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OQogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ011bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyMAogICAgLy8gY29uc3QgdXNlckN1dDogdWludDY0ID0gc3dhcE91dHB1dCAtIGNyZWF0b3JDdXQ7CiAgICBzd2FwCiAgICBkaWcgMQogICAgLQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyMwogICAgLy8gdGhpcy5jcmVhdG9yVW5jbGFpbWVkWWllbGQudmFsdWUgPSB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSArIGNyZWF0b3JDdXQ7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDgKICAgIC8vIGNyZWF0b3JVbmNsYWltZWRZaWVsZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgLy8gQWNjdW11bGF0ZWQgeWllbGQgZm9yIGNyZWF0b3IgdG8gY2xhaW0KICAgIGJ5dGVjIDcgLy8gImNyZWF0b3JVbmNsYWltZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyMwogICAgLy8gdGhpcy5jcmVhdG9yVW5jbGFpbWVkWWllbGQudmFsdWUgPSB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSArIGNyZWF0b3JDdXQ7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDgKICAgIC8vIGNyZWF0b3JVbmNsYWltZWRZaWVsZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgLy8gQWNjdW11bGF0ZWQgeWllbGQgZm9yIGNyZWF0b3IgdG8gY2xhaW0KICAgIGJ5dGVjIDcgLy8gImNyZWF0b3JVbmNsYWltZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyMwogICAgLy8gdGhpcy5jcmVhdG9yVW5jbGFpbWVkWWllbGQudmFsdWUgPSB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSArIGNyZWF0b3JDdXQ7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTI3CiAgICAvLyBpZiAodXNlckN1dCA+IFVpbnQ2NCgwKSkgewogICAgYnogc3dhcFlpZWxkX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTI4CiAgICAvLyBjb25zdCB5aWVsZEluY3JlYXNlOiB1aW50NjQgPSB0aGlzLm11bERpdkZsb29yKHVzZXJDdXQsIFNDQUxFLCB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTI4CiAgICAvLyBjb25zdCB5aWVsZEluY3JlYXNlOiB1aW50NjQgPSB0aGlzLm11bERpdkZsb29yKHVzZXJDdXQsIFNDQUxFLCB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc3CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGRpZyAxCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MjgKICAgIC8vIGNvbnN0IHlpZWxkSW5jcmVhc2U6IHVpbnQ2NCA9IHRoaXMubXVsRGl2Rmxvb3IodXNlckN1dCwgU0NBTEUsIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSk7CiAgICBpbnRjIDUgLy8gMTAwMDAwMDAwMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgbXVsdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzgKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAzCiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc5CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTI5CiAgICAvLyB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWUgPSB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWUgKyB5aWVsZEluY3JlYXNlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyCiAgICAvLyB5aWVsZFBlclRva2VuID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gQWNjdW11bGF0b3IgZm9yIHlpZWxkIGRpc3RyaWJ1dGlvbiAoc2NhbGVkIGJ5IFNDQUxFKQogICAgYnl0ZWMgNCAvLyAieWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyOQogICAgLy8gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlID0gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlICsgeWllbGRJbmNyZWFzZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICArCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MgogICAgLy8geWllbGRQZXJUb2tlbiA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIEFjY3VtdWxhdG9yIGZvciB5aWVsZCBkaXN0cmlidXRpb24gKHNjYWxlZCBieSBTQ0FMRSkKICAgIGJ5dGVjIDQgLy8gInlpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MjkKICAgIC8vIHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZSA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZSArIHlpZWxkSW5jcmVhc2U7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAoKc3dhcFlpZWxkX2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZ2V0VmF1bHRTdGF0c1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFZhdWx0U3RhdHM6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDIKICAgIC8vIGNvbnN0IGFwcEFkZHI6IEFjY291bnQgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzczsKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDMKICAgIC8vIGNvbnN0IHVzZGNCYWxhbmNlID0gQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxCiAgICAvLyB5aWVsZEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBBU0EgSUQgKHdoYXQgYWlyZHJvcHMgY29tZSBpbiBhcykKICAgIGJ5dGVjXzIgLy8gInlpZWxkQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDMKICAgIC8vIGNvbnN0IHVzZGNCYWxhbmNlID0gQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICBzd2FwCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0NAogICAgLy8gY29uc3Qgc3dhcEFzc2V0QmFsYW5jZSA9IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyCiAgICAvLyBzd2FwQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgLy8gUHJvamVjdCdzIEFTQSBJRCAod2hhdCB5aWVsZCBpcyBzd2FwcGVkIHRvKQogICAgYnl0ZWNfMyAvLyAic3dhcEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTQ0CiAgICAvLyBjb25zdCBzd2FwQXNzZXRCYWxhbmNlID0gQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0OAogICAgLy8gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTQ4CiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTQ5CiAgICAvLyB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTIKICAgIC8vIHlpZWxkUGVyVG9rZW4gPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBBY2N1bXVsYXRvciBmb3IgeWllbGQgZGlzdHJpYnV0aW9uIChzY2FsZWQgYnkgU0NBTEUpCiAgICBieXRlYyA0IC8vICJ5aWVsZFBlclRva2VuIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTQ5CiAgICAvLyB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTUwCiAgICAvLyB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OAogICAgLy8gY3JlYXRvclVuY2xhaW1lZFlpZWxkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBBY2N1bXVsYXRlZCB5aWVsZCBmb3IgY3JlYXRvciB0byBjbGFpbQogICAgYnl0ZWMgNyAvLyAiY3JlYXRvclVuY2xhaW1lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTUwCiAgICAvLyB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NTMKICAgIC8vIHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0CiAgICAvLyB0b3RhbFlpZWxkR2VuZXJhdGVkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBUb3RhbCB5aWVsZCBnZW5lcmF0ZWQgZnJvbSBzd2FwcyAoc3dhcCBvdXRwdXQgaW4gc3dhcEFzc2V0KQogICAgYnl0ZWMgMTEgLy8gInRvdGFsWWllbGRHZW5lcmF0ZWQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NTMKICAgIC8vIHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0Ny01NTQKICAgIC8vIHJldHVybiBbCiAgICAvLyAgIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSwKICAgIC8vICAgdGhpcy55aWVsZFBlclRva2VuLnZhbHVlLAogICAgLy8gICB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSwKICAgIC8vICAgdXNkY0JhbGFuY2UsCiAgICAvLyAgIHN3YXBBc3NldEJhbGFuY2UsCiAgICAvLyAgIHRoaXMudG90YWxZaWVsZEdlbmVyYXRlZC52YWx1ZQogICAgLy8gXTsKICAgIHVuY292ZXIgMwogICAgaXRvYgogICAgdW5jb3ZlciAzCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgY29uY2F0CiAgICB1bmNvdmVyIDMKICAgIGl0b2IKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTQwCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWMgMTUgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZ2V0UGVuZGluZ1lpZWxkW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0UGVuZGluZ1lpZWxkOgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2MgogICAgLy8gY29uc3QgZGVwb3NpdGVkID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQodXNlcikudmFsdWU7CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NjIKICAgIC8vIGNvbnN0IGRlcG9zaXRlZCA9IHRoaXMuZGVwb3NpdGVkQW1vdW50KHVzZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAzCiAgICBjb3ZlciAzCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2MwogICAgLy8gbGV0IHBlbmRpbmcgPSB0aGlzLmVhcm5lZFlpZWxkKHVzZXIpLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY2CiAgICAvLyBlYXJuZWRZaWVsZCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gQWNjdW11bGF0ZWQgeWllbGQgbm90IHlldCBjbGFpbWVkCiAgICBieXRlYyA1IC8vICJlYXJuZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2MwogICAgLy8gbGV0IHBlbmRpbmcgPSB0aGlzLmVhcm5lZFlpZWxkKHVzZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NjUKICAgIC8vIGlmIChkZXBvc2l0ZWQgPiBVaW50NjQoMCkpIHsKICAgIGJ6IGdldFBlbmRpbmdZaWVsZF9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2NgogICAgLy8gY29uc3QgY3VycmVudFlQVCA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MgogICAgLy8geWllbGRQZXJUb2tlbiA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIEFjY3VtdWxhdG9yIGZvciB5aWVsZCBkaXN0cmlidXRpb24gKHNjYWxlZCBieSBTQ0FMRSkKICAgIGJ5dGVjIDQgLy8gInlpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NjYKICAgIC8vIGNvbnN0IGN1cnJlbnRZUFQgPSB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDcKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2NwogICAgLy8gY29uc3QgdXNlcllQVCA9IHRoaXMudXNlcllpZWxkUGVyVG9rZW4odXNlcikudmFsdWU7CiAgICBkaWcgMwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY1CiAgICAvLyB1c2VyWWllbGRQZXJUb2tlbiA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgLy8gU25hcHNob3Qgb2YgeWllbGRQZXJUb2tlbiBhdCBsYXN0IGFjdGlvbgogICAgYnl0ZWMgMTQgLy8gInVzZXJZaWVsZFBlclRva2VuIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTY3CiAgICAvLyBjb25zdCB1c2VyWVBUID0gdGhpcy51c2VyWWllbGRQZXJUb2tlbih1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSA3CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2OQogICAgLy8gaWYgKGN1cnJlbnRZUFQgPiB1c2VyWVBUKSB7CiAgICA+CiAgICBieiBnZXRQZW5kaW5nWWllbGRfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NzAKICAgIC8vIHBlbmRpbmcgPSBwZW5kaW5nICsgdGhpcy5tdWxEaXZGbG9vcihkZXBvc2l0ZWQsIGN1cnJlbnRZUFQgLSB1c2VyWVBULCBTQ0FMRSk7CiAgICBkaWcgNAogICAgZGlnIDQKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc3CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGRpZyAyCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OAogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NzAKICAgIC8vIHBlbmRpbmcgPSBwZW5kaW5nICsgdGhpcy5tdWxEaXZGbG9vcihkZXBvc2l0ZWQsIGN1cnJlbnRZUFQgLSB1c2VyWVBULCBTQ0FMRSk7CiAgICBpbnRjIDUgLy8gMTAwMDAwMDAwMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzgKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc5CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTcwCiAgICAvLyBwZW5kaW5nID0gcGVuZGluZyArIHRoaXMubXVsRGl2Rmxvb3IoZGVwb3NpdGVkLCBjdXJyZW50WVBUIC0gdXNlcllQVCwgU0NBTEUpOwogICAgZGlnIDEKICAgICsKICAgIGJ1cnkgMQoKZ2V0UGVuZGluZ1lpZWxkX2FmdGVyX2lmX2Vsc2VANToKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGR1cAogICAgaXRvYgogICAgYnl0ZWMgMTUgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZ2V0VXNlckRlcG9zaXRbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRVc2VyRGVwb3NpdDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU4MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU4MgogICAgLy8gcmV0dXJuIHRoaXMuZGVwb3NpdGVkQW1vdW50KHVzZXIpLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY0CiAgICAvLyBkZXBvc2l0ZWRBbW91bnQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gVXNlcidzIEFscGhhIGJhbGFuY2UgaW4gdmF1bHQKICAgIGJ5dGVjXzEgLy8gImRlcG9zaXRlZEFtb3VudCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU4MgogICAgLy8gcmV0dXJuIHRoaXMuZGVwb3NpdGVkQW1vdW50KHVzZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1ODAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBpdG9iCiAgICBieXRlYyAxNSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5nZXRTd2FwUXVvdGVbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRTd2FwUXVvdGU6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1OTIKICAgIC8vIGNvbnN0IGFwcEFkZHI6IEFjY291bnQgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzczsKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1OTMKICAgIC8vIGNvbnN0IHVzZGNCYWxhbmNlID0gQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxCiAgICAvLyB5aWVsZEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBBU0EgSUQgKHdoYXQgYWlyZHJvcHMgY29tZSBpbiBhcykKICAgIGJ5dGVjXzIgLy8gInlpZWxkQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1OTMKICAgIC8vIGNvbnN0IHVzZGNCYWxhbmNlID0gQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU5NQogICAgLy8gaWYgKHVzZGNCYWxhbmNlID09PSBVaW50NjQoMCkpIHsKICAgIGJueiBnZXRTd2FwUXVvdGVfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1OTYKICAgIC8vIHJldHVybiBbVWludDY0KDApLCBVaW50NjQoMCksIFVpbnQ2NCgwKV07CiAgICBwdXNoYnl0ZXMgMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKCmdldFN3YXBRdW90ZV9hZnRlcl9pbmxpbmVkX2NvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5nZXRTd2FwUXVvdGVANDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU5MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjIDE1IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpnZXRTd2FwUXVvdGVfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTk5CiAgICAvLyBjb25zdCBleHBlY3RlZE91dHB1dCA9IHRoaXMuZ2V0RXhwZWN0ZWRTd2FwT3V0cHV0KHVzZGNCYWxhbmNlKTsKICAgIGR1cG4gMgogICAgY2FsbHN1YiBnZXRFeHBlY3RlZFN3YXBPdXRwdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc3CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGR1cAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjAxCiAgICAvLyBjb25zdCBtaW5BdDUwQnBzID0gdGhpcy5tdWxEaXZGbG9vcihleHBlY3RlZE91dHB1dCwgRkVFX0JQU19CQVNFIC0gVWludDY0KDUwKSwgRkVFX0JQU19CQVNFKTsKICAgIHB1c2hpbnQgOTk1MCAvLyA5OTUwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NwogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OAogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MDEKICAgIC8vIGNvbnN0IG1pbkF0NTBCcHMgPSB0aGlzLm11bERpdkZsb29yKGV4cGVjdGVkT3V0cHV0LCBGRUVfQlBTX0JBU0UgLSBVaW50NjQoNTApLCBGRUVfQlBTX0JBU0UpOwogICAgaW50YyA0IC8vIDEwMDAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OAogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzkKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE11bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MDMKICAgIC8vIHJldHVybiBbdXNkY0JhbGFuY2UsIGV4cGVjdGVkT3V0cHV0LCBtaW5BdDUwQnBzXTsKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTkwCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYiBnZXRTd2FwUXVvdGVfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZ2V0U3dhcFF1b3RlQDQKCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQudXBkYXRlTWluU3dhcFRocmVzaG9sZFtyb3V0aW5nXSgpIC0+IHZvaWQ6CnVwZGF0ZU1pblN3YXBUaHJlc2hvbGQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MTMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MTUKICAgIC8vIGNvbnN0IGlzQ3JlYXRvciA9IFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvckFkZHJlc3MudmFsdWU7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDUKICAgIC8vIGNyZWF0b3JBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAvLyBWYXVsdCBjcmVhdG9yIHdobyByZWNlaXZlcyBmZWUKICAgIGJ5dGVjIDYgLy8gImNyZWF0b3JBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjE1CiAgICAvLyBjb25zdCBpc0NyZWF0b3IgPSBUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MTYKICAgIC8vIGNvbnN0IGlzUmFyZWZpID0gVHhuLnNlbmRlciA9PT0gdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2CiAgICAvLyByYXJlZmlBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAgLy8gUmFyZUZpIHBsYXRmb3JtIGFkZHJlc3MgKGNhbiBhbHNvIHRyaWdnZXIgc3dhcHMpCiAgICBieXRlYyA5IC8vICJyYXJlZmlBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjE2CiAgICAvLyBjb25zdCBpc1JhcmVmaSA9IFR4bi5zZW5kZXIgPT09IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjE3CiAgICAvLyBhc3NlcnQoaXNDcmVhdG9yIHx8IGlzUmFyZWZpLCAnT25seSBjcmVhdG9yIG9yIFJhcmVGaSBjYW4gdXBkYXRlJyk7CiAgICB8fAogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBvciBSYXJlRmkgY2FuIHVwZGF0ZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjE4CiAgICAvLyBhc3NlcnQobmV3VGhyZXNob2xkID49IE1JTl9TV0FQX0FNT1VOVCwgJ1RocmVzaG9sZCB0b28gbG93Jyk7CiAgICBkdXAKICAgIGludGMgNiAvLyAyMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gVGhyZXNob2xkIHRvbyBsb3cKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUzCiAgICAvLyBtaW5Td2FwVGhyZXNob2xkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgLy8gTWluaW11bSBVU0RDIGJlZm9yZSBzd2FwIGFsbG93ZWQKICAgIGJ5dGVjIDEwIC8vICJtaW5Td2FwVGhyZXNob2xkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjE5CiAgICAvLyB0aGlzLm1pblN3YXBUaHJlc2hvbGQudmFsdWUgPSBuZXdUaHJlc2hvbGQ7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjEzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC51cGRhdGVUaW55bWFuUG9vbFtyb3V0aW5nXSgpIC0+IHZvaWQ6CnVwZGF0ZVRpbnltYW5Qb29sOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjI2CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjI4CiAgICAvLyBjb25zdCBpc0NyZWF0b3IgPSBUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ1CiAgICAvLyBjcmVhdG9yQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgLy8gVmF1bHQgY3JlYXRvciB3aG8gcmVjZWl2ZXMgZmVlCiAgICBieXRlYyA2IC8vICJjcmVhdG9yQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYyOAogICAgLy8gY29uc3QgaXNDcmVhdG9yID0gVHhuLnNlbmRlciA9PT0gdGhpcy5jcmVhdG9yQWRkcmVzcy52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjI5CiAgICAvLyBjb25zdCBpc1JhcmVmaSA9IFR4bi5zZW5kZXIgPT09IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NgogICAgLy8gcmFyZWZpQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgIC8vIFJhcmVGaSBwbGF0Zm9ybSBhZGRyZXNzIChjYW4gYWxzbyB0cmlnZ2VyIHN3YXBzKQogICAgYnl0ZWMgOSAvLyAicmFyZWZpQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYyOQogICAgLy8gY29uc3QgaXNSYXJlZmkgPSBUeG4uc2VuZGVyID09PSB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzMAogICAgLy8gYXNzZXJ0KGlzQ3JlYXRvciB8fCBpc1JhcmVmaSwgJ09ubHkgY3JlYXRvciBvciBSYXJlRmkgY2FuIHVwZGF0ZScpOwogICAgfHwKICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3Igb3IgUmFyZUZpIGNhbiB1cGRhdGUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzMQogICAgLy8gYXNzZXJ0KG5ld1Bvb2xBcHBJZCAhPT0gVWludDY0KDApLCAnSW52YWxpZCBwb29sIGFwcCBJRCcpOwogICAgZGlnIDEKICAgIGFzc2VydCAvLyBJbnZhbGlkIHBvb2wgYXBwIElECiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NwogICAgLy8gdGlueW1hblBvb2xBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFRpbnltYW4gVjIgcG9vbCBhcHAgSUQgKFVTREMvc3dhcEFzc2V0KQogICAgYnl0ZWMgMTIgLy8gInRpbnltYW5Qb29sQXBwSWQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MzIKICAgIC8vIHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZSA9IG5ld1Bvb2xBcHBJZDsKICAgIHVuY292ZXIgMgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU4CiAgICAvLyB0aW55bWFuUG9vbEFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAvLyBUaW55bWFuIHBvb2wgYWRkcmVzcwogICAgYnl0ZWMgMTMgLy8gInRpbnltYW5Qb29sQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzMwogICAgLy8gdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWUgPSBuZXdQb29sQWRkcmVzczsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MjYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LnVwZGF0ZUVhcm5lZFlpZWxkKHVzZXI6IGJ5dGVzKSAtPiB2b2lkOgp1cGRhdGVFYXJuZWRZaWVsZDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjg3CiAgICAvLyBwcml2YXRlIHVwZGF0ZUVhcm5lZFlpZWxkKHVzZXI6IEFjY291bnQpOiB2b2lkIHsKICAgIHByb3RvIDEgMAogICAgcHVzaGJ5dGVzICIiCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjg4CiAgICAvLyBjb25zdCBkZXBvc2l0ZWQgPSB0aGlzLmRlcG9zaXRlZEFtb3VudCh1c2VyKS52YWx1ZTsKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY0CiAgICAvLyBkZXBvc2l0ZWRBbW91bnQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gVXNlcidzIEFscGhhIGJhbGFuY2UgaW4gdmF1bHQKICAgIGJ5dGVjXzEgLy8gImRlcG9zaXRlZEFtb3VudCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjg4CiAgICAvLyBjb25zdCBkZXBvc2l0ZWQgPSB0aGlzLmRlcG9zaXRlZEFtb3VudCh1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjkwCiAgICAvLyBpZiAoZGVwb3NpdGVkID4gVWludDY0KDApKSB7CiAgICBieiB1cGRhdGVFYXJuZWRZaWVsZF9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjkyCiAgICAvLyBjb25zdCBjdXJyZW50WVBUID0gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyCiAgICAvLyB5aWVsZFBlclRva2VuID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gQWNjdW11bGF0b3IgZm9yIHlpZWxkIGRpc3RyaWJ1dGlvbiAoc2NhbGVkIGJ5IFNDQUxFKQogICAgYnl0ZWMgNCAvLyAieWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjkyCiAgICAvLyBjb25zdCBjdXJyZW50WVBUID0gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgZnJhbWVfYnVyeSAwCiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo5MwogICAgLy8gY29uc3QgdXNlcllQVCA9IHRoaXMudXNlcllpZWxkUGVyVG9rZW4odXNlcikudmFsdWU7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NQogICAgLy8gdXNlcllpZWxkUGVyVG9rZW4gPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFNuYXBzaG90IG9mIHlpZWxkUGVyVG9rZW4gYXQgbGFzdCBhY3Rpb24KICAgIGJ5dGVjIDE0IC8vICJ1c2VyWWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjkzCiAgICAvLyBjb25zdCB1c2VyWVBUID0gdGhpcy51c2VyWWllbGRQZXJUb2tlbih1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgZnJhbWVfYnVyeSAxCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBpZiAoY3VycmVudFlQVCA+IHVzZXJZUFQpIHsKICAgID4KICAgIGJ6IHVwZGF0ZUVhcm5lZFlpZWxkX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OTYKICAgIC8vIGNvbnN0IHBlbmRpbmcgPSB0aGlzLm11bERpdkZsb29yKGRlcG9zaXRlZCwgY3VycmVudFlQVCAtIHVzZXJZUFQsIFNDQUxFKTsKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgMQogICAgLQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgZnJhbWVfZGlnIDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyBjb25zdCBwZW5kaW5nID0gdGhpcy5tdWxEaXZGbG9vcihkZXBvc2l0ZWQsIGN1cnJlbnRZUFQgLSB1c2VyWVBULCBTQ0FMRSk7CiAgICBpbnRjIDUgLy8gMTAwMDAwMDAwMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzgKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc5CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OTcKICAgIC8vIHRoaXMuZWFybmVkWWllbGQodXNlcikudmFsdWUgPSB0aGlzLmVhcm5lZFlpZWxkKHVzZXIpLnZhbHVlICsgcGVuZGluZzsKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY2CiAgICAvLyBlYXJuZWRZaWVsZCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gQWNjdW11bGF0ZWQgeWllbGQgbm90IHlldCBjbGFpbWVkCiAgICBieXRlYyA1IC8vICJlYXJuZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjk3CiAgICAvLyB0aGlzLmVhcm5lZFlpZWxkKHVzZXIpLnZhbHVlID0gdGhpcy5lYXJuZWRZaWVsZCh1c2VyKS52YWx1ZSArIHBlbmRpbmc7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIGZyYW1lX2RpZyAtMQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjYKICAgIC8vIGVhcm5lZFlpZWxkID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBBY2N1bXVsYXRlZCB5aWVsZCBub3QgeWV0IGNsYWltZWQKICAgIGJ5dGVjIDUgLy8gImVhcm5lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OTcKICAgIC8vIHRoaXMuZWFybmVkWWllbGQodXNlcikudmFsdWUgPSB0aGlzLmVhcm5lZFlpZWxkKHVzZXIpLnZhbHVlICsgcGVuZGluZzsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAoKdXBkYXRlRWFybmVkWWllbGRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTAyCiAgICAvLyB0aGlzLnVzZXJZaWVsZFBlclRva2VuKHVzZXIpLnZhbHVlID0gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyCiAgICAvLyB5aWVsZFBlclRva2VuID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gQWNjdW11bGF0b3IgZm9yIHlpZWxkIGRpc3RyaWJ1dGlvbiAoc2NhbGVkIGJ5IFNDQUxFKQogICAgYnl0ZWMgNCAvLyAieWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEwMgogICAgLy8gdGhpcy51c2VyWWllbGRQZXJUb2tlbih1c2VyKS52YWx1ZSA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY1CiAgICAvLyB1c2VyWWllbGRQZXJUb2tlbiA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgLy8gU25hcHNob3Qgb2YgeWllbGRQZXJUb2tlbiBhdCBsYXN0IGFjdGlvbgogICAgYnl0ZWMgMTQgLy8gInVzZXJZaWVsZFBlclRva2VuIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTAyCiAgICAvLyB0aGlzLnVzZXJZaWVsZFBlclRva2VuKHVzZXIpLnZhbHVlID0gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlOwogICAgdW5jb3ZlciAyCiAgICBhcHBfbG9jYWxfcHV0CiAgICByZXRzdWIKCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZ2V0RXhwZWN0ZWRTd2FwT3V0cHV0KGlucHV0QW1vdW50OiB1aW50NjQpIC0+IHVpbnQ2NDoKZ2V0RXhwZWN0ZWRTd2FwT3V0cHV0OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTIyCiAgICAvLyBwcml2YXRlIGdldEV4cGVjdGVkU3dhcE91dHB1dChpbnB1dEFtb3VudDogdWludDY0KTogdWludDY0IHsKICAgIHByb3RvIDEgMQogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMjMKICAgIC8vIGNvbnN0IHBvb2xBcHAgPSB0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWU7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTcKICAgIC8vIHRpbnltYW5Qb29sQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBUaW55bWFuIFYyIHBvb2wgYXBwIElEIChVU0RDL3N3YXBBc3NldCkKICAgIGJ5dGVjIDEyIC8vICJ0aW55bWFuUG9vbEFwcElkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTIzCiAgICAvLyBjb25zdCBwb29sQXBwID0gdGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEyNAogICAgLy8gY29uc3QgcG9vbEFkZHIgPSB0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1OAogICAgLy8gdGlueW1hblBvb2xBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgLy8gVGlueW1hbiBwb29sIGFkZHJlc3MKICAgIGJ5dGVjIDEzIC8vICJ0aW55bWFuUG9vbEFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMjQKICAgIC8vIGNvbnN0IHBvb2xBZGRyID0gdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTI3CiAgICAvLyBjb25zdCBbYXNzZXQxSWQsIGhhc0Fzc2V0MUlkXSA9IEFwcExvY2FsLmdldEV4VWludDY0KHBvb2xBZGRyLCBwb29sQXBwLCBCeXRlcygnYXNzZXRfMV9pZCcpKTsKICAgIGR1cAogICAgZGlnIDIKICAgIHB1c2hieXRlcyAiYXNzZXRfMV9pZCIKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEyOAogICAgLy8gYXNzZXJ0KGhhc0Fzc2V0MUlkLCAnQ2Fubm90IHJlYWQgcG9vbCBhc3NldF8xX2lkJyk7CiAgICBhc3NlcnQgLy8gQ2Fubm90IHJlYWQgcG9vbCBhc3NldF8xX2lkCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMzAKICAgIC8vIGNvbnN0IFthc3NldDFSZXNlcnZlcywgaGFzQXNzZXQxUmVzZXJ2ZXNdID0gQXBwTG9jYWwuZ2V0RXhVaW50NjQocG9vbEFkZHIsIHBvb2xBcHAsIEJ5dGVzKCdhc3NldF8xX3Jlc2VydmVzJykpOwogICAgZGlnIDEKICAgIGRpZyAzCiAgICBwdXNoYnl0ZXMgImFzc2V0XzFfcmVzZXJ2ZXMiCiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciA0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMzEKICAgIC8vIGFzc2VydChoYXNBc3NldDFSZXNlcnZlcywgJ0Nhbm5vdCByZWFkIHBvb2wgYXNzZXRfMV9yZXNlcnZlcycpOwogICAgYXNzZXJ0IC8vIENhbm5vdCByZWFkIHBvb2wgYXNzZXRfMV9yZXNlcnZlcwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTMzCiAgICAvLyBjb25zdCBbYXNzZXQyUmVzZXJ2ZXMsIGhhc0Fzc2V0MlJlc2VydmVzXSA9IEFwcExvY2FsLmdldEV4VWludDY0KHBvb2xBZGRyLCBwb29sQXBwLCBCeXRlcygnYXNzZXRfMl9yZXNlcnZlcycpKTsKICAgIGRpZyAxCiAgICBkaWcgMwogICAgcHVzaGJ5dGVzICJhc3NldF8yX3Jlc2VydmVzIgogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgY292ZXIgNAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTM0CiAgICAvLyBhc3NlcnQoaGFzQXNzZXQyUmVzZXJ2ZXMsICdDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzJfcmVzZXJ2ZXMnKTsKICAgIGFzc2VydCAvLyBDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzJfcmVzZXJ2ZXMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEzNgogICAgLy8gY29uc3QgW3RvdGFsRmVlU2hhcmUsIGhhc1RvdGFsRmVlU2hhcmVdID0gQXBwTG9jYWwuZ2V0RXhVaW50NjQocG9vbEFkZHIsIHBvb2xBcHAsIEJ5dGVzKCd0b3RhbF9mZWVfc2hhcmUnKSk7CiAgICBzd2FwCiAgICB1bmNvdmVyIDIKICAgIHB1c2hieXRlcyAidG90YWxfZmVlX3NoYXJlIgogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgY292ZXIgMwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTM3CiAgICAvLyBhc3NlcnQoaGFzVG90YWxGZWVTaGFyZSwgJ0Nhbm5vdCByZWFkIHBvb2wgdG90YWxfZmVlX3NoYXJlJyk7CiAgICBhc3NlcnQgLy8gQ2Fubm90IHJlYWQgcG9vbCB0b3RhbF9mZWVfc2hhcmUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE0MwogICAgLy8gaWYgKGFzc2V0MUlkID09PSB0aGlzLnlpZWxkQXNzZXQudmFsdWUpIHsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MQogICAgLy8geWllbGRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgQVNBIElEICh3aGF0IGFpcmRyb3BzIGNvbWUgaW4gYXMpCiAgICBieXRlY18yIC8vICJ5aWVsZEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTQzCiAgICAvLyBpZiAoYXNzZXQxSWQgPT09IHRoaXMueWllbGRBc3NldC52YWx1ZSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICBieiBnZXRFeHBlY3RlZFN3YXBPdXRwdXRfZWxzZV9ib2R5QDIKICAgIGZyYW1lX2RpZyAxCiAgICBmcmFtZV9idXJ5IDAKCmdldEV4cGVjdGVkU3dhcE91dHB1dF9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxNTYKICAgIC8vIGNvbnN0IG5ldElucHV0ID0gdGhpcy5tdWxEaXZGbG9vcihpbnB1dEFtb3VudCwgRkVFX0JQU19CQVNFIC0gZmVlQnBzLCBGRUVfQlBTX0JBU0UpOwogICAgaW50YyA0IC8vIDEwMDAwCiAgICBmcmFtZV9kaWcgMgogICAgLQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgZnJhbWVfZGlnIC0xCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OAogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxNTYKICAgIC8vIGNvbnN0IG5ldElucHV0ID0gdGhpcy5tdWxEaXZGbG9vcihpbnB1dEFtb3VudCwgRkVFX0JQU19CQVNFIC0gZmVlQnBzLCBGRUVfQlBTX0JBU0UpOwogICAgaW50YyA0IC8vIDEwMDAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OAogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzkKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE11bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxNjAKICAgIC8vIGNvbnN0IGV4cGVjdGVkT3V0cHV0ID0gdGhpcy5tdWxEaXZGbG9vcihvdXRwdXRSZXNlcnZlcywgbmV0SW5wdXQsIGlucHV0UmVzZXJ2ZXMgKyBuZXRJbnB1dCk7CiAgICBmcmFtZV9kaWcgMAogICAgZGlnIDEKICAgICsKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc3CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGNvdmVyIDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OQogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ011bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE2MgogICAgLy8gcmV0dXJuIGV4cGVjdGVkT3V0cHV0OwogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCmdldEV4cGVjdGVkU3dhcE91dHB1dF9lbHNlX2JvZHlAMjoKICAgIGZyYW1lX2J1cnkgMAogICAgZnJhbWVfZGlnIDEKICAgIGIgZ2V0RXhwZWN0ZWRTd2FwT3V0cHV0X2FmdGVyX2lmX2Vsc2VAMwo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 3,
            "num_uints": 10
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 3
        }
    },
    "schema": {
        "global": {
            "declared": {
                "creatorAddress": {
                    "type": "bytes",
                    "key": "creatorAddress"
                },
                "creatorFeeRate": {
                    "type": "uint64",
                    "key": "creatorFeeRate"
                },
                "creatorUnclaimedYield": {
                    "type": "uint64",
                    "key": "creatorUnclaimedYield"
                },
                "depositAsset": {
                    "type": "uint64",
                    "key": "depositAsset"
                },
                "minSwapThreshold": {
                    "type": "uint64",
                    "key": "minSwapThreshold"
                },
                "rarefiAddress": {
                    "type": "bytes",
                    "key": "rarefiAddress"
                },
                "swapAsset": {
                    "type": "uint64",
                    "key": "swapAsset"
                },
                "tinymanPoolAddress": {
                    "type": "bytes",
                    "key": "tinymanPoolAddress"
                },
                "tinymanPoolAppId": {
                    "type": "uint64",
                    "key": "tinymanPoolAppId"
                },
                "totalDeposits": {
                    "type": "uint64",
                    "key": "totalDeposits"
                },
                "totalYieldGenerated": {
                    "type": "uint64",
                    "key": "totalYieldGenerated"
                },
                "yieldAsset": {
                    "type": "uint64",
                    "key": "yieldAsset"
                },
                "yieldPerToken": {
                    "type": "uint64",
                    "key": "yieldPerToken"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {
                "depositedAmount": {
                    "type": "uint64",
                    "key": "depositedAmount"
                },
                "earnedYield": {
                    "type": "uint64",
                    "key": "earnedYield"
                },
                "userYieldPerToken": {
                    "type": "uint64",
                    "key": "userYieldPerToken"
                }
            },
            "reserved": {}
        }
    },
    "contract": {
        "name": "RareFiVault",
        "methods": [
            {
                "name": "createVault",
                "args": [
                    {
                        "type": "uint64",
                        "name": "depositAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "yieldAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "swapAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "creatorFeeRate"
                    },
                    {
                        "type": "uint64",
                        "name": "minSwapThreshold"
                    },
                    {
                        "type": "uint64",
                        "name": "tinymanPoolAppId"
                    },
                    {
                        "type": "address",
                        "name": "tinymanPoolAddress"
                    },
                    {
                        "type": "address",
                        "name": "rarefiAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Create and initialize the vault\r\nCalled once at deployment"
            },
            {
                "name": "optInAssets",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Opt the contract into all required assets\r\nMust be called by creator after deployment with:\r\n- 200 ALGO setup fee (sent to RareFi)\r\n- 0.3 ALGO MBR for asset opt-ins (stays in contract)\r\nTotal required: 200.3 ALGO"
            },
            {
                "name": "optIn",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User opts into the contract to enable local storage"
            },
            {
                "name": "closeOut",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User closes out - claims all pending yield and withdraws all deposits first"
            },
            {
                "name": "deposit",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User deposits Alpha into the vault\r\nExpects an asset transfer in the group before this call\r\n\r\nNOTE: Deposits are paused when USDC balance >= minSwapThreshold to prevent\r\nflash deposit attacks where users deposit right before yield is swapped.\r\nThis ensures yield only goes to users who held deposits during the airdrop period."
            },
            {
                "name": "withdraw",
                "args": [
                    {
                        "type": "uint64",
                        "name": "amount",
                        "desc": "- Amount to withdraw (0 = withdraw all)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User withdraws Alpha from the vault"
            },
            {
                "name": "claim",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User claims their accumulated yield (in swap_asset)"
            },
            {
                "name": "claimCreator",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Creator claims their accumulated yield"
            },
            {
                "name": "swapYield",
                "args": [
                    {
                        "type": "uint64",
                        "name": "slippageBps",
                        "desc": "- Slippage tolerance in basis points (e.g., 50 = 0.5%, 100 = 1%)"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Swaps accumulated USDC to project ASA via Tinyman V2\r\nUses ON-CHAIN price calculation - reads pool reserves and fee dynamically\r\nOnly callable by creator or RareFi platform to prevent sandwich attacks\r\n\r\nTinyman V2 swap requires:\r\n- Inner txn 1: Asset transfer to pool address\r\n- Inner txn 2: App call to pool with \"swap\" method"
            },
            {
                "name": "getVaultStats",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint64,uint64,uint64)"
                },
                "desc": "Get vault statistics"
            },
            {
                "name": "getPendingYield",
                "args": [
                    {
                        "type": "address",
                        "name": "user"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Get user's pending yield (without claiming)"
            },
            {
                "name": "getUserDeposit",
                "args": [
                    {
                        "type": "address",
                        "name": "user"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64"
                },
                "desc": "Get user's deposit balance"
            },
            {
                "name": "getSwapQuote",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64)",
                    "desc": "[usdcBalance, expectedOutput, minOutputAt50bps]"
                },
                "desc": "Preview swap output - shows expected ASA for current USDC balance\r\nReads pool state on-chain to calculate expected output"
            },
            {
                "name": "updateMinSwapThreshold",
                "args": [
                    {
                        "type": "uint64",
                        "name": "newThreshold"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Update the minimum swap threshold"
            },
            {
                "name": "updateTinymanPool",
                "args": [
                    {
                        "type": "uint64",
                        "name": "newPoolAppId"
                    },
                    {
                        "type": "address",
                        "name": "newPoolAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Update Tinyman pool configuration\r\nUse only if the pool needs to be changed (e.g., migration)"
            }
        ],
        "networks": {}
    },
    "bare_call_config": {
        "update_application": "CALL",
        "delete_application": "CALL"
    }
}