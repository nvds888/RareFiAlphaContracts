{
    "hints": {
        "createVault(uint64,uint64,uint64,uint64,uint64,address,uint64,uint64,uint64,address)void": {
            "call_config": {
                "no_op": "CREATE"
            }
        },
        "optInAssets()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "optIn()void": {
            "call_config": {
                "opt_in": "CALL"
            }
        },
        "closeOut()void": {
            "call_config": {
                "close_out": "CALL"
            }
        },
        "deposit()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "withdraw(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "claimYield()void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "harvestAndSwap(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getVaultStats()(uint64,uint64,uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getUserPosition(address)(uint64,uint64,uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getPendingYield(address)(uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "setPaused(bool)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateMinHarvestThreshold(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "updateTinymanPool(uint64,address)void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDEwMDAwMDAgNCAxMDAwMCAxMDAwMDAwMDAwMDAwCiAgICBieXRlY2Jsb2NrICJsYXN0UmF0ZVNuYXBzaG90IiAidG90YWxTaGFyZXMiICJ0b3RhbFByaW5jaXBhbCIgInVzZGNBc3NldElkIiAiY1VzZGNBc3NldElkIiAidXNkY1lpZWxkUGVyU2hhcmUiICJ1c2VyU2hhcmVzIiAiaXNQYXVzZWQiICJlYXJuZWRBc2EiICJ1c2VyVW5yZWFsaXplZFVzZGMiICJjcmVhdG9yIiAicHJvamVjdEFzYUlkIiAib3JiaXRhbEFwcElkIiAidXNlclVzZGNZaWVsZFBlclNoYXJlIiAicmFyZWZpQWRkcmVzcyIgIndpdGhkcmF3RmVlQnBzIiAidGlueW1hblBvb2xBcHBJZCIgInRpbnltYW5Qb29sQWRkcmVzcyIgImxhc3RIYXJ2ZXN0WWllbGRQZXJTaGFyZSIgImxhc3RIYXJ2ZXN0QXNhUGVyVXNkYyIgIm1pbkhhcnZlc3RUaHJlc2hvbGQiICJkZXBvc2l0RmVlQnBzIiAicmVkZWVtIiAweDE1MWY3Yzc1ICJhc2FZaWVsZFBlclNoYXJlIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM2CiAgICAvLyBleHBvcnQgY2xhc3MgT3JiaXRhbFZhdWx0IGV4dGVuZHMgYXJjNC5Db250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9iYXJlX3JvdXRpbmdAMjMKICAgIHB1c2hieXRlc3MgMHgyOTMxNGQ5NSAweDZhNjkxZmUyIC8vIG1ldGhvZCAib3B0SW4oKXZvaWQiLCBtZXRob2QgImNsb3NlT3V0KCl2b2lkIgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAogICAgbWF0Y2ggbWFpbl9vcHRJbl9yb3V0ZUAzIG1haW5fY2xvc2VPdXRfcm91dGVANAoKbWFpbl9zd2l0Y2hfY2FzZV9uZXh0QDU6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzYKICAgIC8vIGV4cG9ydCBjbGFzcyBPcmJpdGFsVmF1bHQgZXh0ZW5kcyBhcmM0LkNvbnRyYWN0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYnogbWFpbl9jcmVhdGVfTm9PcEAxOQogICAgcHVzaGJ5dGVzcyAweDQxNGU0MWI1IDB4OTJlMDNiMWMgMHgyMWYxZGRmZiAweGFiNWIwNmM1IDB4OWMxOTJkM2YgMHhjZjYxYTFhNCAweDZhMTMxNGJmIDB4NWQxNTEzM2IgMHg0ZTM3ZWZiZCAweGI2MjhhMGYzIDB4MWVmN2I1ODYgLy8gbWV0aG9kICJvcHRJbkFzc2V0cygpdm9pZCIsIG1ldGhvZCAiZGVwb3NpdCgpdm9pZCIsIG1ldGhvZCAid2l0aGRyYXcodWludDY0KXZvaWQiLCBtZXRob2QgImNsYWltWWllbGQoKXZvaWQiLCBtZXRob2QgImhhcnZlc3RBbmRTd2FwKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJnZXRWYXVsdFN0YXRzKCkodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldFVzZXJQb3NpdGlvbihhZGRyZXNzKSh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRQZW5kaW5nWWllbGQoYWRkcmVzcykodWludDY0LHVpbnQ2NCkiLCBtZXRob2QgInNldFBhdXNlZChib29sKXZvaWQiLCBtZXRob2QgInVwZGF0ZU1pbkhhcnZlc3RUaHJlc2hvbGQodWludDY0KXZvaWQiLCBtZXRob2QgInVwZGF0ZVRpbnltYW5Qb29sKHVpbnQ2NCxhZGRyZXNzKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBvcHRJbkFzc2V0cyBkZXBvc2l0IHdpdGhkcmF3IGNsYWltWWllbGQgaGFydmVzdEFuZFN3YXAgZ2V0VmF1bHRTdGF0cyBnZXRVc2VyUG9zaXRpb24gZ2V0UGVuZGluZ1lpZWxkIHNldFBhdXNlZCB1cGRhdGVNaW5IYXJ2ZXN0VGhyZXNob2xkIHVwZGF0ZVRpbnltYW5Qb29sCiAgICBlcnIKCm1haW5fY3JlYXRlX05vT3BAMTk6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzYKICAgIC8vIGV4cG9ydCBjbGFzcyBPcmJpdGFsVmF1bHQgZXh0ZW5kcyBhcmM0LkNvbnRyYWN0IHsKICAgIHB1c2hieXRlcyAweDJmYzBiMzI5IC8vIG1ldGhvZCAiY3JlYXRlVmF1bHQodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCxhZGRyZXNzLHVpbnQ2NCx1aW50NjQsdWludDY0LGFkZHJlc3Mpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGNyZWF0ZVZhdWx0CiAgICBlcnIKCm1haW5fY2xvc2VPdXRfcm91dGVANDoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MDEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogJ0Nsb3NlT3V0JyB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgcHVzaGludCAyIC8vIENsb3NlT3V0CiAgICA9PQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgQ2xvc2VPdXQgJiYgY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgYiBjbG9zZU91dAoKbWFpbl9vcHRJbl9yb3V0ZUAzOgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM4NQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnT3B0SW4nIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBpbnRjXzEgLy8gT3B0SW4KICAgID09CiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgJiYKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBPcHRJbiAmJiBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBiIG9wdEluCgptYWluX2JhcmVfcm91dGluZ0AyMzoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNgogICAgLy8gZXhwb3J0IGNsYXNzIE9yYml0YWxWYXVsdCBleHRlbmRzIGFyYzQuQ29udHJhY3QgewogICAgaW50Y18zIC8vIFVwZGF0ZUFwcGxpY2F0aW9uCiAgICBwdXNoaW50IDUgLy8gRGVsZXRlQXBwbGljYXRpb24KICAgIHR4biBPbkNvbXBsZXRpb24KICAgIG1hdGNoIG1haW5fdXBkYXRlQXBwbGljYXRpb25AMjQgbWFpbl9kZWxldGVBcHBsaWNhdGlvbkAyNQogICAgZXJyCgptYWluX2RlbGV0ZUFwcGxpY2F0aW9uQDI1OgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg5MwogICAgLy8gQGJhcmVtZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdEZWxldGVBcHBsaWNhdGlvbicgfSkKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg5NQogICAgLy8gYXNzZXJ0KGZhbHNlLCAnQ29udHJhY3QgZGVsZXRpb24gZGlzYWJsZWQnKTsKICAgIGVyciAvLyBDb250cmFjdCBkZWxldGlvbiBkaXNhYmxlZAoKbWFpbl91cGRhdGVBcHBsaWNhdGlvbkAyNDoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4ODgKICAgIC8vIEBiYXJlbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnVXBkYXRlQXBwbGljYXRpb24nIH0pCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4OTAKICAgIC8vIGFzc2VydChmYWxzZSwgJ0NvbnRyYWN0IHVwZGF0ZXMgZGlzYWJsZWQnKTsKICAgIGVyciAvLyBDb250cmFjdCB1cGRhdGVzIGRpc2FibGVkCgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQuY3JlYXRlVmF1bHRbcm91dGluZ10oKSAtPiB2b2lkOgpjcmVhdGVWYXVsdDoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyNTkKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDYKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDcKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDgKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDkKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEwCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjczCiAgICAvLyBhc3NlcnQodXNkY0Fzc2V0SWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgVVNEQyBhc3NldCBJRCcpOwogICAgZGlnIDkKICAgIGFzc2VydCAvLyBJbnZhbGlkIFVTREMgYXNzZXQgSUQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyNzQKICAgIC8vIGFzc2VydChjVXNkY0Fzc2V0SWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgY1VTREMgYXNzZXQgSUQnKTsKICAgIGRpZyA4CiAgICBhc3NlcnQgLy8gSW52YWxpZCBjVVNEQyBhc3NldCBJRAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjI3NQogICAgLy8gYXNzZXJ0KHByb2plY3RBc2FJZCAhPT0gVWludDY0KDApLCAnSW52YWxpZCBwcm9qZWN0IEFTQSBJRCcpOwogICAgZGlnIDcKICAgIGFzc2VydCAvLyBJbnZhbGlkIHByb2plY3QgQVNBIElECiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mjc2CiAgICAvLyBhc3NlcnQob3JiaXRhbEFwcElkICE9PSBVaW50NjQoMCksICdJbnZhbGlkIE9yYml0YWwgYXBwIElEJyk7CiAgICBkaWcgNgogICAgYXNzZXJ0IC8vIEludmFsaWQgT3JiaXRhbCBhcHAgSUQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyNzcKICAgIC8vIGFzc2VydCh0aW55bWFuUG9vbEFwcElkICE9PSBVaW50NjQoMCksICdJbnZhbGlkIFRpbnltYW4gcG9vbCBhcHAgSUQnKTsKICAgIGRpZyA1CiAgICBhc3NlcnQgLy8gSW52YWxpZCBUaW55bWFuIHBvb2wgYXBwIElECiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mjc4CiAgICAvLyBhc3NlcnQoZGVwb3NpdEZlZUJwcyA8PSBNQVhfRkVFX0JQUywgJ0RlcG9zaXQgZmVlIHRvbyBoaWdoJyk7CiAgICBkaWcgMwogICAgcHVzaGludCA1MDAgLy8gNTAwCiAgICA8PQogICAgYXNzZXJ0IC8vIERlcG9zaXQgZmVlIHRvbyBoaWdoCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mjc5CiAgICAvLyBhc3NlcnQod2l0aGRyYXdGZWVCcHMgPD0gTUFYX0ZFRV9CUFMsICdXaXRoZHJhdyBmZWUgdG9vIGhpZ2gnKTsKICAgIGRpZyAyCiAgICBwdXNoaW50IDUwMCAvLyA1MDAKICAgIDw9CiAgICBhc3NlcnQgLy8gV2l0aGRyYXcgZmVlIHRvbyBoaWdoCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjgwCiAgICAvLyBhc3NlcnQobWluSGFydmVzdFRocmVzaG9sZCA+PSBNSU5fSEFSVkVTVF9USFJFU0hPTEQsICdIYXJ2ZXN0IHRocmVzaG9sZCB0b28gbG93Jyk7CiAgICBkaWcgMQogICAgaW50Y18yIC8vIDEwMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gSGFydmVzdCB0aHJlc2hvbGQgdG9vIGxvdwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjI4MwogICAgLy8gYXNzZXJ0KHVzZGNBc3NldElkICE9PSBjVXNkY0Fzc2V0SWQsICdVU0RDIGFuZCBjVVNEQyBtdXN0IGJlIGRpZmZlcmVudCcpOwogICAgZGlnIDkKICAgIGRpZyA5CiAgICAhPQogICAgYXNzZXJ0IC8vIFVTREMgYW5kIGNVU0RDIG11c3QgYmUgZGlmZmVyZW50CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mjg0CiAgICAvLyBhc3NlcnQodXNkY0Fzc2V0SWQgIT09IHByb2plY3RBc2FJZCwgJ1VTREMgYW5kIHByb2plY3QgQVNBIG11c3QgYmUgZGlmZmVyZW50Jyk7CiAgICBkaWcgOQogICAgZGlnIDgKICAgICE9CiAgICBhc3NlcnQgLy8gVVNEQyBhbmQgcHJvamVjdCBBU0EgbXVzdCBiZSBkaWZmZXJlbnQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MgogICAgLy8gY3JlYXRvciA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgICAgICAgICAvLyBWYXVsdCBjcmVhdG9yL2FkbWluCiAgICBieXRlYyAxMCAvLyAiY3JlYXRvciIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyODcKICAgIC8vIHRoaXMuY3JlYXRvci52YWx1ZSA9IFR4bi5zZW5kZXI7CiAgICB0eG4gU2VuZGVyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzCiAgICAvLyByYXJlZmlBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAgIC8vIFJhcmVGaSBwbGF0Zm9ybSBhZGRyZXNzCiAgICBieXRlYyAxNCAvLyAicmFyZWZpQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyODgKICAgIC8vIHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZSA9IHJhcmVmaUFkZHJlc3M7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2CiAgICAvLyBpc1BhdXNlZCA9IEdsb2JhbFN0YXRlPGJvb2xlYW4+KCk7ICAgICAgICAgIC8vIEVtZXJnZW5jeSBwYXVzZSBmbGFnCiAgICBieXRlYyA3IC8vICJpc1BhdXNlZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyOTEKICAgIC8vIHRoaXMuaXNQYXVzZWQudmFsdWUgPSBmYWxzZTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ5CiAgICAvLyB1c2RjQXNzZXRJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgYXNzZXQgSUQKICAgIGJ5dGVjXzMgLy8gInVzZGNBc3NldElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjI5NAogICAgLy8gdGhpcy51c2RjQXNzZXRJZC52YWx1ZSA9IHVzZGNBc3NldElkOwogICAgdW5jb3ZlciA5CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUwCiAgICAvLyBjVXNkY0Fzc2V0SWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIGNVU0RDIChPcmJpdGFsIExTVCkgYXNzZXQgSUQKICAgIGJ5dGVjIDQgLy8gImNVc2RjQXNzZXRJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyOTUKICAgIC8vIHRoaXMuY1VzZGNBc3NldElkLnZhbHVlID0gY1VzZGNBc3NldElkOwogICAgdW5jb3ZlciA4CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyBwcm9qZWN0QXNhSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIFByb2plY3QgQVNBICh5aWVsZCBwYWlkIGluIHRoaXMpCiAgICBieXRlYyAxMSAvLyAicHJvamVjdEFzYUlkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjI5NgogICAgLy8gdGhpcy5wcm9qZWN0QXNhSWQudmFsdWUgPSBwcm9qZWN0QXNhSWQ7CiAgICB1bmNvdmVyIDcKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTQKICAgIC8vIG9yYml0YWxBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgLy8gT3JiaXRhbCBMZW5kaW5nIGFwcCBJRAogICAgYnl0ZWMgMTIgLy8gIm9yYml0YWxBcHBJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyOTkKICAgIC8vIHRoaXMub3JiaXRhbEFwcElkLnZhbHVlID0gb3JiaXRhbEFwcElkOwogICAgdW5jb3ZlciA2CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU1CiAgICAvLyB0aW55bWFuUG9vbEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgIC8vIFRpbnltYW4gVjIgcG9vbCBhcHAgSUQKICAgIGJ5dGVjIDE2IC8vICJ0aW55bWFuUG9vbEFwcElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMwMAogICAgLy8gdGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlID0gdGlueW1hblBvb2xBcHBJZDsKICAgIHVuY292ZXIgNQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NgogICAgLy8gdGlueW1hblBvb2xBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsvLyBUaW55bWFuIHBvb2wgYWRkcmVzcwogICAgYnl0ZWMgMTcgLy8gInRpbnltYW5Qb29sQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMDEKICAgIC8vIHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlID0gdGlueW1hblBvb2xBZGRyZXNzOwogICAgdW5jb3ZlciA0CiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU5CiAgICAvLyB0b3RhbFNoYXJlcyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFRvdGFsIGNVU0RDIHNoYXJlcyBoZWxkIGJ5IHZhdWx0CiAgICBieXRlY18xIC8vICJ0b3RhbFNoYXJlcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMDQKICAgIC8vIHRoaXMudG90YWxTaGFyZXMudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MAogICAgLy8gdG90YWxQcmluY2lwYWwgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBVU0RDIHByaW5jaXBhbCBkZXBvc2l0ZWQgYnkgdXNlcnMKICAgIGJ5dGVjXzIgLy8gInRvdGFsUHJpbmNpcGFsIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMwNQogICAgLy8gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyB1c2RjWWllbGRQZXJTaGFyZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFN0YWdlIDE6IFJhdGUtYmFzZWQgVVNEQyB5aWVsZCBhY2N1bXVsYXRvcgogICAgYnl0ZWMgNSAvLyAidXNkY1lpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzA4CiAgICAvLyB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlID0gVWludDY0KDApOwogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjQKICAgIC8vIGFzYVlpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gU3RhZ2UgMjogQVNBIHlpZWxkIGFjY3VtdWxhdG9yIChhZnRlciBoYXJ2ZXN0KQogICAgYnl0ZWMgMjQgLy8gImFzYVlpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzA5CiAgICAvLyB0aGlzLmFzYVlpZWxkUGVyU2hhcmUudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NQogICAgLy8gbGFzdFJhdGVTbmFwc2hvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBFeGNoYW5nZSByYXRlIGF0IGxhc3QgY2hlY2twb2ludAogICAgYnl0ZWNfMCAvLyAibGFzdFJhdGVTbmFwc2hvdCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMTAKICAgIC8vIHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZSA9IFVpbnQ2NCgwKTsgLy8gV2lsbCBiZSBzZXQgb24gb3B0SW5Bc3NldHMKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY4CiAgICAvLyBsYXN0SGFydmVzdFlpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7IC8vIHVzZGNZaWVsZFBlclNoYXJlIGF0IGxhc3QgaGFydmVzdAogICAgYnl0ZWMgMTggLy8gImxhc3RIYXJ2ZXN0WWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMTMKICAgIC8vIHRoaXMubGFzdEhhcnZlc3RZaWVsZFBlclNoYXJlLnZhbHVlID0gVWludDY0KDApOwogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjkKICAgIC8vIGxhc3RIYXJ2ZXN0QXNhUGVyVXNkYyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gQ29udmVyc2lvbiByYXRlIGZyb20gbGFzdCBoYXJ2ZXN0CiAgICBieXRlYyAxOSAvLyAibGFzdEhhcnZlc3RBc2FQZXJVc2RjIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMxNAogICAgLy8gdGhpcy5sYXN0SGFydmVzdEFzYVBlclVzZGMudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MAogICAgLy8gbWluSGFydmVzdFRocmVzaG9sZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAvLyBNaW5pbXVtIFVTREMgeWllbGQgYmVmb3JlIGhhcnZlc3QKICAgIGJ5dGVjIDIwIC8vICJtaW5IYXJ2ZXN0VGhyZXNob2xkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMxNQogICAgLy8gdGhpcy5taW5IYXJ2ZXN0VGhyZXNob2xkLnZhbHVlID0gbWluSGFydmVzdFRocmVzaG9sZDsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzMKICAgIC8vIGRlcG9zaXRGZWVCcHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gRGVwb3NpdCBmZWUgaW4gYmFzaXMgcG9pbnRzCiAgICBieXRlYyAyMSAvLyAiZGVwb3NpdEZlZUJwcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMTgKICAgIC8vIHRoaXMuZGVwb3NpdEZlZUJwcy52YWx1ZSA9IGRlcG9zaXRGZWVCcHM7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzQKICAgIC8vIHdpdGhkcmF3RmVlQnBzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gV2l0aGRyYXcgZmVlIGluIGJhc2lzIHBvaW50cwogICAgYnl0ZWMgMTUgLy8gIndpdGhkcmF3RmVlQnBzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMxOQogICAgLy8gdGhpcy53aXRoZHJhd0ZlZUJwcy52YWx1ZSA9IHdpdGhkcmF3RmVlQnBzOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyNTkKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IG9uQ3JlYXRlOiAncmVxdWlyZScgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Ok9yYml0YWxWYXVsdC5vcHRJbkFzc2V0c1tyb3V0aW5nXSgpIC0+IHZvaWQ6Cm9wdEluQXNzZXRzOgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMyNwogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvci52YWx1ZSwgJ09ubHkgY3JlYXRvciBjYW4gb3B0LWluIGFzc2V0cycpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MgogICAgLy8gY3JlYXRvciA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgICAgICAgICAvLyBWYXVsdCBjcmVhdG9yL2FkbWluCiAgICBieXRlYyAxMCAvLyAiY3JlYXRvciIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMjcKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3IudmFsdWUsICdPbmx5IGNyZWF0b3IgY2FuIG9wdC1pbiBhc3NldHMnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBjYW4gb3B0LWluIGFzc2V0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMyOAogICAgLy8gYXNzZXJ0KCF0aGlzLmlzUGF1c2VkLnZhbHVlLCAnQ29udHJhY3QgaXMgcGF1c2VkJyk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2CiAgICAvLyBpc1BhdXNlZCA9IEdsb2JhbFN0YXRlPGJvb2xlYW4+KCk7ICAgICAgICAgIC8vIEVtZXJnZW5jeSBwYXVzZSBmbGFnCiAgICBieXRlYyA3IC8vICJpc1BhdXNlZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMjgKICAgIC8vIGFzc2VydCghdGhpcy5pc1BhdXNlZC52YWx1ZSwgJ0NvbnRyYWN0IGlzIHBhdXNlZCcpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICEKICAgIGFzc2VydCAvLyBDb250cmFjdCBpcyBwYXVzZWQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMzAKICAgIC8vIGNvbnN0IGFwcEFkZHI6IEFjY291bnQgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzczsKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzM1CiAgICAvLyBjb25zdCBjdXJyZW50SW5kZXggPSBUeG4uZ3JvdXBJbmRleDsKICAgIHR4biBHcm91cEluZGV4CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzM2CiAgICAvLyBhc3NlcnQoY3VycmVudEluZGV4ID49IFVpbnQ2NCgxKSwgJ0FwcCBjYWxsIG11c3QgZm9sbG93IHBheW1lbnQnKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIEFwcCBjYWxsIG11c3QgZm9sbG93IHBheW1lbnQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozMzgKICAgIC8vIGNvbnN0IGFsZ29QYXltZW50ID0gZ3R4bi5QYXltZW50VHhuKGN1cnJlbnRJbmRleCAtIFVpbnQ2NCgxKSk7CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18xIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjMzOQogICAgLy8gYXNzZXJ0KGFsZ29QYXltZW50LnJlY2VpdmVyID09PSBhcHBBZGRyLCAnUGF5bWVudCBtdXN0IGJlIHRvIGFwcCcpOwogICAgZHVwCiAgICBndHhucyBSZWNlaXZlcgogICAgZGlnIDIKICAgID09CiAgICBhc3NlcnQgLy8gUGF5bWVudCBtdXN0IGJlIHRvIGFwcAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM0MAogICAgLy8gYXNzZXJ0KGFsZ29QYXltZW50LmFtb3VudCA+PSB0b3RhbFJlcXVpcmVkLCAnSW5zdWZmaWNpZW50IEFMR08nKTsKICAgIGR1cAogICAgZ3R4bnMgQW1vdW50CiAgICBwdXNoaW50IDIwMDMwMDAwMCAvLyAyMDAzMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IEFMR08KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNDEKICAgIC8vIGFzc2VydChhbGdvUGF5bWVudC5zZW5kZXIgPT09IFR4bi5zZW5kZXIsICdQYXltZW50IG11c3QgYmUgZnJvbSBjYWxsZXInKTsKICAgIGd0eG5zIFNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBQYXltZW50IG11c3QgYmUgZnJvbSBjYWxsZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNDQtMzQ4CiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICByZWNlaXZlcjogdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlLAogICAgLy8gICBhbW91bnQ6IENSRUFUT1JfU0VUVVBfRkVFLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM0NQogICAgLy8gcmVjZWl2ZXI6IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDMKICAgIC8vIHJhcmVmaUFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgICAgLy8gUmFyZUZpIHBsYXRmb3JtIGFkZHJlc3MKICAgIGJ5dGVjIDE0IC8vICJyYXJlZmlBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM0NQogICAgLy8gcmVjZWl2ZXI6IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzQ2CiAgICAvLyBhbW91bnQ6IENSRUFUT1JfU0VUVVBfRkVFLAogICAgcHVzaGludCAyMDAwMDAwMDAgLy8gMjAwMDAwMDAwCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM0NC0zNDgKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgIHJlY2VpdmVyOiB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFtb3VudDogQ1JFQVRPUl9TRVRVUF9GRUUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM0NwogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNDQtMzQ4CiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICByZWNlaXZlcjogdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlLAogICAgLy8gICBhbW91bnQ6IENSRUFUT1JfU0VUVVBfRkVFLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNTEtMzU2CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM1MwogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDkKICAgIC8vIHVzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBhc3NldCBJRAogICAgYnl0ZWNfMyAvLyAidXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzUzCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNTQKICAgIC8vIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzUxLTM1NgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzU1CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM1MS0zNTYKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IGFwcEFkZHIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM1OS0zNjQKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IGFwcEFkZHIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM2MQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUwCiAgICAvLyBjVXNkY0Fzc2V0SWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIGNVU0RDIChPcmJpdGFsIExTVCkgYXNzZXQgSUQKICAgIGJ5dGVjIDQgLy8gImNVc2RjQXNzZXRJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNjEKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNjIKICAgIC8vIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzU5LTM2NAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM2MwogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNTktMzY0CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzY3LTM3MgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzY5CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHByb2plY3RBc2FJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgLy8gUHJvamVjdCBBU0EgKHlpZWxkIHBhaWQgaW4gdGhpcykKICAgIGJ5dGVjIDExIC8vICJwcm9qZWN0QXNhSWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzY5CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzcwCiAgICAvLyBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNjctMzcyCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzcxCiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM2Ny0zNzIKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IGFwcEFkZHIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5wcm9qZWN0QXNhSWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozNzUKICAgIC8vIHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZSA9IHRoaXMuZmV0Y2hDdXJyZW50UmF0ZSgpOwogICAgY2FsbHN1YiBmZXRjaEN1cnJlbnRSYXRlCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGxhc3RSYXRlU25hcHNob3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gRXhjaGFuZ2UgcmF0ZSBhdCBsYXN0IGNoZWNrcG9pbnQKICAgIGJ5dGVjXzAgLy8gImxhc3RSYXRlU25hcHNob3QiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mzc1CiAgICAvLyB0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWUgPSB0aGlzLmZldGNoQ3VycmVudFJhdGUoKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzI1CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo6T3JiaXRhbFZhdWx0Lm9wdEluW3JvdXRpbmddKCkgLT4gdm9pZDoKb3B0SW46CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mzg3CiAgICAvLyBhc3NlcnQoIXRoaXMuaXNQYXVzZWQudmFsdWUsICdDb250cmFjdCBpcyBwYXVzZWQnKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDYKICAgIC8vIGlzUGF1c2VkID0gR2xvYmFsU3RhdGU8Ym9vbGVhbj4oKTsgICAgICAgICAgLy8gRW1lcmdlbmN5IHBhdXNlIGZsYWcKICAgIGJ5dGVjIDcgLy8gImlzUGF1c2VkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM4NwogICAgLy8gYXNzZXJ0KCF0aGlzLmlzUGF1c2VkLnZhbHVlLCAnQ29udHJhY3QgaXMgcGF1c2VkJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgIQogICAgYXNzZXJ0IC8vIENvbnRyYWN0IGlzIHBhdXNlZAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM5MAogICAgLy8gdGhpcy51c2VyU2hhcmVzKFR4bi5zZW5kZXIpLnZhbHVlID0gVWludDY0KDApOwogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgwCiAgICAvLyB1c2VyU2hhcmVzID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgICAgICAvLyBVc2VyJ3MgY1VTREMgc2hhcmUgYmFsYW5jZQogICAgYnl0ZWMgNiAvLyAidXNlclNoYXJlcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozOTAKICAgIC8vIHRoaXMudXNlclNoYXJlcyhUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzkxCiAgICAvLyB0aGlzLnVzZXJVc2RjWWllbGRQZXJTaGFyZShUeG4uc2VuZGVyKS52YWx1ZSA9IHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWU7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyB1c2RjWWllbGRQZXJTaGFyZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFN0YWdlIDE6IFJhdGUtYmFzZWQgVVNEQyB5aWVsZCBhY2N1bXVsYXRvcgogICAgYnl0ZWMgNSAvLyAidXNkY1lpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzkxCiAgICAvLyB0aGlzLnVzZXJVc2RjWWllbGRQZXJTaGFyZShUeG4uc2VuZGVyKS52YWx1ZSA9IHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgxCiAgICAvLyB1c2VyVXNkY1lpZWxkUGVyU2hhcmUgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBTbmFwc2hvdCBvZiB1c2RjWWllbGRQZXJTaGFyZQogICAgYnl0ZWMgMTMgLy8gInVzZXJVc2RjWWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozOTEKICAgIC8vIHRoaXMudXNlclVzZGNZaWVsZFBlclNoYXJlKFR4bi5zZW5kZXIpLnZhbHVlID0gdGhpcy51c2RjWWllbGRQZXJTaGFyZS52YWx1ZTsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjM5MgogICAgLy8gdGhpcy51c2VyQXNhWWllbGRQZXJTaGFyZShUeG4uc2VuZGVyKS52YWx1ZSA9IHRoaXMuYXNhWWllbGRQZXJTaGFyZS52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjQKICAgIC8vIGFzYVlpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gU3RhZ2UgMjogQVNBIHlpZWxkIGFjY3VtdWxhdG9yIChhZnRlciBoYXJ2ZXN0KQogICAgYnl0ZWMgMjQgLy8gImFzYVlpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzkyCiAgICAvLyB0aGlzLnVzZXJBc2FZaWVsZFBlclNoYXJlKFR4bi5zZW5kZXIpLnZhbHVlID0gdGhpcy5hc2FZaWVsZFBlclNoYXJlLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MgogICAgLy8gdXNlckFzYVlpZWxkUGVyU2hhcmUgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gU25hcHNob3Qgb2YgYXNhWWllbGRQZXJTaGFyZQogICAgcHVzaGJ5dGVzICJ1c2VyQXNhWWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozOTIKICAgIC8vIHRoaXMudXNlckFzYVlpZWxkUGVyU2hhcmUoVHhuLnNlbmRlcikudmFsdWUgPSB0aGlzLmFzYVlpZWxkUGVyU2hhcmUudmFsdWU7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9sb2NhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czozOTMKICAgIC8vIHRoaXMudXNlclVucmVhbGl6ZWRVc2RjKFR4bi5zZW5kZXIpLnZhbHVlID0gVWludDY0KDApOwogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgzCiAgICAvLyB1c2VyVW5yZWFsaXplZFVzZGMgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAvLyBVU0RDIHlpZWxkIG5vdCB5ZXQgaGFydmVzdGVkCiAgICBieXRlYyA5IC8vICJ1c2VyVW5yZWFsaXplZFVzZGMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MzkzCiAgICAvLyB0aGlzLnVzZXJVbnJlYWxpemVkVXNkYyhUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mzk0CiAgICAvLyB0aGlzLmVhcm5lZEFzYShUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NAogICAgLy8gZWFybmVkQXNhID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgICAgICAgLy8gQVNBIHlpZWxkIHJlYWR5IHRvIGNsYWltCiAgICBieXRlYyA4IC8vICJlYXJuZWRBc2EiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mzk0CiAgICAvLyB0aGlzLmVhcm5lZEFzYShUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Mzg1CiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdPcHRJbicgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Ok9yYml0YWxWYXVsdC5jbG9zZU91dFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmNsb3NlT3V0OgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MDQKICAgIC8vIHRoaXMudXBkYXRlVXNkY1lpZWxkQWNjdW11bGF0b3IoKTsKICAgIGNhbGxzdWIgdXBkYXRlVXNkY1lpZWxkQWNjdW11bGF0b3IKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MDUKICAgIC8vIHRoaXMudXBkYXRlVXNlclVzZGNZaWVsZChUeG4uc2VuZGVyKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgdXBkYXRlVXNlclVzZGNZaWVsZAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQwNgogICAgLy8gdGhpcy51cGRhdGVVc2VyQXNhWWllbGQoVHhuLnNlbmRlcik7CiAgICB0eG4gU2VuZGVyCiAgICBjYWxsc3ViIHVwZGF0ZVVzZXJBc2FZaWVsZAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQwOAogICAgLy8gY29uc3QgdXNlclNoYXJlQmFsYW5jZSA9IHRoaXMudXNlclNoYXJlcyhUeG4uc2VuZGVyKS52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODAKICAgIC8vIHVzZXJTaGFyZXMgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAgICAgIC8vIFVzZXIncyBjVVNEQyBzaGFyZSBiYWxhbmNlCiAgICBieXRlYyA2IC8vICJ1c2VyU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQwOAogICAgLy8gY29uc3QgdXNlclNoYXJlQmFsYW5jZSA9IHRoaXMudXNlclNoYXJlcyhUeG4uc2VuZGVyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MDkKICAgIC8vIGNvbnN0IHVzZXJBc2FZaWVsZCA9IHRoaXMuZWFybmVkQXNhKFR4bi5zZW5kZXIpLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NAogICAgLy8gZWFybmVkQXNhID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgICAgICAgLy8gQVNBIHlpZWxkIHJlYWR5IHRvIGNsYWltCiAgICBieXRlYyA4IC8vICJlYXJuZWRBc2EiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDA5CiAgICAvLyBjb25zdCB1c2VyQXNhWWllbGQgPSB0aGlzLmVhcm5lZEFzYShUeG4uc2VuZGVyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQxMgogICAgLy8gaWYgKHVzZXJTaGFyZUJhbGFuY2UgPiBVaW50NjQoMCkpIHsKICAgIGJ6IGNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VAMTgKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MTMKICAgIC8vIGNvbnN0IGFwcEFkZHI6IEFjY291bnQgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzczsKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDE0CiAgICAvLyBjb25zdCBjdXJyZW50UmF0ZSA9IHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGxhc3RSYXRlU25hcHNob3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gRXhjaGFuZ2UgcmF0ZSBhdCBsYXN0IGNoZWNrcG9pbnQKICAgIGJ5dGVjXzAgLy8gImxhc3RSYXRlU25hcHNob3QiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDE0CiAgICAvLyBjb25zdCBjdXJyZW50UmF0ZSA9IHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDE3CiAgICAvLyBjb25zdCB2YXVsdEN1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MAogICAgLy8gY1VzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAvLyBjVVNEQyAoT3JiaXRhbCBMU1QpIGFzc2V0IElECiAgICBieXRlYyA0IC8vICJjVXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDE3CiAgICAvLyBjb25zdCB2YXVsdEN1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDIyCiAgICAvLyBjb25zdCBzaGFyZXNUb1JlZGVlbSA9IHVzZXJTaGFyZUJhbGFuY2UgPD0gdmF1bHRDdXNkY0JhbGFuY2UKICAgIGRpZyAzCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGRpZyAxCiAgICA8PQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQyMi00MjQKICAgIC8vIGNvbnN0IHNoYXJlc1RvUmVkZWVtID0gdXNlclNoYXJlQmFsYW5jZSA8PSB2YXVsdEN1c2RjQmFsYW5jZQogICAgLy8gICA/IHVzZXJTaGFyZUJhbGFuY2UKICAgIC8vICAgOiB2YXVsdEN1c2RjQmFsYW5jZTsKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIHNlbGVjdAogICAgZHVwCiAgICBidXJ5IDYKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQyNwogICAgLy8gbGV0IHVzZGNUb1JldHVybiA9IHRoaXMubXVsRGl2Rmxvb3Ioc2hhcmVzVG9SZWRlZW0sIGN1cnJlbnRSYXRlLCBSQVRFX1BSRUNJU0lPTik7CiAgICBpbnRjXzIgLy8gMTAwMDAwMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTYKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDMwCiAgICAvLyBpZiAodGhpcy53aXRoZHJhd0ZlZUJwcy52YWx1ZSA+IFVpbnQ2NCgwKSkgewogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NAogICAgLy8gd2l0aGRyYXdGZWVCcHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBXaXRoZHJhdyBmZWUgaW4gYmFzaXMgcG9pbnRzCiAgICBieXRlYyAxNSAvLyAid2l0aGRyYXdGZWVCcHMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDMwCiAgICAvLyBpZiAodGhpcy53aXRoZHJhd0ZlZUJwcy52YWx1ZSA+IFVpbnQ2NCgwKSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJueiBjbG9zZU91dF9pZl9ib2R5QDMKICAgIGJ1cnkgMwoKY2xvc2VPdXRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzNgogICAgLy8gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSA9IHRoaXMudG90YWxTaGFyZXMudmFsdWUgPj0gc2hhcmVzVG9SZWRlZW0KICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTkKICAgIC8vIHRvdGFsU2hhcmVzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVG90YWwgY1VTREMgc2hhcmVzIGhlbGQgYnkgdmF1bHQKICAgIGJ5dGVjXzEgLy8gInRvdGFsU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzNgogICAgLy8gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSA9IHRoaXMudG90YWxTaGFyZXMudmFsdWUgPj0gc2hhcmVzVG9SZWRlZW0KICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNAogICAgPj0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MzYtNDM4CiAgICAvLyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlID0gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSA+PSBzaGFyZXNUb1JlZGVlbQogICAgLy8gICA/IHRoaXMudG90YWxTaGFyZXMudmFsdWUgLSBzaGFyZXNUb1JlZGVlbQogICAgLy8gICA6IFVpbnQ2NCgwKTsKICAgIGJ6IGNsb3NlT3V0X3Rlcm5hcnlfZmFsc2VANgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzNwogICAgLy8gPyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlIC0gc2hhcmVzVG9SZWRlZW0KICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTkKICAgIC8vIHRvdGFsU2hhcmVzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVG90YWwgY1VTREMgc2hhcmVzIGhlbGQgYnkgdmF1bHQKICAgIGJ5dGVjXzEgLy8gInRvdGFsU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzNwogICAgLy8gPyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlIC0gc2hhcmVzVG9SZWRlZW0KICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNAogICAgLQoKY2xvc2VPdXRfdGVybmFyeV9tZXJnZUA3OgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU5CiAgICAvLyB0b3RhbFNoYXJlcyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFRvdGFsIGNVU0RDIHNoYXJlcyBoZWxkIGJ5IHZhdWx0CiAgICBieXRlY18xIC8vICJ0b3RhbFNoYXJlcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MzYtNDM4CiAgICAvLyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlID0gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSA+PSBzaGFyZXNUb1JlZGVlbQogICAgLy8gICA/IHRoaXMudG90YWxTaGFyZXMudmFsdWUgLSBzaGFyZXNUb1JlZGVlbQogICAgLy8gICA6IFVpbnQ2NCgwKTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDM5CiAgICAvLyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlID0gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSA+PSB1c2RjVG9SZXR1cm4KICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjAKICAgIC8vIHRvdGFsUHJpbmNpcGFsID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgVVNEQyBwcmluY2lwYWwgZGVwb3NpdGVkIGJ5IHVzZXJzCiAgICBieXRlY18yIC8vICJ0b3RhbFByaW5jaXBhbCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MzkKICAgIC8vIHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUgPSB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlID49IHVzZGNUb1JldHVybgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAzCiAgICA+PQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzOS00NDEKICAgIC8vIHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUgPSB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlID49IHVzZGNUb1JldHVybgogICAgLy8gICA/IHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUgLSB1c2RjVG9SZXR1cm4KICAgIC8vICAgOiBVaW50NjQoMCk7CiAgICBieiBjbG9zZU91dF90ZXJuYXJ5X2ZhbHNlQDkKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NDAKICAgIC8vID8gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSAtIHVzZGNUb1JldHVybgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MAogICAgLy8gdG90YWxQcmluY2lwYWwgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBVU0RDIHByaW5jaXBhbCBkZXBvc2l0ZWQgYnkgdXNlcnMKICAgIGJ5dGVjXzIgLy8gInRvdGFsUHJpbmNpcGFsIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ0MAogICAgLy8gPyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlIC0gdXNkY1RvUmV0dXJuCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDMKICAgIC0KCmNsb3NlT3V0X3Rlcm5hcnlfbWVyZ2VAMTA6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjAKICAgIC8vIHRvdGFsUHJpbmNpcGFsID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgVVNEQyBwcmluY2lwYWwgZGVwb3NpdGVkIGJ5IHVzZXJzCiAgICBieXRlY18yIC8vICJ0b3RhbFByaW5jaXBhbCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MzktNDQxCiAgICAvLyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlID0gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSA+PSB1c2RjVG9SZXR1cm4KICAgIC8vICAgPyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlIC0gdXNkY1RvUmV0dXJuCiAgICAvLyAgIDogVWludDY0KDApOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NDQKICAgIC8vIGlmIChzaGFyZXNUb1JlZGVlbSA+IFVpbnQ2NCgwKSkgewogICAgZGlnIDMKICAgIGJ6IGNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VAMTgKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NDYtNDU5CiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKAogICAgLy8gICBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBzaGFyZXNUb1JlZGVlbSwKICAgIC8vICAgICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vICAgfSksCiAgICAvLyAgIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLAogICAgLy8gICAgIGFwcEFyZ3M6IFtCeXRlcygncmVkZWVtJyksIGl0b2Ioc2hhcmVzVG9SZWRlZW0pXSwKICAgIC8vICAgICBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIC8vICAgICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vICAgfSksCiAgICAvLyApOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ0OAogICAgLy8gYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU0CiAgICAvLyBvcmJpdGFsQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIE9yYml0YWwgTGVuZGluZyBhcHAgSUQKICAgIGJ5dGVjIDEyIC8vICJvcmJpdGFsQXBwSWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDQ4CiAgICAvLyBhc3NldFJlY2VpdmVyOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkdXAKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NDkKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MAogICAgLy8gY1VzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAvLyBjVVNEQyAoT3JiaXRhbCBMU1QpIGFzc2V0IElECiAgICBieXRlYyA0IC8vICJjVXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDQ5CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBkdXAKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICB1bmNvdmVyIDIKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ0Ny00NTIKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHNoYXJlc1RvUmVkZWVtLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLAogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NTEKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDUzLTQ1OAogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICBhcHBJZDogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLAogICAgLy8gICBhcHBBcmdzOiBbQnl0ZXMoJ3JlZGVlbScpLCBpdG9iKHNoYXJlc1RvUmVkZWVtKV0sCiAgICAvLyAgIGFzc2V0czogW0Fzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLCBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSldLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLAogICAgaXR4bl9uZXh0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDU1CiAgICAvLyBhcHBBcmdzOiBbQnl0ZXMoJ3JlZGVlbScpLCBpdG9iKHNoYXJlc1RvUmVkZWVtKV0sCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDU2CiAgICAvLyBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDkKICAgIC8vIHVzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBhc3NldCBJRAogICAgYnl0ZWNfMyAvLyAidXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDU2CiAgICAvLyBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBpdHhuX2ZpZWxkIEFzc2V0cwogICAgc3dhcAogICAgaXR4bl9maWVsZCBBc3NldHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NTUKICAgIC8vIGFwcEFyZ3M6IFtCeXRlcygncmVkZWVtJyksIGl0b2Ioc2hhcmVzVG9SZWRlZW0pXSwKICAgIGJ5dGVjIDIyIC8vICJyZWRlZW0iCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ1My00NTgKICAgIC8vIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKSwKICAgIC8vICAgYXBwQXJnczogW0J5dGVzKCdyZWRlZW0nKSwgaXRvYihzaGFyZXNUb1JlZGVlbSldLAogICAgLy8gICBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KSwKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDU3CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ0Ni00NTkKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoCiAgICAvLyAgIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSksCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IHNoYXJlc1RvUmVkZWVtLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdyZWRlZW0nKSwgaXRvYihzaGFyZXNUb1JlZGVlbSldLAogICAgLy8gICAgIGFzc2V0czogW0Fzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLCBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSldLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2MgogICAgLy8gaWYgKHVzZGNUb1JldHVybiA+IFVpbnQ2NCgwKSkgewogICAgZGlnIDIKICAgIGJ6IGNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VAMTgKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NjMtNDY4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNkY1RvUmV0dXJuLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2NAogICAgLy8gYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NjUKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ5CiAgICAvLyB1c2RjQXNzZXRJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgYXNzZXQgSUQKICAgIGJ5dGVjXzMgLy8gInVzZGNBc3NldElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2NQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2My00NjgKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2RjVG9SZXR1cm4sCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2NwogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NjMtNDY4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNkY1RvUmV0dXJuLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKCmNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VAMTg6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDc0CiAgICAvLyBpZiAodXNlckFzYVlpZWxkID4gVWludDY0KDApKSB7CiAgICBkdXAKICAgIGJ6IGNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VAMjEKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NzUtNDgwCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHVzZXJBc2FZaWVsZCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NzYKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDc3CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHByb2plY3RBc2FJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgLy8gUHJvamVjdCBBU0EgKHlpZWxkIHBhaWQgaW4gdGhpcykKICAgIGJ5dGVjIDExIC8vICJwcm9qZWN0QXNhSWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDc3CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ3NS00ODAKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5wcm9qZWN0QXNhSWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNlckFzYVlpZWxkLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NzkKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDc1LTQ4MAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2VyQXNhWWllbGQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKY2xvc2VPdXRfYWZ0ZXJfaWZfZWxzZUAyMToKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MDEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogJ0Nsb3NlT3V0JyB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKY2xvc2VPdXRfdGVybmFyeV9mYWxzZUA5OgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ0MQogICAgLy8gOiBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYiBjbG9zZU91dF90ZXJuYXJ5X21lcmdlQDEwCgpjbG9zZU91dF90ZXJuYXJ5X2ZhbHNlQDY6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDM4CiAgICAvLyA6IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBiIGNsb3NlT3V0X3Rlcm5hcnlfbWVyZ2VANwoKY2xvc2VPdXRfaWZfYm9keUAzOgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzMQogICAgLy8gY29uc3QgZmVlID0gdGhpcy5tdWxEaXZGbG9vcih1c2RjVG9SZXR1cm4sIHRoaXMud2l0aGRyYXdGZWVCcHMudmFsdWUsIEZFRV9CUFNfQkFTRSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc0CiAgICAvLyB3aXRoZHJhd0ZlZUJwcyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFdpdGhkcmF3IGZlZSBpbiBiYXNpcyBwb2ludHMKICAgIGJ5dGVjIDE1IC8vICJ3aXRoZHJhd0ZlZUJwcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MzEKICAgIC8vIGNvbnN0IGZlZSA9IHRoaXMubXVsRGl2Rmxvb3IodXNkY1RvUmV0dXJuLCB0aGlzLndpdGhkcmF3RmVlQnBzLnZhbHVlLCBGRUVfQlBTX0JBU0UpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBkaWcgMQogICAgbXVsdwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MzEKICAgIC8vIGNvbnN0IGZlZSA9IHRoaXMubXVsRGl2Rmxvb3IodXNkY1RvUmV0dXJuLCB0aGlzLndpdGhkcmF3RmVlQnBzLnZhbHVlLCBGRUVfQlBTX0JBU0UpOwogICAgaW50YyA0IC8vIDEwMDAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NgogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ092ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MzIKICAgIC8vIHVzZGNUb1JldHVybiA9IHVzZGNUb1JldHVybiAtIGZlZTsKICAgIC0KICAgIGJ1cnkgMwogICAgYiBjbG9zZU91dF9hZnRlcl9pZl9lbHNlQDQKCgovLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Ok9yYml0YWxWYXVsdC5kZXBvc2l0W3JvdXRpbmddKCkgLT4gdm9pZDoKZGVwb3NpdDoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0OTcKICAgIC8vIGFzc2VydCghdGhpcy5pc1BhdXNlZC52YWx1ZSwgJ0NvbnRyYWN0IGlzIHBhdXNlZCcpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NgogICAgLy8gaXNQYXVzZWQgPSBHbG9iYWxTdGF0ZTxib29sZWFuPigpOyAgICAgICAgICAvLyBFbWVyZ2VuY3kgcGF1c2UgZmxhZwogICAgYnl0ZWMgNyAvLyAiaXNQYXVzZWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDk3CiAgICAvLyBhc3NlcnQoIXRoaXMuaXNQYXVzZWQudmFsdWUsICdDb250cmFjdCBpcyBwYXVzZWQnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAhCiAgICBhc3NlcnQgLy8gQ29udHJhY3QgaXMgcGF1c2VkCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDk5CiAgICAvLyBjb25zdCBhcHBBZGRyOiBBY2NvdW50ID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3M7CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZHVwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTAwCiAgICAvLyBjb25zdCBjdXJyZW50SW5kZXggPSBUeG4uZ3JvdXBJbmRleDsKICAgIHR4biBHcm91cEluZGV4CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTAxCiAgICAvLyBhc3NlcnQoY3VycmVudEluZGV4ID49IFVpbnQ2NCgxKSwgJ0FwcCBjYWxsIG11c3QgZm9sbG93IGFzc2V0IHRyYW5zZmVyJyk7CiAgICBkdXAKICAgIGFzc2VydCAvLyBBcHAgY2FsbCBtdXN0IGZvbGxvdyBhc3NldCB0cmFuc2ZlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUwNAogICAgLy8gY29uc3QgZGVwb3NpdFRyYW5zZmVyID0gZ3R4bi5Bc3NldFRyYW5zZmVyVHhuKGN1cnJlbnRJbmRleCAtIFVpbnQ2NCgxKSk7CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18zIC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MDUKICAgIC8vIGFzc2VydChkZXBvc2l0VHJhbnNmZXIueGZlckFzc2V0ID09PSBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgJ011c3QgdHJhbnNmZXIgVVNEQycpOwogICAgZHVwCiAgICBndHhucyBYZmVyQXNzZXQKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDkKICAgIC8vIHVzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBhc3NldCBJRAogICAgYnl0ZWNfMyAvLyAidXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTA1CiAgICAvLyBhc3NlcnQoZGVwb3NpdFRyYW5zZmVyLnhmZXJBc3NldCA9PT0gQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksICdNdXN0IHRyYW5zZmVyIFVTREMnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3QgdHJhbnNmZXIgVVNEQwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUwNgogICAgLy8gYXNzZXJ0KGRlcG9zaXRUcmFuc2Zlci5hc3NldFJlY2VpdmVyID09PSBhcHBBZGRyLCAnTXVzdCBzZW5kIHRvIGNvbnRyYWN0Jyk7CiAgICBkdXAKICAgIGd0eG5zIEFzc2V0UmVjZWl2ZXIKICAgIHVuY292ZXIgMgogICAgPT0KICAgIGFzc2VydCAvLyBNdXN0IHNlbmQgdG8gY29udHJhY3QKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MDcKICAgIC8vIGFzc2VydChkZXBvc2l0VHJhbnNmZXIuc2VuZGVyID09PSBUeG4uc2VuZGVyLCAnVHJhbnNmZXIgbXVzdCBiZSBmcm9tIGNhbGxlcicpOwogICAgZHVwCiAgICBndHhucyBTZW5kZXIKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gVHJhbnNmZXIgbXVzdCBiZSBmcm9tIGNhbGxlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUwOQogICAgLy8gbGV0IGFtb3VudCA9IGRlcG9zaXRUcmFuc2Zlci5hc3NldEFtb3VudDsKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MTAKICAgIC8vIGFzc2VydChhbW91bnQgPj0gTUlOX0RFUE9TSVRfQU1PVU5ULCAnRGVwb3NpdCB0b28gc21hbGwnKTsKICAgIGludGNfMiAvLyAxMDAwMDAwCiAgICA+PQogICAgYXNzZXJ0IC8vIERlcG9zaXQgdG9vIHNtYWxsCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTEzCiAgICAvLyB0aGlzLnVwZGF0ZVVzZGNZaWVsZEFjY3VtdWxhdG9yKCk7CiAgICBjYWxsc3ViIHVwZGF0ZVVzZGNZaWVsZEFjY3VtdWxhdG9yCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTE0CiAgICAvLyB0aGlzLnVwZGF0ZVVzZXJVc2RjWWllbGQoVHhuLnNlbmRlcik7CiAgICB0eG4gU2VuZGVyCiAgICBjYWxsc3ViIHVwZGF0ZVVzZXJVc2RjWWllbGQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MTUKICAgIC8vIHRoaXMudXBkYXRlVXNlckFzYVlpZWxkKFR4bi5zZW5kZXIpOwogICAgdHhuIFNlbmRlcgogICAgY2FsbHN1YiB1cGRhdGVVc2VyQXNhWWllbGQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MTgKICAgIC8vIGlmICh0aGlzLmRlcG9zaXRGZWVCcHMudmFsdWUgPiBVaW50NjQoMCkpIHsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzMKICAgIC8vIGRlcG9zaXRGZWVCcHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gRGVwb3NpdCBmZWUgaW4gYmFzaXMgcG9pbnRzCiAgICBieXRlYyAyMSAvLyAiZGVwb3NpdEZlZUJwcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MTgKICAgIC8vIGlmICh0aGlzLmRlcG9zaXRGZWVCcHMudmFsdWUgPiBVaW50NjQoMCkpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBieiBkZXBvc2l0X2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUxOQogICAgLy8gY29uc3QgZmVlID0gdGhpcy5tdWxEaXZGbG9vcihhbW91bnQsIHRoaXMuZGVwb3NpdEZlZUJwcy52YWx1ZSwgRkVFX0JQU19CQVNFKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzMKICAgIC8vIGRlcG9zaXRGZWVCcHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gRGVwb3NpdCBmZWUgaW4gYmFzaXMgcG9pbnRzCiAgICBieXRlYyAyMSAvLyAiZGVwb3NpdEZlZUJwcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MTkKICAgIC8vIGNvbnN0IGZlZSA9IHRoaXMubXVsRGl2Rmxvb3IoYW1vdW50LCB0aGlzLmRlcG9zaXRGZWVCcHMudmFsdWUsIEZFRV9CUFNfQkFTRSk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGRpZyAxCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUxOQogICAgLy8gY29uc3QgZmVlID0gdGhpcy5tdWxEaXZGbG9vcihhbW91bnQsIHRoaXMuZGVwb3NpdEZlZUJwcy52YWx1ZSwgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTYKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTIwCiAgICAvLyBhbW91bnQgPSBhbW91bnQgLSBmZWU7CiAgICAtCgpkZXBvc2l0X2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MjUKICAgIC8vIGNvbnN0IGNVc2RjQmVmb3JlID0gQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUwCiAgICAvLyBjVXNkY0Fzc2V0SWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIGNVU0RDIChPcmJpdGFsIExTVCkgYXNzZXQgSUQKICAgIGJ5dGVjIDQgLy8gImNVc2RjQXNzZXRJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MjUKICAgIC8vIGNvbnN0IGNVc2RjQmVmb3JlID0gQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgZGlnIDEKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUyOC01NDEKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoCiAgICAvLyAgIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50LAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdkZXBvc2l0JyldLAogICAgLy8gICAgIGFzc2V0czogW0Fzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLCBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSldLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTMwCiAgICAvLyBhc3NldFJlY2VpdmVyOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTQKICAgIC8vIG9yYml0YWxBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgLy8gT3JiaXRhbCBMZW5kaW5nIGFwcCBJRAogICAgYnl0ZWMgMTIgLy8gIm9yYml0YWxBcHBJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MzAKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGR1cAogICAgYXBwX3BhcmFtc19nZXQgQXBwQWRkcmVzcwogICAgYXNzZXJ0IC8vIGFwcGxpY2F0aW9uIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUzMQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDkKICAgIC8vIHVzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBhc3NldCBJRAogICAgYnl0ZWNfMyAvLyAidXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTMxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyA2CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBkdXAKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MjktNTM0CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IGFtb3VudCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KSwKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTMzCiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUzNS01NDAKICAgIC8vIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKSwKICAgIC8vICAgYXBwQXJnczogW0J5dGVzKCdkZXBvc2l0JyldLAogICAgLy8gICBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KSwKICAgIGl0eG5fbmV4dAogICAgaXR4bl9maWVsZCBBc3NldHMKICAgIGRpZyAyCiAgICBpdHhuX2ZpZWxkIEFzc2V0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUzNwogICAgLy8gYXBwQXJnczogW0J5dGVzKCdkZXBvc2l0JyldLAogICAgcHVzaGJ5dGVzICJkZXBvc2l0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUzNS01NDAKICAgIC8vIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKSwKICAgIC8vICAgYXBwQXJnczogW0J5dGVzKCdkZXBvc2l0JyldLAogICAgLy8gICBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KSwKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTM5CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUyOC01NDEKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoCiAgICAvLyAgIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgICBhc3NldEFtb3VudDogYW1vdW50LAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdkZXBvc2l0JyldLAogICAgLy8gICAgIGFzc2V0czogW0Fzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLCBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSldLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU0NAogICAgLy8gY29uc3QgY1VzZGNBZnRlciA9IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgY292ZXIgMgogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTQ1CiAgICAvLyBjb25zdCBjVXNkY1JlY2VpdmVkOiB1aW50NjQgPSBjVXNkY0FmdGVyIC0gY1VzZGNCZWZvcmU7CiAgICBzd2FwCiAgICAtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTQ3CiAgICAvLyBhc3NlcnQoY1VzZGNSZWNlaXZlZCA+IFVpbnQ2NCgwKSwgJ05vIGNVU0RDIHJlY2VpdmVkIGZyb20gT3JiaXRhbCcpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gTm8gY1VTREMgcmVjZWl2ZWQgZnJvbSBPcmJpdGFsCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTUwCiAgICAvLyB0aGlzLnVzZXJTaGFyZXMoVHhuLnNlbmRlcikudmFsdWUgPSB0aGlzLnVzZXJTaGFyZXMoVHhuLnNlbmRlcikudmFsdWUgKyBjVXNkY1JlY2VpdmVkOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MAogICAgLy8gdXNlclNoYXJlcyA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgICAgICAgLy8gVXNlcidzIGNVU0RDIHNoYXJlIGJhbGFuY2UKICAgIGJ5dGVjIDYgLy8gInVzZXJTaGFyZXMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTUwCiAgICAvLyB0aGlzLnVzZXJTaGFyZXMoVHhuLnNlbmRlcikudmFsdWUgPSB0aGlzLnVzZXJTaGFyZXMoVHhuLnNlbmRlcikudmFsdWUgKyBjVXNkY1JlY2VpdmVkOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgKwogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgwCiAgICAvLyB1c2VyU2hhcmVzID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgICAgICAvLyBVc2VyJ3MgY1VTREMgc2hhcmUgYmFsYW5jZQogICAgYnl0ZWMgNiAvLyAidXNlclNoYXJlcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NTAKICAgIC8vIHRoaXMudXNlclNoYXJlcyhUeG4uc2VuZGVyKS52YWx1ZSA9IHRoaXMudXNlclNoYXJlcyhUeG4uc2VuZGVyKS52YWx1ZSArIGNVc2RjUmVjZWl2ZWQ7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9sb2NhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NTEKICAgIC8vIHRoaXMudG90YWxTaGFyZXMudmFsdWUgPSB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlICsgY1VzZGNSZWNlaXZlZDsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTkKICAgIC8vIHRvdGFsU2hhcmVzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVG90YWwgY1VTREMgc2hhcmVzIGhlbGQgYnkgdmF1bHQKICAgIGJ5dGVjXzEgLy8gInRvdGFsU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU1MQogICAgLy8gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSA9IHRoaXMudG90YWxTaGFyZXMudmFsdWUgKyBjVXNkY1JlY2VpdmVkOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1OQogICAgLy8gdG90YWxTaGFyZXMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBUb3RhbCBjVVNEQyBzaGFyZXMgaGVsZCBieSB2YXVsdAogICAgYnl0ZWNfMSAvLyAidG90YWxTaGFyZXMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTUxCiAgICAvLyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlID0gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSArIGNVc2RjUmVjZWl2ZWQ7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU1MgogICAgLy8gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSA9IHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUgKyBhbW91bnQ7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYwCiAgICAvLyB0b3RhbFByaW5jaXBhbCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIFVTREMgcHJpbmNpcGFsIGRlcG9zaXRlZCBieSB1c2VycwogICAgYnl0ZWNfMiAvLyAidG90YWxQcmluY2lwYWwiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTUyCiAgICAvLyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlID0gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSArIGFtb3VudDsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICArCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjAKICAgIC8vIHRvdGFsUHJpbmNpcGFsID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgVVNEQyBwcmluY2lwYWwgZGVwb3NpdGVkIGJ5IHVzZXJzCiAgICBieXRlY18yIC8vICJ0b3RhbFByaW5jaXBhbCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NTIKICAgIC8vIHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUgPSB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlICsgYW1vdW50OwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0OTUKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQud2l0aGRyYXdbcm91dGluZ10oKSAtPiB2b2lkOgp3aXRoZHJhdzoKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiAyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTU5CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTYxCiAgICAvLyBhc3NlcnQoIXRoaXMuaXNQYXVzZWQudmFsdWUsICdDb250cmFjdCBpcyBwYXVzZWQnKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDYKICAgIC8vIGlzUGF1c2VkID0gR2xvYmFsU3RhdGU8Ym9vbGVhbj4oKTsgICAgICAgICAgLy8gRW1lcmdlbmN5IHBhdXNlIGZsYWcKICAgIGJ5dGVjIDcgLy8gImlzUGF1c2VkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU2MQogICAgLy8gYXNzZXJ0KCF0aGlzLmlzUGF1c2VkLnZhbHVlLCAnQ29udHJhY3QgaXMgcGF1c2VkJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgIQogICAgYXNzZXJ0IC8vIENvbnRyYWN0IGlzIHBhdXNlZAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU2NAogICAgLy8gdGhpcy51cGRhdGVVc2RjWWllbGRBY2N1bXVsYXRvcigpOwogICAgY2FsbHN1YiB1cGRhdGVVc2RjWWllbGRBY2N1bXVsYXRvcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU2NQogICAgLy8gdGhpcy51cGRhdGVVc2VyVXNkY1lpZWxkKFR4bi5zZW5kZXIpOwogICAgdHhuIFNlbmRlcgogICAgY2FsbHN1YiB1cGRhdGVVc2VyVXNkY1lpZWxkCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTY2CiAgICAvLyB0aGlzLnVwZGF0ZVVzZXJBc2FZaWVsZChUeG4uc2VuZGVyKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgdXBkYXRlVXNlckFzYVlpZWxkCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTY4CiAgICAvLyBjb25zdCB1c2VyU2hhcmVCYWxhbmNlID0gdGhpcy51c2VyU2hhcmVzKFR4bi5zZW5kZXIpLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MAogICAgLy8gdXNlclNoYXJlcyA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgICAgICAgLy8gVXNlcidzIGNVU0RDIHNoYXJlIGJhbGFuY2UKICAgIGJ5dGVjIDYgLy8gInVzZXJTaGFyZXMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTY4CiAgICAvLyBjb25zdCB1c2VyU2hhcmVCYWxhbmNlID0gdGhpcy51c2VyU2hhcmVzKFR4bi5zZW5kZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBjb3ZlciAzCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NjkKICAgIC8vIGNvbnN0IGN1cnJlbnRSYXRlID0gdGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NQogICAgLy8gbGFzdFJhdGVTbmFwc2hvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBFeGNoYW5nZSByYXRlIGF0IGxhc3QgY2hlY2twb2ludAogICAgYnl0ZWNfMCAvLyAibGFzdFJhdGVTbmFwc2hvdCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NjkKICAgIC8vIGNvbnN0IGN1cnJlbnRSYXRlID0gdGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgNAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTcyCiAgICAvLyBjb25zdCB1c2VyVXNkY1ZhbHVlID0gdGhpcy5tdWxEaXZGbG9vcih1c2VyU2hhcmVCYWxhbmNlLCBjdXJyZW50UmF0ZSwgUkFURV9QUkVDSVNJT04pOwogICAgaW50Y18yIC8vIDEwMDAwMDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgY292ZXIgMgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU3NQogICAgLy8gaWYgKHdpdGhkcmF3QW1vdW50ID09PSBVaW50NjQoMCkpIHsKICAgIGJ6IHdpdGhkcmF3X2lmX2JvZHlAMgogICAgZGlnIDMKICAgIGJ1cnkgNQoKd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU3OQogICAgLy8gYXNzZXJ0KHdpdGhkcmF3QW1vdW50ID4gVWludDY0KDApLCAnTm90aGluZyB0byB3aXRoZHJhdycpOwogICAgZGlnIDQKICAgIGR1cAogICAgYXNzZXJ0IC8vIE5vdGhpbmcgdG8gd2l0aGRyYXcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1ODAKICAgIC8vIGFzc2VydCh3aXRoZHJhd0Ftb3VudCA8PSB1c2VyVXNkY1ZhbHVlLCAnSW5zdWZmaWNpZW50IGJhbGFuY2UnKTsKICAgIGR1cAogICAgZGlnIDIKICAgIDw9CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IGJhbGFuY2UKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1ODMKICAgIC8vIGNvbnN0IGNVc2RjVG9SZWRlZW0gPSB0aGlzLm11bERpdkNlaWwod2l0aGRyYXdBbW91bnQsIFJBVEVfUFJFQ0lTSU9OLCBjdXJyZW50UmF0ZSk7CiAgICBpbnRjXzIgLy8gMTAwMDAwMAogICAgZGlnIDMKICAgIGNhbGxzdWIgbXVsRGl2Q2VpbAogICAgZHVwCiAgICBidXJ5IDgKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1ODQKICAgIC8vIGFzc2VydChjVXNkY1RvUmVkZWVtIDw9IHVzZXJTaGFyZUJhbGFuY2UsICdTaGFyZSBjYWxjdWxhdGlvbiBlcnJvcicpOwogICAgZHVwCiAgICBkaWcgNAogICAgPD0KICAgIGFzc2VydCAvLyBTaGFyZSBjYWxjdWxhdGlvbiBlcnJvcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU4NgogICAgLy8gY29uc3QgYXBwQWRkcjogQWNjb3VudCA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzOwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1ODkKICAgIC8vIGNvbnN0IHVzZGNCZWZvcmUgPSBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0OQogICAgLy8gdXNkY0Fzc2V0SWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBVU0RDIGFzc2V0IElECiAgICBieXRlY18zIC8vICJ1c2RjQXNzZXRJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1ODkKICAgIC8vIGNvbnN0IHVzZGNCZWZvcmUgPSBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGR1cDIKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU5Mi02MDUKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoCiAgICAvLyAgIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSksCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IGNVc2RjVG9SZWRlZW0sCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gICBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKSwKICAgIC8vICAgICBhcHBBcmdzOiBbQnl0ZXMoJ3JlZGVlbScpLCBpdG9iKGNVc2RjVG9SZWRlZW0pXSwKICAgIC8vICAgICBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIC8vICAgICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vICAgfSksCiAgICAvLyApOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU5NAogICAgLy8gYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU0CiAgICAvLyBvcmJpdGFsQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIE9yYml0YWwgTGVuZGluZyBhcHAgSUQKICAgIGJ5dGVjIDEyIC8vICJvcmJpdGFsQXBwSWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTk0CiAgICAvLyBhc3NldFJlY2VpdmVyOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSkuYWRkcmVzcywKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkdXAKICAgIGFwcF9wYXJhbXNfZ2V0IEFwcEFkZHJlc3MKICAgIGFzc2VydCAvLyBhcHBsaWNhdGlvbiBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1OTUKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MAogICAgLy8gY1VzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAvLyBjVVNEQyAoT3JiaXRhbCBMU1QpIGFzc2V0IElECiAgICBieXRlYyA0IC8vICJjVXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTk1CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgZHVwCiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgc3dhcAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTkzLTU5OAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogY1VzZGNUb1JlZGVlbSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KSwKICAgIGludGNfMyAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTk3CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU5OS02MDQKICAgIC8vIGl0eG4uYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKSwKICAgIC8vICAgYXBwQXJnczogW0J5dGVzKCdyZWRlZW0nKSwgaXRvYihjVXNkY1RvUmVkZWVtKV0sCiAgICAvLyAgIGFzc2V0czogW0Fzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLCBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSldLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLAogICAgaXR4bl9uZXh0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjAxCiAgICAvLyBhcHBBcmdzOiBbQnl0ZXMoJ3JlZGVlbScpLCBpdG9iKGNVc2RjVG9SZWRlZW0pXSwKICAgIHVuY292ZXIgNQogICAgaXRvYgogICAgZGlnIDQKICAgIGl0eG5fZmllbGQgQXNzZXRzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFzc2V0cwogICAgYnl0ZWMgMjIgLy8gInJlZGVlbSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTk5LTYwNAogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICBhcHBJZDogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLAogICAgLy8gICBhcHBBcmdzOiBbQnl0ZXMoJ3JlZGVlbScpLCBpdG9iKGNVc2RjVG9SZWRlZW0pXSwKICAgIC8vICAgYXNzZXRzOiBbQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksIEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKV0sCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSksCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYwMwogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1OTItNjA1CiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKAogICAgLy8gICBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBjVXNkY1RvUmVkZWVtLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdyZWRlZW0nKSwgaXRvYihjVXNkY1RvUmVkZWVtKV0sCiAgICAvLyAgICAgYXNzZXRzOiBbQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksIEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKV0sCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjA4CiAgICAvLyBjb25zdCB1c2RjQWZ0ZXIgPSBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgY292ZXIgMgogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjA5CiAgICAvLyBsZXQgdXNkY1JlY2VpdmVkOiB1aW50NjQgPSB1c2RjQWZ0ZXIgLSB1c2RjQmVmb3JlOwogICAgc3dhcAogICAgLQogICAgYnVyeSA2CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjEyCiAgICAvLyBpZiAodGhpcy53aXRoZHJhd0ZlZUJwcy52YWx1ZSA+IFVpbnQ2NCgwKSkgewogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NAogICAgLy8gd2l0aGRyYXdGZWVCcHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBXaXRoZHJhdyBmZWUgaW4gYmFzaXMgcG9pbnRzCiAgICBieXRlYyAxNSAvLyAid2l0aGRyYXdGZWVCcHMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjEyCiAgICAvLyBpZiAodGhpcy53aXRoZHJhd0ZlZUJwcy52YWx1ZSA+IFVpbnQ2NCgwKSkgewogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGJ6IHdpdGhkcmF3X2FmdGVyX2lmX2Vsc2VANwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYxMwogICAgLy8gY29uc3QgZmVlID0gdGhpcy5tdWxEaXZGbG9vcih1c2RjUmVjZWl2ZWQsIHRoaXMud2l0aGRyYXdGZWVCcHMudmFsdWUsIEZFRV9CUFNfQkFTRSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc0CiAgICAvLyB3aXRoZHJhd0ZlZUJwcyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFdpdGhkcmF3IGZlZSBpbiBiYXNpcyBwb2ludHMKICAgIGJ5dGVjIDE1IC8vICJ3aXRoZHJhd0ZlZUJwcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MTMKICAgIC8vIGNvbnN0IGZlZSA9IHRoaXMubXVsRGl2Rmxvb3IodXNkY1JlY2VpdmVkLCB0aGlzLndpdGhkcmF3RmVlQnBzLnZhbHVlLCBGRUVfQlBTX0JBU0UpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBkaWcgNgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjEzCiAgICAvLyBjb25zdCBmZWUgPSB0aGlzLm11bERpdkZsb29yKHVzZGNSZWNlaXZlZCwgdGhpcy53aXRoZHJhd0ZlZUJwcy52YWx1ZSwgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTYKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjE0CiAgICAvLyB1c2RjUmVjZWl2ZWQgPSB1c2RjUmVjZWl2ZWQgLSBmZWU7CiAgICAtCiAgICBidXJ5IDYKCndpdGhkcmF3X2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MTgKICAgIC8vIHRoaXMudXNlclNoYXJlcyhUeG4uc2VuZGVyKS52YWx1ZSA9IHVzZXJTaGFyZUJhbGFuY2UgLSBjVXNkY1RvUmVkZWVtOwogICAgZGlnIDIKICAgIGRpZyA3CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC0KICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MAogICAgLy8gdXNlclNoYXJlcyA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgICAgICAgLy8gVXNlcidzIGNVU0RDIHNoYXJlIGJhbGFuY2UKICAgIGJ5dGVjIDYgLy8gInVzZXJTaGFyZXMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjE4CiAgICAvLyB0aGlzLnVzZXJTaGFyZXMoVHhuLnNlbmRlcikudmFsdWUgPSB1c2VyU2hhcmVCYWxhbmNlIC0gY1VzZGNUb1JlZGVlbTsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYxOQogICAgLy8gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSA9IHRoaXMudG90YWxTaGFyZXMudmFsdWUgLSBjVXNkY1RvUmVkZWVtOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1OQogICAgLy8gdG90YWxTaGFyZXMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBUb3RhbCBjVVNEQyBzaGFyZXMgaGVsZCBieSB2YXVsdAogICAgYnl0ZWNfMSAvLyAidG90YWxTaGFyZXMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjE5CiAgICAvLyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlID0gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSAtIGNVc2RjVG9SZWRlZW07CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgc3dhcAogICAgLQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU5CiAgICAvLyB0b3RhbFNoYXJlcyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFRvdGFsIGNVU0RDIHNoYXJlcyBoZWxkIGJ5IHZhdWx0CiAgICBieXRlY18xIC8vICJ0b3RhbFNoYXJlcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MTkKICAgIC8vIHRoaXMudG90YWxTaGFyZXMudmFsdWUgPSB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlIC0gY1VzZGNUb1JlZGVlbTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjIyCiAgICAvLyBpZiAodGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSA+IHdpdGhkcmF3QW1vdW50KSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYwCiAgICAvLyB0b3RhbFByaW5jaXBhbCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIFVTREMgcHJpbmNpcGFsIGRlcG9zaXRlZCBieSB1c2VycwogICAgYnl0ZWNfMiAvLyAidG90YWxQcmluY2lwYWwiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjIyCiAgICAvLyBpZiAodGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSA+IHdpdGhkcmF3QW1vdW50KSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDUKICAgID4KICAgIGJ6IHdpdGhkcmF3X2Vsc2VfYm9keUA5CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjIzCiAgICAvLyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlID0gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSAtIHdpdGhkcmF3QW1vdW50OwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MAogICAgLy8gdG90YWxQcmluY2lwYWwgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBVU0RDIHByaW5jaXBhbCBkZXBvc2l0ZWQgYnkgdXNlcnMKICAgIGJ5dGVjXzIgLy8gInRvdGFsUHJpbmNpcGFsIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYyMwogICAgLy8gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSA9IHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUgLSB3aXRoZHJhd0Ftb3VudDsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNQogICAgLQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYwCiAgICAvLyB0b3RhbFByaW5jaXBhbCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIFVTREMgcHJpbmNpcGFsIGRlcG9zaXRlZCBieSB1c2VycwogICAgYnl0ZWNfMiAvLyAidG90YWxQcmluY2lwYWwiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjIzCiAgICAvLyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlID0gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSAtIHdpdGhkcmF3QW1vdW50OwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKCndpdGhkcmF3X2FmdGVyX2lmX2Vsc2VAMTA6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjI5LTYzNAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHVzZGNSZWNlaXZlZCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MzAKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjMxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0OQogICAgLy8gdXNkY0Fzc2V0SWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBVU0RDIGFzc2V0IElECiAgICBieXRlY18zIC8vICJ1c2RjQXNzZXRJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MzEKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDcKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MjktNjM0CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNkY1JlY2VpdmVkLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaW50Y18zIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MzMKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjI5LTYzNAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHVzZGNSZWNlaXZlZCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTU5CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKd2l0aGRyYXdfZWxzZV9ib2R5QDk6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjAKICAgIC8vIHRvdGFsUHJpbmNpcGFsID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgVVNEQyBwcmluY2lwYWwgZGVwb3NpdGVkIGJ5IHVzZXJzCiAgICBieXRlY18yIC8vICJ0b3RhbFByaW5jaXBhbCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MjUKICAgIC8vIHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKICAgIGIgd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAxMAoKd2l0aGRyYXdfaWZfYm9keUAyOgogICAgZHVwCiAgICBidXJ5IDUKICAgIGIgd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAzCgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQuY2xhaW1ZaWVsZFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmNsYWltWWllbGQ6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjQ2CiAgICAvLyBhc3NlcnQoIXRoaXMuaXNQYXVzZWQudmFsdWUsICdDb250cmFjdCBpcyBwYXVzZWQnKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDYKICAgIC8vIGlzUGF1c2VkID0gR2xvYmFsU3RhdGU8Ym9vbGVhbj4oKTsgICAgICAgICAgLy8gRW1lcmdlbmN5IHBhdXNlIGZsYWcKICAgIGJ5dGVjIDcgLy8gImlzUGF1c2VkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY0NgogICAgLy8gYXNzZXJ0KCF0aGlzLmlzUGF1c2VkLnZhbHVlLCAnQ29udHJhY3QgaXMgcGF1c2VkJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgIQogICAgYXNzZXJ0IC8vIENvbnRyYWN0IGlzIHBhdXNlZAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY0OQogICAgLy8gdGhpcy51cGRhdGVVc2RjWWllbGRBY2N1bXVsYXRvcigpOwogICAgY2FsbHN1YiB1cGRhdGVVc2RjWWllbGRBY2N1bXVsYXRvcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY1MAogICAgLy8gdGhpcy51cGRhdGVVc2VyVXNkY1lpZWxkKFR4bi5zZW5kZXIpOwogICAgdHhuIFNlbmRlcgogICAgY2FsbHN1YiB1cGRhdGVVc2VyVXNkY1lpZWxkCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUxCiAgICAvLyB0aGlzLnVwZGF0ZVVzZXJBc2FZaWVsZChUeG4uc2VuZGVyKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgdXBkYXRlVXNlckFzYVlpZWxkCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUzCiAgICAvLyBjb25zdCBjbGFpbWFibGUgPSB0aGlzLmVhcm5lZEFzYShUeG4uc2VuZGVyKS52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODQKICAgIC8vIGVhcm5lZEFzYSA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgICAgICAgIC8vIEFTQSB5aWVsZCByZWFkeSB0byBjbGFpbQogICAgYnl0ZWMgOCAvLyAiZWFybmVkQXNhIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY1MwogICAgLy8gY29uc3QgY2xhaW1hYmxlID0gdGhpcy5lYXJuZWRBc2EoVHhuLnNlbmRlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NTQKICAgIC8vIGFzc2VydChjbGFpbWFibGUgPiBVaW50NjQoMCksICdOb3RoaW5nIHRvIGNsYWltJyk7CiAgICBkdXAKICAgIGFzc2VydCAvLyBOb3RoaW5nIHRvIGNsYWltCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjU3CiAgICAvLyB0aGlzLmVhcm5lZEFzYShUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NAogICAgLy8gZWFybmVkQXNhID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgICAgICAgLy8gQVNBIHlpZWxkIHJlYWR5IHRvIGNsYWltCiAgICBieXRlYyA4IC8vICJlYXJuZWRBc2EiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjU3CiAgICAvLyB0aGlzLmVhcm5lZEFzYShUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjYwLTY2NQogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjYxCiAgICAvLyBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY2MgogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyBwcm9qZWN0QXNhSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIFByb2plY3QgQVNBICh5aWVsZCBwYWlkIGluIHRoaXMpCiAgICBieXRlYyAxMSAvLyAicHJvamVjdEFzYUlkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY2MgogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjYwLTY2NQogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY2NAogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NjAtNjY1CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IGNsYWltYWJsZSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjQ0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo6T3JiaXRhbFZhdWx0LmhhcnZlc3RBbmRTd2FwW3JvdXRpbmddKCkgLT4gdm9pZDoKaGFydmVzdEFuZFN3YXA6CiAgICBwdXNoYnl0ZXMgIiIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NzYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCA4IC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NzgKICAgIC8vIGNvbnN0IGlzQ3JlYXRvciA9IFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvci52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDIKICAgIC8vIGNyZWF0b3IgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgICAgICAgICAgLy8gVmF1bHQgY3JlYXRvci9hZG1pbgogICAgYnl0ZWMgMTAgLy8gImNyZWF0b3IiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njc4CiAgICAvLyBjb25zdCBpc0NyZWF0b3IgPSBUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3IudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NzkKICAgIC8vIGNvbnN0IGlzUmFyZWZpID0gVHhuLnNlbmRlciA9PT0gdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MwogICAgLy8gcmFyZWZpQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgICAvLyBSYXJlRmkgcGxhdGZvcm0gYWRkcmVzcwogICAgYnl0ZWMgMTQgLy8gInJhcmVmaUFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njc5CiAgICAvLyBjb25zdCBpc1JhcmVmaSA9IFR4bi5zZW5kZXIgPT09IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY4MAogICAgLy8gYXNzZXJ0KGlzQ3JlYXRvciB8fCBpc1JhcmVmaSwgJ09ubHkgY3JlYXRvciBvciBSYXJlRmkgY2FuIGhhcnZlc3QnKTsKICAgIHx8CiAgICBhc3NlcnQgLy8gT25seSBjcmVhdG9yIG9yIFJhcmVGaSBjYW4gaGFydmVzdAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY4MQogICAgLy8gYXNzZXJ0KCF0aGlzLmlzUGF1c2VkLnZhbHVlLCAnQ29udHJhY3QgaXMgcGF1c2VkJyk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ2CiAgICAvLyBpc1BhdXNlZCA9IEdsb2JhbFN0YXRlPGJvb2xlYW4+KCk7ICAgICAgICAgIC8vIEVtZXJnZW5jeSBwYXVzZSBmbGFnCiAgICBieXRlYyA3IC8vICJpc1BhdXNlZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2ODEKICAgIC8vIGFzc2VydCghdGhpcy5pc1BhdXNlZC52YWx1ZSwgJ0NvbnRyYWN0IGlzIHBhdXNlZCcpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICEKICAgIGFzc2VydCAvLyBDb250cmFjdCBpcyBwYXVzZWQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2ODIKICAgIC8vIGFzc2VydChzbGlwcGFnZUJwcyA8PSBNQVhfU0xJUFBBR0VfQlBTLCAnU2xpcHBhZ2UgdG9vIGhpZ2gnKTsKICAgIHB1c2hpbnQgMTAwMCAvLyAxMDAwCiAgICA8PQogICAgYXNzZXJ0IC8vIFNsaXBwYWdlIHRvbyBoaWdoCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njg1CiAgICAvLyB0aGlzLnVwZGF0ZVVzZGNZaWVsZEFjY3VtdWxhdG9yKCk7CiAgICBjYWxsc3ViIHVwZGF0ZVVzZGNZaWVsZEFjY3VtdWxhdG9yCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njg3CiAgICAvLyBjb25zdCBhcHBBZGRyOiBBY2NvdW50ID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3M7CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgZHVwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njg4CiAgICAvLyBjb25zdCBjdXJyZW50UmF0ZSA9IHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGxhc3RSYXRlU25hcHNob3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gRXhjaGFuZ2UgcmF0ZSBhdCBsYXN0IGNoZWNrcG9pbnQKICAgIGJ5dGVjXzAgLy8gImxhc3RSYXRlU25hcHNob3QiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njg4CiAgICAvLyBjb25zdCBjdXJyZW50UmF0ZSA9IHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njg5CiAgICAvLyBjb25zdCBjVXNkY0JhbGFuY2UgPSBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTAKICAgIC8vIGNVc2RjQXNzZXRJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgLy8gY1VTREMgKE9yYml0YWwgTFNUKSBhc3NldCBJRAogICAgYnl0ZWMgNCAvLyAiY1VzZGNBc3NldElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY4OQogICAgLy8gY29uc3QgY1VzZGNCYWxhbmNlID0gQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDIKICAgIHN3YXAKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGRpZyAxCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY5MgogICAgLy8gY29uc3QgY3VycmVudFZhbHVlVXNkYyA9IHRoaXMubXVsRGl2Rmxvb3IoY1VzZGNCYWxhbmNlLCBjdXJyZW50UmF0ZSwgUkFURV9QUkVDSVNJT04pOwogICAgaW50Y18yIC8vIDEwMDAwMDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY5NQogICAgLy8gYXNzZXJ0KGN1cnJlbnRWYWx1ZVVzZGMgPj0gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZSwgJ05vIHlpZWxkIHRvIGhhcnZlc3QnKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjAKICAgIC8vIHRvdGFsUHJpbmNpcGFsID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgVVNEQyBwcmluY2lwYWwgZGVwb3NpdGVkIGJ5IHVzZXJzCiAgICBieXRlY18yIC8vICJ0b3RhbFByaW5jaXBhbCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2OTUKICAgIC8vIGFzc2VydChjdXJyZW50VmFsdWVVc2RjID49IHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUsICdObyB5aWVsZCB0byBoYXJ2ZXN0Jyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZHVwMgogICAgPj0KICAgIGFzc2VydCAvLyBObyB5aWVsZCB0byBoYXJ2ZXN0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njk2CiAgICAvLyBjb25zdCB0b3RhbFVucmVhbGl6ZWRVc2RjOiB1aW50NjQgPSBjdXJyZW50VmFsdWVVc2RjIC0gdGhpcy50b3RhbFByaW5jaXBhbC52YWx1ZTsKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2OTgKICAgIC8vIGFzc2VydCh0b3RhbFVucmVhbGl6ZWRVc2RjID49IHRoaXMubWluSGFydmVzdFRocmVzaG9sZC52YWx1ZSwgJ0JlbG93IG1pbmltdW0gaGFydmVzdCB0aHJlc2hvbGQnKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzAKICAgIC8vIG1pbkhhcnZlc3RUaHJlc2hvbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gTWluaW11bSBVU0RDIHlpZWxkIGJlZm9yZSBoYXJ2ZXN0CiAgICBieXRlYyAyMCAvLyAibWluSGFydmVzdFRocmVzaG9sZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2OTgKICAgIC8vIGFzc2VydCh0b3RhbFVucmVhbGl6ZWRVc2RjID49IHRoaXMubWluSGFydmVzdFRocmVzaG9sZC52YWx1ZSwgJ0JlbG93IG1pbmltdW0gaGFydmVzdCB0aHJlc2hvbGQnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgPD0KICAgIGFzc2VydCAvLyBCZWxvdyBtaW5pbXVtIGhhcnZlc3QgdGhyZXNob2xkCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njk5CiAgICAvLyBhc3NlcnQodGhpcy50b3RhbFNoYXJlcy52YWx1ZSA+IFVpbnQ2NCgwKSwgJ05vIGRlcG9zaXRvcnMnKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTkKICAgIC8vIHRvdGFsU2hhcmVzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVG90YWwgY1VTREMgc2hhcmVzIGhlbGQgYnkgdmF1bHQKICAgIGJ5dGVjXzEgLy8gInRvdGFsU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY5OQogICAgLy8gYXNzZXJ0KHRoaXMudG90YWxTaGFyZXMudmFsdWUgPiBVaW50NjQoMCksICdObyBkZXBvc2l0b3JzJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYXNzZXJ0IC8vIE5vIGRlcG9zaXRvcnMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MDIKICAgIC8vIGNvbnN0IGNVc2RjVG9SZWRlZW0gPSB0aGlzLm11bERpdkNlaWwodG90YWxVbnJlYWxpemVkVXNkYywgUkFURV9QUkVDSVNJT04sIGN1cnJlbnRSYXRlKTsKICAgIGludGNfMiAvLyAxMDAwMDAwCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgbXVsRGl2Q2VpbAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcwNQogICAgLy8gY29uc3QgdXNkY0JlZm9yZSA9IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ5CiAgICAvLyB1c2RjQXNzZXRJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgYXNzZXQgSUQKICAgIGJ5dGVjXzMgLy8gInVzZGNBc3NldElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcwNQogICAgLy8gY29uc3QgdXNkY0JlZm9yZSA9IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDIKICAgIGRpZyAxCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MDgtNzIxCiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKAogICAgLy8gICBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBjVXNkY1RvUmVkZWVtLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdyZWRlZW0nKSwgaXRvYihjVXNkY1RvUmVkZWVtKV0sCiAgICAvLyAgICAgYXNzZXRzOiBbQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksIEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKV0sCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MTAKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NAogICAgLy8gb3JiaXRhbEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAvLyBPcmJpdGFsIExlbmRpbmcgYXBwIElECiAgICBieXRlYyAxMiAvLyAib3JiaXRhbEFwcElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcxMAogICAgLy8gYXNzZXRSZWNlaXZlcjogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLmFkZHJlc3MsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZHVwCiAgICBhcHBfcGFyYW1zX2dldCBBcHBBZGRyZXNzCiAgICBhc3NlcnQgLy8gYXBwbGljYXRpb24gZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzExCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTAKICAgIC8vIGNVc2RjQXNzZXRJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgLy8gY1VTREMgKE9yYml0YWwgTFNUKSBhc3NldCBJRAogICAgYnl0ZWMgNCAvLyAiY1VzZGNBc3NldElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcxMQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDUKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGR1cAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcwOS03MTQKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IGNVc2RjVG9SZWRlZW0sCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSksCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcxMwogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MTUtNzIwCiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSksCiAgICAvLyAgIGFwcEFyZ3M6IFtCeXRlcygncmVkZWVtJyksIGl0b2IoY1VzZGNUb1JlZGVlbSldLAogICAgLy8gICBhc3NldHM6IFtBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwgQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpXSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KSwKICAgIGl0eG5fbmV4dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcxNwogICAgLy8gYXBwQXJnczogW0J5dGVzKCdyZWRlZW0nKSwgaXRvYihjVXNkY1RvUmVkZWVtKV0sCiAgICBkaWcgNAogICAgaXRvYgogICAgZGlnIDQKICAgIGl0eG5fZmllbGQgQXNzZXRzCiAgICBzd2FwCiAgICBpdHhuX2ZpZWxkIEFzc2V0cwogICAgYnl0ZWMgMjIgLy8gInJlZGVlbSIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzE1LTcyMAogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICBhcHBJZDogQXBwbGljYXRpb24odGhpcy5vcmJpdGFsQXBwSWQudmFsdWUpLAogICAgLy8gICBhcHBBcmdzOiBbQnl0ZXMoJ3JlZGVlbScpLCBpdG9iKGNVc2RjVG9SZWRlZW0pXSwKICAgIC8vICAgYXNzZXRzOiBbQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksIEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKV0sCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSksCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcxOQogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MDgtNzIxCiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKAogICAgLy8gICBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEFwcGxpY2F0aW9uKHRoaXMub3JiaXRhbEFwcElkLnZhbHVlKS5hZGRyZXNzLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5jVXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBjVXNkY1RvUmVkZWVtLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLAogICAgLy8gICB9KSwKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLm9yYml0YWxBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdyZWRlZW0nKSwgaXRvYihjVXNkY1RvUmVkZWVtKV0sCiAgICAvLyAgICAgYXNzZXRzOiBbQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksIEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKV0sCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzI0CiAgICAvLyBjb25zdCB1c2RjQWZ0ZXIgPSBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcyNQogICAgLy8gY29uc3QgdXNkY1lpZWxkOiB1aW50NjQgPSB1c2RjQWZ0ZXIgLSB1c2RjQmVmb3JlOwogICAgc3dhcAogICAgLQogICAgc3dhcAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcyOAogICAgLy8gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSA9IHRoaXMudG90YWxTaGFyZXMudmFsdWUgLSBjVXNkY1RvUmVkZWVtOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1OQogICAgLy8gdG90YWxTaGFyZXMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBUb3RhbCBjVVNEQyBzaGFyZXMgaGVsZCBieSB2YXVsdAogICAgYnl0ZWNfMSAvLyAidG90YWxTaGFyZXMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzI4CiAgICAvLyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlID0gdGhpcy50b3RhbFNoYXJlcy52YWx1ZSAtIGNVc2RjVG9SZWRlZW07CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgc3dhcAogICAgLQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU5CiAgICAvLyB0b3RhbFNoYXJlcyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFRvdGFsIGNVU0RDIHNoYXJlcyBoZWxkIGJ5IHZhdWx0CiAgICBieXRlY18xIC8vICJ0b3RhbFNoYXJlcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MjgKICAgIC8vIHRoaXMudG90YWxTaGFyZXMudmFsdWUgPSB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlIC0gY1VzZGNUb1JlZGVlbTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjE2CiAgICAvLyBjb25zdCBwb29sQXBwID0gdGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NQogICAgLy8gdGlueW1hblBvb2xBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBUaW55bWFuIFYyIHBvb2wgYXBwIElECiAgICBieXRlYyAxNiAvLyAidGlueW1hblBvb2xBcHBJZCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyMTYKICAgIC8vIGNvbnN0IHBvb2xBcHAgPSB0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjIxOQogICAgLy8gY29uc3QgW2Fzc2V0MUlkLCBoYXNBc3NldDFJZF0gPSBBcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbEFwcCwgQnl0ZXMoJ2Fzc2V0XzFfaWQnKSk7CiAgICBkdXAKICAgIHB1c2hieXRlcyAiYXNzZXRfMV9pZCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjIwCiAgICAvLyBhc3NlcnQoaGFzQXNzZXQxSWQsICdDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzFfaWQnKTsKICAgIGFzc2VydCAvLyBDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzFfaWQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyMjIKICAgIC8vIGNvbnN0IFthc3NldDFSZXNlcnZlcywgaGFzQXNzZXQxUmVzZXJ2ZXNdID0gQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xBcHAsIEJ5dGVzKCdhc3NldF8xX3Jlc2VydmVzJykpOwogICAgZGlnIDEKICAgIHB1c2hieXRlcyAiYXNzZXRfMV9yZXNlcnZlcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjIzCiAgICAvLyBhc3NlcnQoaGFzQXNzZXQxUmVzZXJ2ZXMsICdDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzFfcmVzZXJ2ZXMnKTsKICAgIGFzc2VydCAvLyBDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzFfcmVzZXJ2ZXMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyMjUKICAgIC8vIGNvbnN0IFthc3NldDJSZXNlcnZlcywgaGFzQXNzZXQyUmVzZXJ2ZXNdID0gQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xBcHAsIEJ5dGVzKCdhc3NldF8yX3Jlc2VydmVzJykpOwogICAgZGlnIDEKICAgIHB1c2hieXRlcyAiYXNzZXRfMl9yZXNlcnZlcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjI2CiAgICAvLyBhc3NlcnQoaGFzQXNzZXQyUmVzZXJ2ZXMsICdDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzJfcmVzZXJ2ZXMnKTsKICAgIGFzc2VydCAvLyBDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzJfcmVzZXJ2ZXMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyMjgKICAgIC8vIGNvbnN0IFt0b3RhbEZlZVNoYXJlLCBoYXNUb3RhbEZlZVNoYXJlXSA9IEFwcEdsb2JhbC5nZXRFeFVpbnQ2NChwb29sQXBwLCBCeXRlcygndG90YWxfZmVlX3NoYXJlJykpOwogICAgc3dhcAogICAgcHVzaGJ5dGVzICJ0b3RhbF9mZWVfc2hhcmUiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgY292ZXIgMwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjIyOQogICAgLy8gYXNzZXJ0KGhhc1RvdGFsRmVlU2hhcmUsICdDYW5ub3QgcmVhZCBwb29sIHRvdGFsX2ZlZV9zaGFyZScpOwogICAgYXNzZXJ0IC8vIENhbm5vdCByZWFkIHBvb2wgdG90YWxfZmVlX3NoYXJlCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjM1CiAgICAvLyBpZiAoYXNzZXQxSWQgPT09IHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpIHsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDkKICAgIC8vIHVzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBhc3NldCBJRAogICAgYnl0ZWNfMyAvLyAidXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjM1CiAgICAvLyBpZiAoYXNzZXQxSWQgPT09IHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYnogaGFydmVzdEFuZFN3YXBfZWxzZV9ib2R5QDMKICAgIGRpZyAyCiAgICBidXJ5IDcKCmhhcnZlc3RBbmRTd2FwX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyNDQKICAgIC8vIGNvbnN0IG5ldElucHV0ID0gdGhpcy5tdWxEaXZGbG9vcihpbnB1dEFtb3VudCwgRkVFX0JQU19CQVNFIC0gdG90YWxGZWVTaGFyZSwgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgZGlnIDIKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBkaWcgNAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjQ0CiAgICAvLyBjb25zdCBuZXRJbnB1dCA9IHRoaXMubXVsRGl2Rmxvb3IoaW5wdXRBbW91bnQsIEZFRV9CUFNfQkFTRSAtIHRvdGFsRmVlU2hhcmUsIEZFRV9CUFNfQkFTRSk7CiAgICBpbnRjIDQgLy8gMTAwMDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjI0NwogICAgLy8gY29uc3QgZXhwZWN0ZWRPdXRwdXQgPSB0aGlzLm11bERpdkZsb29yKG91dHB1dFJlc2VydmVzLCBuZXRJbnB1dCwgaW5wdXRSZXNlcnZlcyArIG5ldElucHV0KTsKICAgIGRpZyA4CiAgICBkaWcgMQogICAgKwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAzCiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NgogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ092ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MzIKICAgIC8vIGFzc2VydChleHBlY3RlZE91dHB1dCA+IFVpbnQ2NCgwKSwgJ0V4cGVjdGVkIHN3YXAgb3V0cHV0IGlzIHplcm8nKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIEV4cGVjdGVkIHN3YXAgb3V0cHV0IGlzIHplcm8KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3MzUKICAgIC8vIGNvbnN0IG1pbkFtb3VudE91dCA9IHRoaXMubXVsRGl2Rmxvb3IoZXhwZWN0ZWRPdXRwdXQsIEZFRV9CUFNfQkFTRSAtIHNsaXBwYWdlQnBzLCBGRUVfQlBTX0JBU0UpOwogICAgaW50YyA0IC8vIDEwMDAwCiAgICBkaWcgNwogICAgLQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzM1CiAgICAvLyBjb25zdCBtaW5BbW91bnRPdXQgPSB0aGlzLm11bERpdkZsb29yKGV4cGVjdGVkT3V0cHV0LCBGRUVfQlBTX0JBU0UgLSBzbGlwcGFnZUJwcywgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTYKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzM4CiAgICAvLyBjb25zdCBhc2FCZWZvcmUgPSBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHByb2plY3RBc2FJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgLy8gUHJvamVjdCBBU0EgKHlpZWxkIHBhaWQgaW4gdGhpcykKICAgIGJ5dGVjIDExIC8vICJwcm9qZWN0QXNhSWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzM4CiAgICAvLyBjb25zdCBhc2FCZWZvcmUgPSBBc3NldCh0aGlzLnByb2plY3RBc2FJZC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNgogICAgZHVwCiAgICBjb3ZlciAzCiAgICBkaWcgMQogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzQxLTc1NQogICAgLy8gaXR4bi5zdWJtaXRHcm91cCgKICAgIC8vICAgaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiB1c2RjWWllbGQsCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gICBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdzd2FwJyksIEJ5dGVzKCdmaXhlZC1pbnB1dCcpLCBpdG9iKG1pbkFtb3VudE91dCldLAogICAgLy8gICAgIGFzc2V0czogW0Fzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKV0sCiAgICAvLyAgICAgYWNjb3VudHM6IFt0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZV0sCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NDMKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1NgogICAgLy8gdGlueW1hblBvb2xBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsvLyBUaW55bWFuIHBvb2wgYWRkcmVzcwogICAgYnl0ZWMgMTcgLy8gInRpbnltYW5Qb29sQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NDMKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NDQKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQ5CiAgICAvLyB1c2RjQXNzZXRJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgYXNzZXQgSUQKICAgIGJ5dGVjXzMgLy8gInVzZGNBc3NldElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc0NAogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnVzZGNBc3NldElkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgNgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzQyLTc0NwogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWUsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy51c2RjQXNzZXRJZC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2RjWWllbGQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSksCiAgICBpbnRjXzMgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc0NgogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NDgtNzU0CiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUpLAogICAgLy8gICBhcHBBcmdzOiBbQnl0ZXMoJ3N3YXAnKSwgQnl0ZXMoJ2ZpeGVkLWlucHV0JyksIGl0b2IobWluQW1vdW50T3V0KV0sCiAgICAvLyAgIGFzc2V0czogW0Fzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKV0sCiAgICAvLyAgIGFjY291bnRzOiBbdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWVdLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLAogICAgaXR4bl9uZXh0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzQ5CiAgICAvLyBhcHBJZDogQXBwbGljYXRpb24odGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NTUKICAgIC8vIHRpbnltYW5Qb29sQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gVGlueW1hbiBWMiBwb29sIGFwcCBJRAogICAgYnl0ZWMgMTYgLy8gInRpbnltYW5Qb29sQXBwSWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzQ5CiAgICAvLyBhcHBJZDogQXBwbGljYXRpb24odGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzUwCiAgICAvLyBhcHBBcmdzOiBbQnl0ZXMoJ3N3YXAnKSwgQnl0ZXMoJ2ZpeGVkLWlucHV0JyksIGl0b2IobWluQW1vdW50T3V0KV0sCiAgICBkaWcgNAogICAgaXRvYgogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFjY291bnRzCiAgICBkaWcgMwogICAgaXR4bl9maWVsZCBBc3NldHMKICAgIHB1c2hieXRlcyAic3dhcCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBwdXNoYnl0ZXMgImZpeGVkLWlucHV0IgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NDgtNzU0CiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUpLAogICAgLy8gICBhcHBBcmdzOiBbQnl0ZXMoJ3N3YXAnKSwgQnl0ZXMoJ2ZpeGVkLWlucHV0JyksIGl0b2IobWluQW1vdW50T3V0KV0sCiAgICAvLyAgIGFzc2V0czogW0Fzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKV0sCiAgICAvLyAgIGFjY291bnRzOiBbdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWVdLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLAogICAgcHVzaGludCA2IC8vIDYKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NTMKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzQxLTc1NQogICAgLy8gaXR4bi5zdWJtaXRHcm91cCgKICAgIC8vICAgaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZSwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMudXNkY0Fzc2V0SWQudmFsdWUpLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiB1c2RjWWllbGQsCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gICBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogW0J5dGVzKCdzd2FwJyksIEJ5dGVzKCdmaXhlZC1pbnB1dCcpLCBpdG9iKG1pbkFtb3VudE91dCldLAogICAgLy8gICAgIGFzc2V0czogW0Fzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKV0sCiAgICAvLyAgICAgYWNjb3VudHM6IFt0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZV0sCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzU4CiAgICAvLyBjb25zdCBhc2FBZnRlciA9IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc1OQogICAgLy8gY29uc3QgYXNhUmVjZWl2ZWQ6IHVpbnQ2NCA9IGFzYUFmdGVyIC0gYXNhQmVmb3JlOwogICAgc3dhcAogICAgLQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc2MQogICAgLy8gYXNzZXJ0KGFzYVJlY2VpdmVkID49IG1pbkFtb3VudE91dCwgJ1N3YXAgb3V0cHV0IGJlbG93IG1pbmltdW0nKTsKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICA+PQogICAgYXNzZXJ0IC8vIFN3YXAgb3V0cHV0IGJlbG93IG1pbmltdW0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NjQKICAgIC8vIGNvbnN0IGFzYVBlclVzZGMgPSB0aGlzLm11bERpdkZsb29yKGFzYVJlY2VpdmVkLCBBU0FfU0NBTEUsIHVzZGNZaWVsZCk7CiAgICBpbnRjIDUgLy8gMTAwMDAwMDAwMDAwMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDMKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY5CiAgICAvLyBsYXN0SGFydmVzdEFzYVBlclVzZGMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIENvbnZlcnNpb24gcmF0ZSBmcm9tIGxhc3QgaGFydmVzdAogICAgYnl0ZWMgMTkgLy8gImxhc3RIYXJ2ZXN0QXNhUGVyVXNkYyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NjcKICAgIC8vIHRoaXMubGFzdEhhcnZlc3RBc2FQZXJVc2RjLnZhbHVlID0gYXNhUGVyVXNkYzsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzY4CiAgICAvLyB0aGlzLmxhc3RIYXJ2ZXN0WWllbGRQZXJTaGFyZS52YWx1ZSA9IHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWU7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyB1c2RjWWllbGRQZXJTaGFyZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFN0YWdlIDE6IFJhdGUtYmFzZWQgVVNEQyB5aWVsZCBhY2N1bXVsYXRvcgogICAgYnl0ZWMgNSAvLyAidXNkY1lpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzY4CiAgICAvLyB0aGlzLmxhc3RIYXJ2ZXN0WWllbGRQZXJTaGFyZS52YWx1ZSA9IHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY4CiAgICAvLyBsYXN0SGFydmVzdFlpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7IC8vIHVzZGNZaWVsZFBlclNoYXJlIGF0IGxhc3QgaGFydmVzdAogICAgYnl0ZWMgMTggLy8gImxhc3RIYXJ2ZXN0WWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3NjgKICAgIC8vIHRoaXMubGFzdEhhcnZlc3RZaWVsZFBlclNoYXJlLnZhbHVlID0gdGhpcy51c2RjWWllbGRQZXJTaGFyZS52YWx1ZTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Njc2CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKaGFydmVzdEFuZFN3YXBfZWxzZV9ib2R5QDM6CiAgICBidXJ5IDYKICAgIGRpZyAxCiAgICBiIGhhcnZlc3RBbmRTd2FwX2FmdGVyX2lmX2Vsc2VANAoKCi8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo6T3JiaXRhbFZhdWx0LmdldFZhdWx0U3RhdHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRWYXVsdFN0YXRzOgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc4MAogICAgLy8gY29uc3QgYXBwQWRkcjogQWNjb3VudCA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzOwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3ODEKICAgIC8vIGNvbnN0IGNVc2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMuY1VzZGNBc3NldElkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1MAogICAgLy8gY1VzZGNBc3NldElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAvLyBjVVNEQyAoT3JiaXRhbCBMU1QpIGFzc2V0IElECiAgICBieXRlYyA0IC8vICJjVXNkY0Fzc2V0SWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzgxCiAgICAvLyBjb25zdCBjVXNkY0JhbGFuY2UgPSBBc3NldCh0aGlzLmNVc2RjQXNzZXRJZC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NzgyCiAgICAvLyBjb25zdCBhc2FCYWxhbmNlID0gQXNzZXQodGhpcy5wcm9qZWN0QXNhSWQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyBwcm9qZWN0QXNhSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIFByb2plY3QgQVNBICh5aWVsZCBwYWlkIGluIHRoaXMpCiAgICBieXRlYyAxMSAvLyAicHJvamVjdEFzYUlkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc4MgogICAgLy8gY29uc3QgYXNhQmFsYW5jZSA9IEFzc2V0KHRoaXMucHJvamVjdEFzYUlkLnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Nzg3CiAgICAvLyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo1OQogICAgLy8gdG90YWxTaGFyZXMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBUb3RhbCBjVVNEQyBzaGFyZXMgaGVsZCBieSB2YXVsdAogICAgYnl0ZWNfMSAvLyAidG90YWxTaGFyZXMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Nzg3CiAgICAvLyB0aGlzLnRvdGFsU2hhcmVzLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3ODgKICAgIC8vIHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYwCiAgICAvLyB0b3RhbFByaW5jaXBhbCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIFVTREMgcHJpbmNpcGFsIGRlcG9zaXRlZCBieSB1c2VycwogICAgYnl0ZWNfMiAvLyAidG90YWxQcmluY2lwYWwiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Nzg4CiAgICAvLyB0aGlzLnRvdGFsUHJpbmNpcGFsLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo3ODkKICAgIC8vIHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGxhc3RSYXRlU25hcHNob3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gRXhjaGFuZ2UgcmF0ZSBhdCBsYXN0IGNoZWNrcG9pbnQKICAgIGJ5dGVjXzAgLy8gImxhc3RSYXRlU25hcHNob3QiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Nzg5CiAgICAvLyB0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc4Ni03OTIKICAgIC8vIHJldHVybiBbCiAgICAvLyAgIHRoaXMudG90YWxTaGFyZXMudmFsdWUsCiAgICAvLyAgIHRoaXMudG90YWxQcmluY2lwYWwudmFsdWUsCiAgICAvLyAgIHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZSwKICAgIC8vICAgY1VzZGNCYWxhbmNlLAogICAgLy8gICBhc2FCYWxhbmNlCiAgICAvLyBdOwogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Nzc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWMgMjMgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Ok9yYml0YWxWYXVsdC5nZXRVc2VyUG9zaXRpb25bcm91dGluZ10oKSAtPiB2b2lkOgpnZXRVc2VyUG9zaXRpb246CiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cG4gMwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc5OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MDAKICAgIC8vIGNvbnN0IHNoYXJlcyA9IHRoaXMudXNlclNoYXJlcyh1c2VyKS52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODAKICAgIC8vIHVzZXJTaGFyZXMgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAgICAgIC8vIFVzZXIncyBjVVNEQyBzaGFyZSBiYWxhbmNlCiAgICBieXRlYyA2IC8vICJ1c2VyU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgwMAogICAgLy8gY29uc3Qgc2hhcmVzID0gdGhpcy51c2VyU2hhcmVzKHVzZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODAxCiAgICAvLyBjb25zdCByYXRlID0gdGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NQogICAgLy8gbGFzdFJhdGVTbmFwc2hvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBFeGNoYW5nZSByYXRlIGF0IGxhc3QgY2hlY2twb2ludAogICAgYnl0ZWNfMCAvLyAibGFzdFJhdGVTbmFwc2hvdCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MDEKICAgIC8vIGNvbnN0IHJhdGUgPSB0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MDQtODA2CiAgICAvLyBjb25zdCBwcmluY2lwYWxWYWx1ZSA9IHJhdGUgPiBVaW50NjQoMCkKICAgIC8vICAgPyB0aGlzLm11bERpdkZsb29yKHNoYXJlcywgcmF0ZSwgUkFURV9QUkVDSVNJT04pCiAgICAvLyAgIDogc2hhcmVzOwogICAgYnogZ2V0VXNlclBvc2l0aW9uX3Rlcm5hcnlfZmFsc2VAMwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGR1cDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODA1CiAgICAvLyA/IHRoaXMubXVsRGl2Rmxvb3Ioc2hhcmVzLCByYXRlLCBSQVRFX1BSRUNJU0lPTikKICAgIGludGNfMiAvLyAxMDAwMDAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NgogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ092ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIGJ1cnkgNgoKZ2V0VXNlclBvc2l0aW9uX3Rlcm5hcnlfbWVyZ2VANDoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MDkKICAgIC8vIGxldCB1bnJlYWxpemVkVXNkYyA9IHRoaXMudXNlclVucmVhbGl6ZWRVc2RjKHVzZXIpLnZhbHVlOwogICAgZGlnIDIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODMKICAgIC8vIHVzZXJVbnJlYWxpemVkVXNkYyA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgIC8vIFVTREMgeWllbGQgbm90IHlldCBoYXJ2ZXN0ZWQKICAgIGJ5dGVjIDkgLy8gInVzZXJVbnJlYWxpemVkVXNkYyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MDkKICAgIC8vIGxldCB1bnJlYWxpemVkVXNkYyA9IHRoaXMudXNlclVucmVhbGl6ZWRVc2RjKHVzZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgYnVyeSA2CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MTAKICAgIC8vIGlmIChzaGFyZXMgPiBVaW50NjQoMCkpIHsKICAgIGRpZyAxCiAgICBieiBnZXRVc2VyUG9zaXRpb25fYWZ0ZXJfaWZfZWxzZUA4CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODExCiAgICAvLyBjb25zdCBjdXJyZW50WVBTID0gdGhpcy51c2RjWWllbGRQZXJTaGFyZS52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjMKICAgIC8vIHVzZGNZaWVsZFBlclNoYXJlID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgLy8gU3RhZ2UgMTogUmF0ZS1iYXNlZCBVU0RDIHlpZWxkIGFjY3VtdWxhdG9yCiAgICBieXRlYyA1IC8vICJ1c2RjWWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MTEKICAgIC8vIGNvbnN0IGN1cnJlbnRZUFMgPSB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSA5CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODEyCiAgICAvLyBjb25zdCB1c2VyWVBTID0gdGhpcy51c2VyVXNkY1lpZWxkUGVyU2hhcmUodXNlcikudmFsdWU7CiAgICBkaWcgMwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MQogICAgLy8gdXNlclVzZGNZaWVsZFBlclNoYXJlID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gU25hcHNob3Qgb2YgdXNkY1lpZWxkUGVyU2hhcmUKICAgIGJ5dGVjIDEzIC8vICJ1c2VyVXNkY1lpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODEyCiAgICAvLyBjb25zdCB1c2VyWVBTID0gdGhpcy51c2VyVXNkY1lpZWxkUGVyU2hhcmUodXNlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgNwogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODEzCiAgICAvLyBpZiAoY3VycmVudFlQUyA+IHVzZXJZUFMpIHsKICAgID4KICAgIGJ6IGdldFVzZXJQb3NpdGlvbl9hZnRlcl9pZl9lbHNlQDgKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MTQKICAgIC8vIHVucmVhbGl6ZWRVc2RjID0gdW5yZWFsaXplZFVzZGMgKyB0aGlzLm11bERpdkZsb29yKHNoYXJlcywgY3VycmVudFlQUyAtIHVzZXJZUFMsIFJBVEVfUFJFQ0lTSU9OKTsKICAgIGRpZyA2CiAgICBkaWcgNAogICAgLQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGRpZyAyCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgxNAogICAgLy8gdW5yZWFsaXplZFVzZGMgPSB1bnJlYWxpemVkVXNkYyArIHRoaXMubXVsRGl2Rmxvb3Ioc2hhcmVzLCBjdXJyZW50WVBTIC0gdXNlcllQUywgUkFURV9QUkVDSVNJT04pOwogICAgaW50Y18yIC8vIDEwMDAwMDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgxNAogICAgLy8gdW5yZWFsaXplZFVzZGMgPSB1bnJlYWxpemVkVXNkYyArIHRoaXMubXVsRGl2Rmxvb3Ioc2hhcmVzLCBjdXJyZW50WVBTIC0gdXNlcllQUywgUkFURV9QUkVDSVNJT04pOwogICAgZGlnIDUKICAgICsKICAgIGJ1cnkgNQoKZ2V0VXNlclBvc2l0aW9uX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MjIKICAgIC8vIHRoaXMuZWFybmVkQXNhKHVzZXIpLnZhbHVlCiAgICBkaWcgMgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NAogICAgLy8gZWFybmVkQXNhID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgICAgICAgLy8gQVNBIHlpZWxkIHJlYWR5IHRvIGNsYWltCiAgICBieXRlYyA4IC8vICJlYXJuZWRBc2EiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODIyCiAgICAvLyB0aGlzLmVhcm5lZEFzYSh1c2VyKS52YWx1ZQogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODE4LTgyMwogICAgLy8gcmV0dXJuIFsKICAgIC8vICAgc2hhcmVzLAogICAgLy8gICBwcmluY2lwYWxWYWx1ZSwKICAgIC8vICAgdW5yZWFsaXplZFVzZGMsCiAgICAvLyAgIHRoaXMuZWFybmVkQXNhKHVzZXIpLnZhbHVlCiAgICAvLyBdOwogICAgZGlnIDIKICAgIGl0b2IKICAgIGRpZyA3CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyA2CiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjc5OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjIDIzIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpnZXRVc2VyUG9zaXRpb25fdGVybmFyeV9mYWxzZUAzOgogICAgZGlnIDEKICAgIGJ1cnkgNgogICAgYiBnZXRVc2VyUG9zaXRpb25fdGVybmFyeV9tZXJnZUA0CgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQuZ2V0UGVuZGluZ1lpZWxkW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0UGVuZGluZ1lpZWxkOgogICAgcHVzaGJ5dGVzICIiCiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MjkKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODMxCiAgICAvLyBjb25zdCBzaGFyZXMgPSB0aGlzLnVzZXJTaGFyZXModXNlcikudmFsdWU7CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODAKICAgIC8vIHVzZXJTaGFyZXMgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAgICAgIC8vIFVzZXIncyBjVVNEQyBzaGFyZSBiYWxhbmNlCiAgICBieXRlYyA2IC8vICJ1c2VyU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgzMQogICAgLy8gY29uc3Qgc2hhcmVzID0gdGhpcy51c2VyU2hhcmVzKHVzZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAzCiAgICBjb3ZlciAzCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MzQKICAgIC8vIGxldCB1bnJlYWxpemVkVXNkYyA9IHRoaXMudXNlclVucmVhbGl6ZWRVc2RjKHVzZXIpLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MwogICAgLy8gdXNlclVucmVhbGl6ZWRVc2RjID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gVVNEQyB5aWVsZCBub3QgeWV0IGhhcnZlc3RlZAogICAgYnl0ZWMgOSAvLyAidXNlclVucmVhbGl6ZWRVc2RjIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgzNAogICAgLy8gbGV0IHVucmVhbGl6ZWRVc2RjID0gdGhpcy51c2VyVW5yZWFsaXplZFVzZGModXNlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MzUKICAgIC8vIGlmIChzaGFyZXMgPiBVaW50NjQoMCkpIHsKICAgIGJ6IGdldFBlbmRpbmdZaWVsZF9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MzYKICAgIC8vIGNvbnN0IGN1cnJlbnRZUFMgPSB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MwogICAgLy8gdXNkY1lpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBTdGFnZSAxOiBSYXRlLWJhc2VkIFVTREMgeWllbGQgYWNjdW11bGF0b3IKICAgIGJ5dGVjIDUgLy8gInVzZGNZaWVsZFBlclNoYXJlIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgzNgogICAgLy8gY29uc3QgY3VycmVudFlQUyA9IHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDcKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MzcKICAgIC8vIGNvbnN0IHVzZXJZUFMgPSB0aGlzLnVzZXJVc2RjWWllbGRQZXJTaGFyZSh1c2VyKS52YWx1ZTsKICAgIGRpZyAzCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgxCiAgICAvLyB1c2VyVXNkY1lpZWxkUGVyU2hhcmUgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBTbmFwc2hvdCBvZiB1c2RjWWllbGRQZXJTaGFyZQogICAgYnl0ZWMgMTMgLy8gInVzZXJVc2RjWWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MzcKICAgIC8vIGNvbnN0IHVzZXJZUFMgPSB0aGlzLnVzZXJVc2RjWWllbGRQZXJTaGFyZSh1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSA3CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MzgKICAgIC8vIGlmIChjdXJyZW50WVBTID4gdXNlcllQUykgewogICAgPgogICAgYnogZ2V0UGVuZGluZ1lpZWxkX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgzOQogICAgLy8gdW5yZWFsaXplZFVzZGMgPSB1bnJlYWxpemVkVXNkYyArIHRoaXMubXVsRGl2Rmxvb3Ioc2hhcmVzLCBjdXJyZW50WVBTIC0gdXNlcllQUywgUkFURV9QUkVDSVNJT04pOwogICAgZGlnIDQKICAgIGRpZyA0CiAgICAtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTQKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgZGlnIDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODM5CiAgICAvLyB1bnJlYWxpemVkVXNkYyA9IHVucmVhbGl6ZWRVc2RjICsgdGhpcy5tdWxEaXZGbG9vcihzaGFyZXMsIGN1cnJlbnRZUFMgLSB1c2VyWVBTLCBSQVRFX1BSRUNJU0lPTik7CiAgICBpbnRjXzIgLy8gMTAwMDAwMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTYKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODM5CiAgICAvLyB1bnJlYWxpemVkVXNkYyA9IHVucmVhbGl6ZWRVc2RjICsgdGhpcy5tdWxEaXZGbG9vcihzaGFyZXMsIGN1cnJlbnRZUFMgLSB1c2VyWVBTLCBSQVRFX1BSRUNJU0lPTik7CiAgICBkaWcgMQogICAgKwogICAgYnVyeSAxCgpnZXRQZW5kaW5nWWllbGRfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg0MwogICAgLy8gcmV0dXJuIFt1bnJlYWxpemVkVXNkYywgdGhpcy5lYXJuZWRBc2EodXNlcikudmFsdWVdOwogICAgZGlnIDIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODQKICAgIC8vIGVhcm5lZEFzYSA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgICAgICAgIC8vIEFTQSB5aWVsZCByZWFkeSB0byBjbGFpbQogICAgYnl0ZWMgOCAvLyAiZWFybmVkQXNhIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg0MwogICAgLy8gcmV0dXJuIFt1bnJlYWxpemVkVXNkYywgdGhpcy5lYXJuZWRBc2EodXNlcikudmFsdWVdOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgaXRvYgogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODI5CiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgYnl0ZWMgMjMgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Ok9yYml0YWxWYXVsdC5zZXRQYXVzZWRbcm91dGluZ10oKSAtPiB2b2lkOgpzZXRQYXVzZWQ6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODUzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmJvb2wKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NTUKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3IudmFsdWUsICdPbmx5IGNyZWF0b3IgY2FuIHBhdXNlJyk7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQyCiAgICAvLyBjcmVhdG9yID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAgICAgICAgIC8vIFZhdWx0IGNyZWF0b3IvYWRtaW4KICAgIGJ5dGVjIDEwIC8vICJjcmVhdG9yIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg1NQogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvci52YWx1ZSwgJ09ubHkgY3JlYXRvciBjYW4gcGF1c2UnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBjYW4gcGF1c2UKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0NgogICAgLy8gaXNQYXVzZWQgPSBHbG9iYWxTdGF0ZTxib29sZWFuPigpOyAgICAgICAgICAvLyBFbWVyZ2VuY3kgcGF1c2UgZmxhZwogICAgYnl0ZWMgNyAvLyAiaXNQYXVzZWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODU2CiAgICAvLyB0aGlzLmlzUGF1c2VkLnZhbHVlID0gcGF1c2VkOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NTMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQudXBkYXRlTWluSGFydmVzdFRocmVzaG9sZFtyb3V0aW5nXSgpIC0+IHZvaWQ6CnVwZGF0ZU1pbkhhcnZlc3RUaHJlc2hvbGQ6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODYyCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgOCAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg2NAogICAgLy8gY29uc3QgaXNDcmVhdG9yID0gVHhuLnNlbmRlciA9PT0gdGhpcy5jcmVhdG9yLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MgogICAgLy8gY3JlYXRvciA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgICAgICAgICAvLyBWYXVsdCBjcmVhdG9yL2FkbWluCiAgICBieXRlYyAxMCAvLyAiY3JlYXRvciIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NjQKICAgIC8vIGNvbnN0IGlzQ3JlYXRvciA9IFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvci52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg2NQogICAgLy8gY29uc3QgaXNSYXJlZmkgPSBUeG4uc2VuZGVyID09PSB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWU7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjQzCiAgICAvLyByYXJlZmlBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAgIC8vIFJhcmVGaSBwbGF0Zm9ybSBhZGRyZXNzCiAgICBieXRlYyAxNCAvLyAicmFyZWZpQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NjUKICAgIC8vIGNvbnN0IGlzUmFyZWZpID0gVHhuLnNlbmRlciA9PT0gdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODY2CiAgICAvLyBhc3NlcnQoaXNDcmVhdG9yIHx8IGlzUmFyZWZpLCAnT25seSBjcmVhdG9yIG9yIFJhcmVGaSBjYW4gdXBkYXRlJyk7CiAgICB8fAogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBvciBSYXJlRmkgY2FuIHVwZGF0ZQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg2NwogICAgLy8gYXNzZXJ0KHRocmVzaG9sZCA+PSBNSU5fSEFSVkVTVF9USFJFU0hPTEQsICdUaHJlc2hvbGQgdG9vIGxvdycpOwogICAgZHVwCiAgICBpbnRjXzIgLy8gMTAwMDAwMAogICAgPj0KICAgIGFzc2VydCAvLyBUaHJlc2hvbGQgdG9vIGxvdwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjcwCiAgICAvLyBtaW5IYXJ2ZXN0VGhyZXNob2xkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgIC8vIE1pbmltdW0gVVNEQyB5aWVsZCBiZWZvcmUgaGFydmVzdAogICAgYnl0ZWMgMjAgLy8gIm1pbkhhcnZlc3RUaHJlc2hvbGQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODY4CiAgICAvLyB0aGlzLm1pbkhhcnZlc3RUaHJlc2hvbGQudmFsdWUgPSB0aHJlc2hvbGQ7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg2MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6Ok9yYml0YWxWYXVsdC51cGRhdGVUaW55bWFuUG9vbFtyb3V0aW5nXSgpIC0+IHZvaWQ6CnVwZGF0ZVRpbnltYW5Qb29sOgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg3NAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDggLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NzYKICAgIC8vIGNvbnN0IGlzQ3JlYXRvciA9IFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvci52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NDIKICAgIC8vIGNyZWF0b3IgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgICAgICAgICAgLy8gVmF1bHQgY3JlYXRvci9hZG1pbgogICAgYnl0ZWMgMTAgLy8gImNyZWF0b3IiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODc2CiAgICAvLyBjb25zdCBpc0NyZWF0b3IgPSBUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3IudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NzcKICAgIC8vIGNvbnN0IGlzUmFyZWZpID0gVHhuLnNlbmRlciA9PT0gdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo0MwogICAgLy8gcmFyZWZpQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgICAvLyBSYXJlRmkgcGxhdGZvcm0gYWRkcmVzcwogICAgYnl0ZWMgMTQgLy8gInJhcmVmaUFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODc3CiAgICAvLyBjb25zdCBpc1JhcmVmaSA9IFR4bi5zZW5kZXIgPT09IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg3OAogICAgLy8gYXNzZXJ0KGlzQ3JlYXRvciB8fCBpc1JhcmVmaSwgJ09ubHkgY3JlYXRvciBvciBSYXJlRmkgY2FuIHVwZGF0ZScpOwogICAgfHwKICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3Igb3IgUmFyZUZpIGNhbiB1cGRhdGUKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4NzkKICAgIC8vIGFzc2VydChwb29sQXBwSWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgcG9vbCBhcHAgSUQnKTsKICAgIGRpZyAxCiAgICBhc3NlcnQgLy8gSW52YWxpZCBwb29sIGFwcCBJRAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU1CiAgICAvLyB0aW55bWFuUG9vbEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgIC8vIFRpbnltYW4gVjIgcG9vbCBhcHAgSUQKICAgIGJ5dGVjIDE2IC8vICJ0aW55bWFuUG9vbEFwcElkIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg4MAogICAgLy8gdGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlID0gcG9vbEFwcElkOwogICAgdW5jb3ZlciAyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU2CiAgICAvLyB0aW55bWFuUG9vbEFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOy8vIFRpbnltYW4gcG9vbCBhZGRyZXNzCiAgICBieXRlYyAxNyAvLyAidGlueW1hblBvb2xBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg4MQogICAgLy8gdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWUgPSBwb29sQWRkcmVzczsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODc0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo6T3JiaXRhbFZhdWx0Lm11bERpdkNlaWwobjE6IHVpbnQ2NCwgbjI6IHVpbnQ2NCwgZDogdWludDY0KSAtPiB1aW50NjQ6Cm11bERpdkNlaWw6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTAzCiAgICAvLyBwcml2YXRlIG11bERpdkNlaWwobjE6IHVpbnQ2NCwgbjI6IHVpbnQ2NCwgZDogdWludDY0KTogdWludDY0IHsKICAgIHByb3RvIDMgMQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjEwNAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBmcmFtZV9kaWcgLTMKICAgIGZyYW1lX2RpZyAtMgogICAgbXVsdwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjEwNQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIHJfaGksIHJfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfZGlnIC0xCiAgICBkaXZtb2R3CiAgICBjb3ZlciAzCiAgICBjb3ZlciAzCiAgICBjb3ZlciAyCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTA2CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnT3ZlcmZsb3cgaW4gbXVsRGl2Q2VpbCcpOwogICAgIQogICAgYXNzZXJ0IC8vIE92ZXJmbG93IGluIG11bERpdkNlaWwKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxMDcKICAgIC8vIGlmIChyX2xvID4gVWludDY0KDApIHx8IHJfaGkgPiBVaW50NjQoMCkpIHsKICAgIGJueiBtdWxEaXZDZWlsX2lmX2JvZHlAMgogICAgZnJhbWVfZGlnIDAKICAgIGJ6IG11bERpdkNlaWxfYWZ0ZXJfaWZfZWxzZUAzCgptdWxEaXZDZWlsX2lmX2JvZHlAMjoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxMDgKICAgIC8vIHJldHVybiBxX2xvICsgVWludDY0KDEpOwogICAgZnJhbWVfZGlnIDEKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKbXVsRGl2Q2VpbF9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTEwCiAgICAvLyByZXR1cm4gcV9sbzsKICAgIGZyYW1lX2RpZyAxCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKCi8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo6T3JiaXRhbFZhdWx0LmZldGNoQ3VycmVudFJhdGUoKSAtPiB1aW50NjQ6CmZldGNoQ3VycmVudFJhdGU6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTE3CiAgICAvLyBwcml2YXRlIGZldGNoQ3VycmVudFJhdGUoKTogdWludDY0IHsKICAgIHByb3RvIDAgMQogICAgcHVzaGJ5dGVzICIiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTE4CiAgICAvLyBjb25zdCBvcmJpdGFsQXBwID0gdGhpcy5vcmJpdGFsQXBwSWQudmFsdWU7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjU0CiAgICAvLyBvcmJpdGFsQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgIC8vIE9yYml0YWwgTGVuZGluZyBhcHAgSUQKICAgIGJ5dGVjIDEyIC8vICJvcmJpdGFsQXBwSWQiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTE4CiAgICAvLyBjb25zdCBvcmJpdGFsQXBwID0gdGhpcy5vcmJpdGFsQXBwSWQudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjEyMQogICAgLy8gY29uc3QgW3RvdGFsRGVwb3NpdHMsIGhhc1RvdGFsRGVwb3NpdHNdID0gQXBwR2xvYmFsLmdldEV4VWludDY0KG9yYml0YWxBcHAsIEJ5dGVzKCd0b3RhbF9kZXBvc2l0cycpKTsKICAgIGR1cAogICAgcHVzaGJ5dGVzICJ0b3RhbF9kZXBvc2l0cyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICB1bmNvdmVyIDIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxMjIKICAgIC8vIGNvbnN0IFtjaXJjdWxhdGluZ0xzdCwgaGFzQ2lyY3VsYXRpbmdMc3RdID0gQXBwR2xvYmFsLmdldEV4VWludDY0KG9yYml0YWxBcHAsIEJ5dGVzKCdjaXJjdWxhdGluZ19sc3QnKSk7CiAgICBwdXNoYnl0ZXMgImNpcmN1bGF0aW5nX2xzdCIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBjb3ZlciAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTI1CiAgICAvLyBpZiAoIWhhc1RvdGFsRGVwb3NpdHMgfHwgIWhhc0NpcmN1bGF0aW5nTHN0KSB7CiAgICBieiBmZXRjaEN1cnJlbnRSYXRlX2lmX2JvZHlAMgogICAgZnJhbWVfZGlnIDIKICAgIGJueiBmZXRjaEN1cnJlbnRSYXRlX2FmdGVyX2lmX2Vsc2VAMwoKZmV0Y2hDdXJyZW50UmF0ZV9pZl9ib2R5QDI6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTI2CiAgICAvLyByZXR1cm4gUkFURV9QUkVDSVNJT047IC8vIERlZmF1bHQgdG8gMS4wIHJhdGUKICAgIGludGNfMiAvLyAxMDAwMDAwCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKZmV0Y2hDdXJyZW50UmF0ZV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTI5CiAgICAvLyBpZiAoY2lyY3VsYXRpbmdMc3QgPT09IFVpbnQ2NCgwKSkgewogICAgZnJhbWVfZGlnIDMKICAgIGJueiBmZXRjaEN1cnJlbnRSYXRlX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjEzMAogICAgLy8gcmV0dXJuIFJBVEVfUFJFQ0lTSU9OOyAvLyBEZWZhdWx0IHRvIDEuMCBpZiBubyBMU1QgaW4gY2lyY3VsYXRpb24KICAgIGludGNfMiAvLyAxMDAwMDAwCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKZmV0Y2hDdXJyZW50UmF0ZV9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTQKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgZnJhbWVfZGlnIDEKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxMzQKICAgIC8vIGNvbnN0IHJhdGUgPSB0aGlzLm11bERpdkZsb29yKHRvdGFsRGVwb3NpdHMsIFJBVEVfUFJFQ0lTSU9OLCBjaXJjdWxhdGluZ0xzdCk7CiAgICBpbnRjXzIgLy8gMTAwMDAwMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk0CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICBmcmFtZV9kaWcgMwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NgogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ092ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxMzgKICAgIC8vIGlmICh0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWUgPiBVaW50NjQoMCkpIHsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGxhc3RSYXRlU25hcHNob3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gRXhjaGFuZ2UgcmF0ZSBhdCBsYXN0IGNoZWNrcG9pbnQKICAgIGJ5dGVjXzAgLy8gImxhc3RSYXRlU25hcHNob3QiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTM4CiAgICAvLyBpZiAodGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlID4gVWludDY0KDApKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnogZmV0Y2hDdXJyZW50UmF0ZV9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNDAKICAgIC8vIGNvbnN0IG1pblJhdGUgPSB0aGlzLm11bERpdkZsb29yKHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZSwgVWludDY0KDk5OSksIFVpbnQ2NCgxMDAwKSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY1CiAgICAvLyBsYXN0UmF0ZVNuYXBzaG90ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgIC8vIEV4Y2hhbmdlIHJhdGUgYXQgbGFzdCBjaGVja3BvaW50CiAgICBieXRlY18wIC8vICJsYXN0UmF0ZVNuYXBzaG90IgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE0MAogICAgLy8gY29uc3QgbWluUmF0ZSA9IHRoaXMubXVsRGl2Rmxvb3IodGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlLCBVaW50NjQoOTk5KSwgVWludDY0KDEwMDApKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBwdXNoaW50IDk5OSAvLyA5OTkKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE0MAogICAgLy8gY29uc3QgbWluUmF0ZSA9IHRoaXMubXVsRGl2Rmxvb3IodGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlLCBVaW50NjQoOTk5KSwgVWludDY0KDEwMDApKTsKICAgIHB1c2hpbnQgMTAwMCAvLyAxMDAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTUKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NgogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ092ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNDEKICAgIC8vIGFzc2VydChyYXRlID49IG1pblJhdGUsICdSYXRlIGRlY3JlYXNlZCBhYm5vcm1hbGx5Jyk7CiAgICBmcmFtZV9kaWcgMAogICAgPD0KICAgIGFzc2VydCAvLyBSYXRlIGRlY3JlYXNlZCBhYm5vcm1hbGx5CgpmZXRjaEN1cnJlbnRSYXRlX2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNDQKICAgIC8vIHJldHVybiByYXRlOwogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQudXBkYXRlVXNkY1lpZWxkQWNjdW11bGF0b3IoKSAtPiB2b2lkOgp1cGRhdGVVc2RjWWllbGRBY2N1bXVsYXRvcjoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNTEKICAgIC8vIHByaXZhdGUgdXBkYXRlVXNkY1lpZWxkQWNjdW11bGF0b3IoKTogdm9pZCB7CiAgICBwcm90byAwIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNTIKICAgIC8vIGNvbnN0IGN1cnJlbnRSYXRlID0gdGhpcy5mZXRjaEN1cnJlbnRSYXRlKCk7CiAgICBjYWxsc3ViIGZldGNoQ3VycmVudFJhdGUKICAgIGR1cAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE1NAogICAgLy8gaWYgKGN1cnJlbnRSYXRlID4gdGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlICYmIHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZSA+IFVpbnQ2NCgwKSkgewogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NQogICAgLy8gbGFzdFJhdGVTbmFwc2hvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBFeGNoYW5nZSByYXRlIGF0IGxhc3QgY2hlY2twb2ludAogICAgYnl0ZWNfMCAvLyAibGFzdFJhdGVTbmFwc2hvdCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNTQKICAgIC8vIGlmIChjdXJyZW50UmF0ZSA+IHRoaXMubGFzdFJhdGVTbmFwc2hvdC52YWx1ZSAmJiB0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWUgPiBVaW50NjQoMCkpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA+CiAgICBieiB1cGRhdGVVc2RjWWllbGRBY2N1bXVsYXRvcl9hZnRlcl9pZl9lbHNlQDMKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGxhc3RSYXRlU25hcHNob3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gRXhjaGFuZ2UgcmF0ZSBhdCBsYXN0IGNoZWNrcG9pbnQKICAgIGJ5dGVjXzAgLy8gImxhc3RSYXRlU25hcHNob3QiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTU0CiAgICAvLyBpZiAoY3VycmVudFJhdGUgPiB0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWUgJiYgdGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlID4gVWludDY0KDApKSB7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgYnogdXBkYXRlVXNkY1lpZWxkQWNjdW11bGF0b3JfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTU2CiAgICAvLyBjb25zdCByYXRlSW5jcmVhc2U6IHVpbnQ2NCA9IGN1cnJlbnRSYXRlIC0gdGhpcy5sYXN0UmF0ZVNuYXBzaG90LnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2NQogICAgLy8gbGFzdFJhdGVTbmFwc2hvdCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBFeGNoYW5nZSByYXRlIGF0IGxhc3QgY2hlY2twb2ludAogICAgYnl0ZWNfMCAvLyAibGFzdFJhdGVTbmFwc2hvdCIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNTYKICAgIC8vIGNvbnN0IHJhdGVJbmNyZWFzZTogdWludDY0ID0gY3VycmVudFJhdGUgLSB0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIDAKICAgIHN3YXAKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNTcKICAgIC8vIHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWUgPSB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlICsgcmF0ZUluY3JlYXNlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MwogICAgLy8gdXNkY1lpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBTdGFnZSAxOiBSYXRlLWJhc2VkIFVTREMgeWllbGQgYWNjdW11bGF0b3IKICAgIGJ5dGVjIDUgLy8gInVzZGNZaWVsZFBlclNoYXJlIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE1NwogICAgLy8gdGhpcy51c2RjWWllbGRQZXJTaGFyZS52YWx1ZSA9IHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWUgKyByYXRlSW5jcmVhc2U7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgKwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyB1c2RjWWllbGRQZXJTaGFyZSA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFN0YWdlIDE6IFJhdGUtYmFzZWQgVVNEQyB5aWVsZCBhY2N1bXVsYXRvcgogICAgYnl0ZWMgNSAvLyAidXNkY1lpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTU3CiAgICAvLyB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlID0gdGhpcy51c2RjWWllbGRQZXJTaGFyZS52YWx1ZSArIHJhdGVJbmNyZWFzZTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0Cgp1cGRhdGVVc2RjWWllbGRBY2N1bXVsYXRvcl9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGxhc3RSYXRlU25hcHNob3QgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gRXhjaGFuZ2UgcmF0ZSBhdCBsYXN0IGNoZWNrcG9pbnQKICAgIGJ5dGVjXzAgLy8gImxhc3RSYXRlU25hcHNob3QiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTYwCiAgICAvLyB0aGlzLmxhc3RSYXRlU25hcHNob3QudmFsdWUgPSBjdXJyZW50UmF0ZTsKICAgIGZyYW1lX2RpZyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQudXBkYXRlVXNlclVzZGNZaWVsZCh1c2VyOiBieXRlcykgLT4gdm9pZDoKdXBkYXRlVXNlclVzZGNZaWVsZDoKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNjcKICAgIC8vIHByaXZhdGUgdXBkYXRlVXNlclVzZGNZaWVsZCh1c2VyOiBBY2NvdW50KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTY4CiAgICAvLyBjb25zdCBzaGFyZXMgPSB0aGlzLnVzZXJTaGFyZXModXNlcikudmFsdWU7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6ODAKICAgIC8vIHVzZXJTaGFyZXMgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAgICAgIC8vIFVzZXIncyBjVVNEQyBzaGFyZSBiYWxhbmNlCiAgICBieXRlYyA2IC8vICJ1c2VyU2hhcmVzIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE2OAogICAgLy8gY29uc3Qgc2hhcmVzID0gdGhpcy51c2VyU2hhcmVzKHVzZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE3MAogICAgLy8gaWYgKHNoYXJlcyA+IFVpbnQ2NCgwKSkgewogICAgYnogdXBkYXRlVXNlclVzZGNZaWVsZF9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNzEKICAgIC8vIGNvbnN0IGN1cnJlbnRZUFMgPSB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MwogICAgLy8gdXNkY1lpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBTdGFnZSAxOiBSYXRlLWJhc2VkIFVTREMgeWllbGQgYWNjdW11bGF0b3IKICAgIGJ5dGVjIDUgLy8gInVzZGNZaWVsZFBlclNoYXJlIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE3MQogICAgLy8gY29uc3QgY3VycmVudFlQUyA9IHRoaXMudXNkY1lpZWxkUGVyU2hhcmUudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBmcmFtZV9idXJ5IDAKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxNzIKICAgIC8vIGNvbnN0IHVzZXJZUFMgPSB0aGlzLnVzZXJVc2RjWWllbGRQZXJTaGFyZSh1c2VyKS52YWx1ZTsKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MQogICAgLy8gdXNlclVzZGNZaWVsZFBlclNoYXJlID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgLy8gU25hcHNob3Qgb2YgdXNkY1lpZWxkUGVyU2hhcmUKICAgIGJ5dGVjIDEzIC8vICJ1c2VyVXNkY1lpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTcyCiAgICAvLyBjb25zdCB1c2VyWVBTID0gdGhpcy51c2VyVXNkY1lpZWxkUGVyU2hhcmUodXNlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGZyYW1lX2J1cnkgMQogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTc0CiAgICAvLyBpZiAoY3VycmVudFlQUyA+IHVzZXJZUFMpIHsKICAgID4KICAgIGJ6IHVwZGF0ZVVzZXJVc2RjWWllbGRfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTc3CiAgICAvLyBjb25zdCBwZW5kaW5nVXNkYyA9IHRoaXMubXVsRGl2Rmxvb3Ioc2hhcmVzLCBjdXJyZW50WVBTIC0gdXNlcllQUywgUkFURV9QUkVDSVNJT04pOwogICAgZnJhbWVfZGlnIDAKICAgIGZyYW1lX2RpZyAxCiAgICAtCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6OTQKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgZnJhbWVfZGlnIDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTc3CiAgICAvLyBjb25zdCBwZW5kaW5nVXNkYyA9IHRoaXMubXVsRGl2Rmxvb3Ioc2hhcmVzLCBjdXJyZW50WVBTIC0gdXNlcllQUywgUkFURV9QUkVDSVNJT04pOwogICAgaW50Y18yIC8vIDEwMDAwMDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBPdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE3OAogICAgLy8gdGhpcy51c2VyVW5yZWFsaXplZFVzZGModXNlcikudmFsdWUgPSB0aGlzLnVzZXJVbnJlYWxpemVkVXNkYyh1c2VyKS52YWx1ZSArIHBlbmRpbmdVc2RjOwogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgzCiAgICAvLyB1c2VyVW5yZWFsaXplZFVzZGMgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAvLyBVU0RDIHlpZWxkIG5vdCB5ZXQgaGFydmVzdGVkCiAgICBieXRlYyA5IC8vICJ1c2VyVW5yZWFsaXplZFVzZGMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTc4CiAgICAvLyB0aGlzLnVzZXJVbnJlYWxpemVkVXNkYyh1c2VyKS52YWx1ZSA9IHRoaXMudXNlclVucmVhbGl6ZWRVc2RjKHVzZXIpLnZhbHVlICsgcGVuZGluZ1VzZGM7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIGZyYW1lX2RpZyAtMQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgzCiAgICAvLyB1c2VyVW5yZWFsaXplZFVzZGMgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAvLyBVU0RDIHlpZWxkIG5vdCB5ZXQgaGFydmVzdGVkCiAgICBieXRlYyA5IC8vICJ1c2VyVW5yZWFsaXplZFVzZGMiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTc4CiAgICAvLyB0aGlzLnVzZXJVbnJlYWxpemVkVXNkYyh1c2VyKS52YWx1ZSA9IHRoaXMudXNlclVucmVhbGl6ZWRVc2RjKHVzZXIpLnZhbHVlICsgcGVuZGluZ1VzZGM7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9sb2NhbF9wdXQKCnVwZGF0ZVVzZXJVc2RjWWllbGRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE4MwogICAgLy8gdGhpcy51c2VyVXNkY1lpZWxkUGVyU2hhcmUodXNlcikudmFsdWUgPSB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2MwogICAgLy8gdXNkY1lpZWxkUGVyU2hhcmUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBTdGFnZSAxOiBSYXRlLWJhc2VkIFVTREMgeWllbGQgYWNjdW11bGF0b3IKICAgIGJ5dGVjIDUgLy8gInVzZGNZaWVsZFBlclNoYXJlIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE4MwogICAgLy8gdGhpcy51c2VyVXNkY1lpZWxkUGVyU2hhcmUodXNlcikudmFsdWUgPSB0aGlzLnVzZGNZaWVsZFBlclNoYXJlLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGZyYW1lX2RpZyAtMQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgxCiAgICAvLyB1c2VyVXNkY1lpZWxkUGVyU2hhcmUgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBTbmFwc2hvdCBvZiB1c2RjWWllbGRQZXJTaGFyZQogICAgYnl0ZWMgMTMgLy8gInVzZXJVc2RjWWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxODMKICAgIC8vIHRoaXMudXNlclVzZGNZaWVsZFBlclNoYXJlKHVzZXIpLnZhbHVlID0gdGhpcy51c2RjWWllbGRQZXJTaGFyZS52YWx1ZTsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjpPcmJpdGFsVmF1bHQudXBkYXRlVXNlckFzYVlpZWxkKHVzZXI6IGJ5dGVzKSAtPiB2b2lkOgp1cGRhdGVVc2VyQXNhWWllbGQ6CiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTkwCiAgICAvLyBwcml2YXRlIHVwZGF0ZVVzZXJBc2FZaWVsZCh1c2VyOiBBY2NvdW50KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIHB1c2hieXRlcyAiIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE5MQogICAgLy8gY29uc3QgdW5yZWFsaXplZFVzZGMgPSB0aGlzLnVzZXJVbnJlYWxpemVkVXNkYyh1c2VyKS52YWx1ZTsKICAgIGZyYW1lX2RpZyAtMQogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MwogICAgLy8gdXNlclVucmVhbGl6ZWRVc2RjID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gVVNEQyB5aWVsZCBub3QgeWV0IGhhcnZlc3RlZAogICAgYnl0ZWMgOSAvLyAidXNlclVucmVhbGl6ZWRVc2RjIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE5MQogICAgLy8gY29uc3QgdW5yZWFsaXplZFVzZGMgPSB0aGlzLnVzZXJVbnJlYWxpemVkVXNkYyh1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxOTIKICAgIC8vIGNvbnN0IGhhcnZlc3RBc2FQZXJVc2RjID0gdGhpcy5sYXN0SGFydmVzdEFzYVBlclVzZGMudmFsdWU7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjY5CiAgICAvLyBsYXN0SGFydmVzdEFzYVBlclVzZGMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIENvbnZlcnNpb24gcmF0ZSBmcm9tIGxhc3QgaGFydmVzdAogICAgYnl0ZWMgMTkgLy8gImxhc3RIYXJ2ZXN0QXNhUGVyVXNkYyIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxOTIKICAgIC8vIGNvbnN0IGhhcnZlc3RBc2FQZXJVc2RjID0gdGhpcy5sYXN0SGFydmVzdEFzYVBlclVzZGMudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE5NAogICAgLy8gaWYgKHVucmVhbGl6ZWRVc2RjID4gVWludDY0KDApICYmIGhhcnZlc3RBc2FQZXJVc2RjID4gVWludDY0KDApKSB7CiAgICBieiB1cGRhdGVVc2VyQXNhWWllbGRfYWZ0ZXJfaWZfZWxzZUA3CiAgICBmcmFtZV9kaWcgMgogICAgYnogdXBkYXRlVXNlckFzYVlpZWxkX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE5NwogICAgLy8gY29uc3QgdXNlcllQUyA9IHRoaXMudXNlclVzZGNZaWVsZFBlclNoYXJlKHVzZXIpLnZhbHVlOwogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjgxCiAgICAvLyB1c2VyVXNkY1lpZWxkUGVyU2hhcmUgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAvLyBTbmFwc2hvdCBvZiB1c2RjWWllbGRQZXJTaGFyZQogICAgYnl0ZWMgMTMgLy8gInVzZXJVc2RjWWllbGRQZXJTaGFyZSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoxOTcKICAgIC8vIGNvbnN0IHVzZXJZUFMgPSB0aGlzLnVzZXJVc2RjWWllbGRQZXJTaGFyZSh1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjE5OAogICAgLy8gY29uc3QgaGFydmVzdFlQUyA9IHRoaXMubGFzdEhhcnZlc3RZaWVsZFBlclNoYXJlLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo2OAogICAgLy8gbGFzdEhhcnZlc3RZaWVsZFBlclNoYXJlID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyB1c2RjWWllbGRQZXJTaGFyZSBhdCBsYXN0IGhhcnZlc3QKICAgIGJ5dGVjIDE4IC8vICJsYXN0SGFydmVzdFlpZWxkUGVyU2hhcmUiCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MTk4CiAgICAvLyBjb25zdCBoYXJ2ZXN0WVBTID0gdGhpcy5sYXN0SGFydmVzdFlpZWxkUGVyU2hhcmUudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjIwMAogICAgLy8gaWYgKHVzZXJZUFMgPD0gaGFydmVzdFlQUykgewogICAgPD0KICAgIGJ6IHVwZGF0ZVVzZXJBc2FZaWVsZF9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NAogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfZGlnIDIKICAgIG11bHcKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvT3JiaXRhbFZhdWx0LmFsZ28udHM6MjAyCiAgICAvLyBjb25zdCBhc2FGcm9tVXNkYyA9IHRoaXMubXVsRGl2Rmxvb3IodW5yZWFsaXplZFVzZGMsIGhhcnZlc3RBc2FQZXJVc2RjLCBBU0FfU0NBTEUpOwogICAgaW50YyA1IC8vIDEwMDAwMDAwMDAwMDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo5NgogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ092ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gT3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyMDMKICAgIC8vIGlmIChhc2FGcm9tVXNkYyA+IFVpbnQ2NCgwKSkgewogICAgYnogdXBkYXRlVXNlckFzYVlpZWxkX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjIwNAogICAgLy8gdGhpcy5lYXJuZWRBc2EodXNlcikudmFsdWUgPSB0aGlzLmVhcm5lZEFzYSh1c2VyKS52YWx1ZSArIGFzYUZyb21Vc2RjOwogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg0CiAgICAvLyBlYXJuZWRBc2EgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAgICAgICAvLyBBU0EgeWllbGQgcmVhZHkgdG8gY2xhaW0KICAgIGJ5dGVjIDggLy8gImVhcm5lZEFzYSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyMDQKICAgIC8vIHRoaXMuZWFybmVkQXNhKHVzZXIpLnZhbHVlID0gdGhpcy5lYXJuZWRBc2EodXNlcikudmFsdWUgKyBhc2FGcm9tVXNkYzsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIDAKICAgICsKICAgIGZyYW1lX2RpZyAtMQogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjg0CiAgICAvLyBlYXJuZWRBc2EgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAgICAgICAvLyBBU0EgeWllbGQgcmVhZHkgdG8gY2xhaW0KICAgIGJ5dGVjIDggLy8gImVhcm5lZEFzYSIKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czoyMDQKICAgIC8vIHRoaXMuZWFybmVkQXNhKHVzZXIpLnZhbHVlID0gdGhpcy5lYXJuZWRBc2EodXNlcikudmFsdWUgKyBhc2FGcm9tVXNkYzsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjIwNQogICAgLy8gdGhpcy51c2VyVW5yZWFsaXplZFVzZGModXNlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIGNvbnRyYWN0cy9PcmJpdGFsVmF1bHQuYWxnby50czo4MwogICAgLy8gdXNlclVucmVhbGl6ZWRVc2RjID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gVVNEQyB5aWVsZCBub3QgeWV0IGhhcnZlc3RlZAogICAgYnl0ZWMgOSAvLyAidXNlclVucmVhbGl6ZWRVc2RjIgogICAgLy8gY29udHJhY3RzL09yYml0YWxWYXVsdC5hbGdvLnRzOjIwNQogICAgLy8gdGhpcy51c2VyVW5yZWFsaXplZFVzZGModXNlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2xvY2FsX3B1dAoKdXBkYXRlVXNlckFzYVlpZWxkX2FmdGVyX2lmX2Vsc2VANzoKICAgIHJldHN1Ygo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 3,
            "num_uints": 16
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 5
        }
    },
    "schema": {
        "global": {
            "declared": {
                "asaYieldPerShare": {
                    "type": "uint64",
                    "key": "asaYieldPerShare"
                },
                "cUsdcAssetId": {
                    "type": "uint64",
                    "key": "cUsdcAssetId"
                },
                "creator": {
                    "type": "bytes",
                    "key": "creator"
                },
                "depositFeeBps": {
                    "type": "uint64",
                    "key": "depositFeeBps"
                },
                "isPaused": {
                    "type": "uint64",
                    "key": "isPaused"
                },
                "lastHarvestAsaPerUsdc": {
                    "type": "uint64",
                    "key": "lastHarvestAsaPerUsdc"
                },
                "lastHarvestYieldPerShare": {
                    "type": "uint64",
                    "key": "lastHarvestYieldPerShare"
                },
                "lastRateSnapshot": {
                    "type": "uint64",
                    "key": "lastRateSnapshot"
                },
                "minHarvestThreshold": {
                    "type": "uint64",
                    "key": "minHarvestThreshold"
                },
                "orbitalAppId": {
                    "type": "uint64",
                    "key": "orbitalAppId"
                },
                "projectAsaId": {
                    "type": "uint64",
                    "key": "projectAsaId"
                },
                "rarefiAddress": {
                    "type": "bytes",
                    "key": "rarefiAddress"
                },
                "tinymanPoolAddress": {
                    "type": "bytes",
                    "key": "tinymanPoolAddress"
                },
                "tinymanPoolAppId": {
                    "type": "uint64",
                    "key": "tinymanPoolAppId"
                },
                "totalPrincipal": {
                    "type": "uint64",
                    "key": "totalPrincipal"
                },
                "totalShares": {
                    "type": "uint64",
                    "key": "totalShares"
                },
                "usdcAssetId": {
                    "type": "uint64",
                    "key": "usdcAssetId"
                },
                "usdcYieldPerShare": {
                    "type": "uint64",
                    "key": "usdcYieldPerShare"
                },
                "withdrawFeeBps": {
                    "type": "uint64",
                    "key": "withdrawFeeBps"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {
                "earnedAsa": {
                    "type": "uint64",
                    "key": "earnedAsa"
                },
                "userAsaYieldPerShare": {
                    "type": "uint64",
                    "key": "userAsaYieldPerShare"
                },
                "userShares": {
                    "type": "uint64",
                    "key": "userShares"
                },
                "userUnrealizedUsdc": {
                    "type": "uint64",
                    "key": "userUnrealizedUsdc"
                },
                "userUsdcYieldPerShare": {
                    "type": "uint64",
                    "key": "userUsdcYieldPerShare"
                }
            },
            "reserved": {}
        }
    },
    "contract": {
        "name": "OrbitalVault",
        "methods": [
            {
                "name": "createVault",
                "args": [
                    {
                        "type": "uint64",
                        "name": "usdcAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "cUsdcAssetId"
                    },
                    {
                        "type": "uint64",
                        "name": "projectAsaId"
                    },
                    {
                        "type": "uint64",
                        "name": "orbitalAppId"
                    },
                    {
                        "type": "uint64",
                        "name": "tinymanPoolAppId"
                    },
                    {
                        "type": "address",
                        "name": "tinymanPoolAddress"
                    },
                    {
                        "type": "uint64",
                        "name": "depositFeeBps"
                    },
                    {
                        "type": "uint64",
                        "name": "withdrawFeeBps"
                    },
                    {
                        "type": "uint64",
                        "name": "minHarvestThreshold"
                    },
                    {
                        "type": "address",
                        "name": "rarefiAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Create the vault with all configuration"
            },
            {
                "name": "optInAssets",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Opt the contract into required assets and set initial rate"
            },
            {
                "name": "optIn",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User opts into the contract"
            },
            {
                "name": "closeOut",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User closes out - withdraws all and claims all yield\r\nWARNING: Any unrealized USDC yield (not yet harvested) will be lost"
            },
            {
                "name": "deposit",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User deposits USDC into the vault\r\nUSDC is forwarded to Orbital Lending for yield generation"
            },
            {
                "name": "withdraw",
                "args": [
                    {
                        "type": "uint64",
                        "name": "amount"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User withdraws USDC from the vault\r\ncUSDC is redeemed from Orbital at current rate"
            },
            {
                "name": "claimYield",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "User claims their accumulated ASA yield"
            },
            {
                "name": "harvestAndSwap",
                "args": [
                    {
                        "type": "uint64",
                        "name": "slippageBps"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Harvest accumulated yield and swap to project ASA\r\nOnly callable by creator or RareFi"
            },
            {
                "name": "getVaultStats",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint64,uint64)"
                },
                "desc": "Get vault statistics"
            },
            {
                "name": "getUserPosition",
                "args": [
                    {
                        "type": "address",
                        "name": "user"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint64)"
                },
                "desc": "Get user's position details"
            },
            {
                "name": "getPendingYield",
                "args": [
                    {
                        "type": "address",
                        "name": "user"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64)"
                },
                "desc": "Get user's pending yield details"
            },
            {
                "name": "setPaused",
                "args": [
                    {
                        "type": "bool",
                        "name": "paused"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Emergency pause/unpause"
            },
            {
                "name": "updateMinHarvestThreshold",
                "args": [
                    {
                        "type": "uint64",
                        "name": "threshold"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Update minimum harvest threshold"
            },
            {
                "name": "updateTinymanPool",
                "args": [
                    {
                        "type": "uint64",
                        "name": "poolAppId"
                    },
                    {
                        "type": "address",
                        "name": "poolAddress"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Update Tinyman pool configuration"
            }
        ],
        "networks": {}
    },
    "bare_call_config": {
        "update_application": "CALL",
        "delete_application": "CALL"
    }
}