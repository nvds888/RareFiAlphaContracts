{
    "name": "RareFiVault",
    "structs": {},
    "methods": [
        {
            "name": "createVault",
            "args": [
                {
                    "type": "uint64",
                    "name": "depositAssetId"
                },
                {
                    "type": "uint64",
                    "name": "yieldAssetId"
                },
                {
                    "type": "uint64",
                    "name": "swapAssetId"
                },
                {
                    "type": "uint64",
                    "name": "creatorFeeRate"
                },
                {
                    "type": "uint64",
                    "name": "minSwapThreshold"
                },
                {
                    "type": "uint64",
                    "name": "tinymanPoolAppId"
                },
                {
                    "type": "address",
                    "name": "tinymanPoolAddress"
                },
                {
                    "type": "address",
                    "name": "rarefiAddress"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [
                    "NoOp"
                ],
                "call": []
            },
            "readonly": false,
            "desc": "Create and initialize the vault\r\nCalled once at deployment",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "optInAssets",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Opt the contract into all required assets\r\nMust be called by creator after deployment with:\r\n- 200 ALGO setup fee (sent to RareFi)\r\n- 0.3 ALGO MBR for asset opt-ins (stays in contract)\r\nTotal required: 200.3 ALGO",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "optIn",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "OptIn"
                ]
            },
            "readonly": false,
            "desc": "User opts into the contract to enable local storage",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "closeOut",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "CloseOut"
                ]
            },
            "readonly": false,
            "desc": "User closes out - claims all pending yield and withdraws all deposits first",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "deposit",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "User deposits Alpha into the vault\r\nExpects an asset transfer in the group before this call\r\n\r\nNOTE: Deposits are paused when USDC balance >= minSwapThreshold to prevent\r\nflash deposit attacks where users deposit right before yield is swapped.\r\nThis ensures yield only goes to users who held deposits during the airdrop period.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "withdraw",
            "args": [
                {
                    "type": "uint64",
                    "name": "amount",
                    "desc": "- Amount to withdraw (0 = withdraw all)"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "User withdraws Alpha from the vault",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "claim",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "User claims their accumulated yield (in swap_asset)",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "claimCreator",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Creator claims their accumulated yield",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "swapYield",
            "args": [
                {
                    "type": "uint64",
                    "name": "slippageBps",
                    "desc": "- Slippage tolerance in basis points (e.g., 50 = 0.5%, 100 = 1%)"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Swaps accumulated USDC to project ASA via Tinyman V2\r\nUses ON-CHAIN price calculation - reads pool reserves and fee dynamically\r\nOnly callable by creator or RareFi platform to prevent sandwich attacks\r\n\r\nTinyman V2 swap requires:\r\n- Inner txn 1: Asset transfer to pool address\r\n- Inner txn 2: App call to pool with \"swap\" method",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getVaultStats",
            "args": [],
            "returns": {
                "type": "(uint64,uint64,uint64,uint64,uint64)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get vault statistics",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getPendingYield",
            "args": [
                {
                    "type": "address",
                    "name": "user"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get user's pending yield (without claiming)",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getUserDeposit",
            "args": [
                {
                    "type": "address",
                    "name": "user"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get user's deposit balance",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "getSwapQuote",
            "args": [],
            "returns": {
                "type": "(uint64,uint64,uint64)",
                "desc": "[usdcBalance, expectedOutput, minOutputAt50bps]"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Preview swap output - shows expected ASA for current USDC balance\r\nReads pool state on-chain to calculate expected output",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateMinSwapThreshold",
            "args": [
                {
                    "type": "uint64",
                    "name": "newThreshold"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Update the minimum swap threshold",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "updateTinymanPool",
            "args": [
                {
                    "type": "uint64",
                    "name": "newPoolAppId"
                },
                {
                    "type": "address",
                    "name": "newPoolAddress"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Update Tinyman pool configuration\r\nUse only if the pool needs to be changed (e.g., migration)",
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 9,
                "bytes": 3
            },
            "local": {
                "ints": 3,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "depositAsset": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "ZGVwb3NpdEFzc2V0"
                },
                "yieldAsset": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "eWllbGRBc3NldA=="
                },
                "swapAsset": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "c3dhcEFzc2V0"
                },
                "creatorAddress": {
                    "keyType": "AVMString",
                    "valueType": "address",
                    "key": "Y3JlYXRvckFkZHJlc3M="
                },
                "rarefiAddress": {
                    "keyType": "AVMString",
                    "valueType": "address",
                    "key": "cmFyZWZpQWRkcmVzcw=="
                },
                "creatorFeeRate": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "Y3JlYXRvckZlZVJhdGU="
                },
                "creatorUnclaimedYield": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "Y3JlYXRvclVuY2xhaW1lZFlpZWxk"
                },
                "totalDeposits": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "dG90YWxEZXBvc2l0cw=="
                },
                "yieldPerToken": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "eWllbGRQZXJUb2tlbg=="
                },
                "minSwapThreshold": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "bWluU3dhcFRocmVzaG9sZA=="
                },
                "tinymanPoolAppId": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "dGlueW1hblBvb2xBcHBJZA=="
                },
                "tinymanPoolAddress": {
                    "keyType": "AVMString",
                    "valueType": "address",
                    "key": "dGlueW1hblBvb2xBZGRyZXNz"
                }
            },
            "local": {
                "depositedAmount": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "ZGVwb3NpdGVkQW1vdW50"
                },
                "userYieldPerToken": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "dXNlcllpZWxkUGVyVG9rZW4="
                },
                "earnedYield": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "ZWFybmVkWWllbGQ="
                }
            },
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {}
        }
    },
    "bareActions": {
        "create": [],
        "call": [
            "DeleteApplication",
            "UpdateApplication"
        ]
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        866
                    ],
                    "errorMessage": "App call must follow asset transfer"
                },
                {
                    "pc": [
                        617
                    ],
                    "errorMessage": "App call must follow payment"
                },
                {
                    "pc": [
                        1166
                    ],
                    "errorMessage": "Below minimum swap threshold"
                },
                {
                    "pc": [
                        1822
                    ],
                    "errorMessage": "Cannot read pool asset_1_id"
                },
                {
                    "pc": [
                        1847
                    ],
                    "errorMessage": "Cannot read pool asset_1_reserves"
                },
                {
                    "pc": [
                        1872
                    ],
                    "errorMessage": "Cannot read pool asset_2_reserves"
                },
                {
                    "pc": [
                        1895
                    ],
                    "errorMessage": "Cannot read pool total_fee_share"
                },
                {
                    "pc": [
                        430
                    ],
                    "errorMessage": "Contract deletion disabled"
                },
                {
                    "pc": [
                        434
                    ],
                    "errorMessage": "Contract updates disabled"
                },
                {
                    "pc": [
                        512
                    ],
                    "errorMessage": "Creator fee rate exceeds maximum (100%)"
                },
                {
                    "pc": [
                        542
                    ],
                    "errorMessage": "Deposit and swap assets must be different"
                },
                {
                    "pc": [
                        536
                    ],
                    "errorMessage": "Deposit and yield assets must be different"
                },
                {
                    "pc": [
                        907
                    ],
                    "errorMessage": "Deposit too small"
                },
                {
                    "pc": [
                        862
                    ],
                    "errorMessage": "Deposits paused: yield pending swap"
                },
                {
                    "pc": [
                        1177
                    ],
                    "errorMessage": "Expected output is zero"
                },
                {
                    "pc": [
                        642
                    ],
                    "errorMessage": "Insufficient ALGO (need 200.3 ALGO: 200 setup fee + 0.3 MBR)"
                },
                {
                    "pc": [
                        971
                    ],
                    "errorMessage": "Insufficient balance"
                },
                {
                    "pc": [
                        530
                    ],
                    "errorMessage": "Invalid Tinyman pool app ID"
                },
                {
                    "pc": [
                        521
                    ],
                    "errorMessage": "Invalid deposit asset"
                },
                {
                    "pc": [
                        1694
                    ],
                    "errorMessage": "Invalid pool app ID"
                },
                {
                    "pc": [
                        527
                    ],
                    "errorMessage": "Invalid swap asset"
                },
                {
                    "pc": [
                        524
                    ],
                    "errorMessage": "Invalid yield asset"
                },
                {
                    "pc": [
                        1192,
                        1311,
                        1349,
                        1501,
                        1604,
                        1769,
                        1924,
                        1941
                    ],
                    "errorMessage": "Multiplication overflow in mulDivFloor"
                },
                {
                    "pc": [
                        891
                    ],
                    "errorMessage": "Must send to contract"
                },
                {
                    "pc": [
                        884
                    ],
                    "errorMessage": "Must transfer deposit asset"
                },
                {
                    "pc": [
                        1171
                    ],
                    "errorMessage": "No depositors to distribute to"
                },
                {
                    "pc": [
                        1038,
                        1084
                    ],
                    "errorMessage": "Nothing to claim"
                },
                {
                    "pc": [
                        963
                    ],
                    "errorMessage": "Nothing to withdraw"
                },
                {
                    "pc": [
                        400
                    ],
                    "errorMessage": "OnCompletion must be CloseOut && can only call when not creating"
                },
                {
                    "pc": [
                        280
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        411
                    ],
                    "errorMessage": "OnCompletion must be OptIn && can only call when not creating"
                },
                {
                    "pc": [
                        1077
                    ],
                    "errorMessage": "Only creator can claim"
                },
                {
                    "pc": [
                        611
                    ],
                    "errorMessage": "Only creator can opt-in assets"
                },
                {
                    "pc": [
                        1139
                    ],
                    "errorMessage": "Only creator or RareFi can swap"
                },
                {
                    "pc": [
                        1644,
                        1691
                    ],
                    "errorMessage": "Only creator or RareFi can update"
                },
                {
                    "pc": [
                        648
                    ],
                    "errorMessage": "Payment must be from caller"
                },
                {
                    "pc": [
                        632
                    ],
                    "errorMessage": "Payment must be to app"
                },
                {
                    "pc": [
                        1145
                    ],
                    "errorMessage": "Slippage too high (max 10%)"
                },
                {
                    "pc": [
                        1294
                    ],
                    "errorMessage": "Swap output below minimum"
                },
                {
                    "pc": [
                        518
                    ],
                    "errorMessage": "Swap threshold too low"
                },
                {
                    "pc": [
                        1649
                    ],
                    "errorMessage": "Threshold too low"
                },
                {
                    "pc": [
                        898
                    ],
                    "errorMessage": "Transfer must be from caller"
                },
                {
                    "pc": [
                        548
                    ],
                    "errorMessage": "Yield and swap assets must be different"
                },
                {
                    "pc": [
                        855,
                        1157,
                        1203,
                        1287,
                        1373,
                        1383,
                        1549
                    ],
                    "errorMessage": "account opted into asset"
                },
                {
                    "pc": [
                        429,
                        433
                    ],
                    "errorMessage": "can only call when not creating"
                },
                {
                    "pc": [
                        609,
                        654,
                        676,
                        696,
                        716,
                        783,
                        800,
                        826,
                        849,
                        860,
                        882,
                        931,
                        989,
                        1003,
                        1051,
                        1075,
                        1082,
                        1095,
                        1128,
                        1136,
                        1151,
                        1162,
                        1170,
                        1196,
                        1209,
                        1213,
                        1234,
                        1299,
                        1323,
                        1335,
                        1354,
                        1367,
                        1377,
                        1387,
                        1392,
                        1397,
                        1467,
                        1542,
                        1633,
                        1641,
                        1680,
                        1688,
                        1735,
                        1789,
                        1807,
                        1899
                    ],
                    "errorMessage": "check GlobalState exists"
                },
                {
                    "pc": [
                        766,
                        776,
                        918,
                        956,
                        1036,
                        1445,
                        1453,
                        1480,
                        1528,
                        1721,
                        1748,
                        1776
                    ],
                    "errorMessage": "check LocalState exists"
                },
                {
                    "pc": [
                        497,
                        506,
                        1434,
                        1524,
                        1673
                    ],
                    "errorMessage": "invalid number of bytes for arc4.static_array<arc4.uint8, 32>"
                },
                {
                    "pc": [
                        442,
                        451,
                        460,
                        469,
                        478,
                        487,
                        945,
                        1120,
                        1625,
                        1663
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        874
                    ],
                    "errorMessage": "transaction type is axfer"
                },
                {
                    "pc": [
                        625
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQgOCAxMDAwMCAxMDAwMDAwMDAwIDIwMDAwMAogICAgYnl0ZWNibG9jayAidG90YWxEZXBvc2l0cyIgImRlcG9zaXRlZEFtb3VudCIgInlpZWxkQXNzZXQiICJzd2FwQXNzZXQiICJ5aWVsZFBlclRva2VuIiAiZWFybmVkWWllbGQiICJjcmVhdG9yQWRkcmVzcyIgImNyZWF0b3JVbmNsYWltZWRZaWVsZCIgImRlcG9zaXRBc3NldCIgInJhcmVmaUFkZHJlc3MiICJtaW5Td2FwVGhyZXNob2xkIiAidGlueW1hblBvb2xBcHBJZCIgInVzZXJZaWVsZFBlclRva2VuIiAweDE1MWY3Yzc1ICJ0aW55bWFuUG9vbEFkZHJlc3MiICJjcmVhdG9yRmVlUmF0ZSIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0CiAgICAvLyBleHBvcnQgY2xhc3MgUmFyZUZpVmF1bHQgZXh0ZW5kcyBhcmM0LkNvbnRyYWN0IHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2JhcmVfcm91dGluZ0AyNAogICAgcHVzaGJ5dGVzcyAweDI5MzE0ZDk1IDB4NmE2OTFmZTIgLy8gbWV0aG9kICJvcHRJbigpdm9pZCIsIG1ldGhvZCAiY2xvc2VPdXQoKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBtYWluX29wdEluX3JvdXRlQDMgbWFpbl9jbG9zZU91dF9yb3V0ZUA0CgptYWluX3N3aXRjaF9jYXNlX25leHRANToKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0CiAgICAvLyBleHBvcnQgY2xhc3MgUmFyZUZpVmF1bHQgZXh0ZW5kcyBhcmM0LkNvbnRyYWN0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYnogbWFpbl9jcmVhdGVfTm9PcEAyMAogICAgcHVzaGJ5dGVzcyAweDQxNGU0MWI1IDB4OTJlMDNiMWMgMHgyMWYxZGRmZiAweGYxNTc3NzI2IDB4YmM5OTQ0OWUgMHgzNmYzYjJmNCAweGNmNjFhMWE0IDB4YjBkZjVjMGYgMHgzZmI4YTkyNyAweGY0MWRhMzVkIDB4YWI2ZWY3M2IgMHgxZWY3YjU4NiAvLyBtZXRob2QgIm9wdEluQXNzZXRzKCl2b2lkIiwgbWV0aG9kICJkZXBvc2l0KCl2b2lkIiwgbWV0aG9kICJ3aXRoZHJhdyh1aW50NjQpdm9pZCIsIG1ldGhvZCAiY2xhaW0oKXZvaWQiLCBtZXRob2QgImNsYWltQ3JlYXRvcigpdm9pZCIsIG1ldGhvZCAic3dhcFlpZWxkKHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJnZXRWYXVsdFN0YXRzKCkodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldFBlbmRpbmdZaWVsZChhZGRyZXNzKXVpbnQ2NCIsIG1ldGhvZCAiZ2V0VXNlckRlcG9zaXQoYWRkcmVzcyl1aW50NjQiLCBtZXRob2QgImdldFN3YXBRdW90ZSgpKHVpbnQ2NCx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAidXBkYXRlTWluU3dhcFRocmVzaG9sZCh1aW50NjQpdm9pZCIsIG1ldGhvZCAidXBkYXRlVGlueW1hblBvb2wodWludDY0LGFkZHJlc3Mpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG9wdEluQXNzZXRzIGRlcG9zaXQgd2l0aGRyYXcgY2xhaW0gY2xhaW1DcmVhdG9yIHN3YXBZaWVsZCBnZXRWYXVsdFN0YXRzIGdldFBlbmRpbmdZaWVsZCBnZXRVc2VyRGVwb3NpdCBnZXRTd2FwUXVvdGUgdXBkYXRlTWluU3dhcFRocmVzaG9sZCB1cGRhdGVUaW55bWFuUG9vbAogICAgZXJyCgptYWluX2NyZWF0ZV9Ob09wQDIwOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzQKICAgIC8vIGV4cG9ydCBjbGFzcyBSYXJlRmlWYXVsdCBleHRlbmRzIGFyYzQuQ29udHJhY3QgewogICAgcHVzaGJ5dGVzIDB4NGQwM2NiMjkgLy8gbWV0aG9kICJjcmVhdGVWYXVsdCh1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3Mpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGNyZWF0ZVZhdWx0CiAgICBlcnIKCm1haW5fY2xvc2VPdXRfcm91dGVANDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI5MQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnQ2xvc2VPdXQnIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBwdXNoaW50IDIgLy8gQ2xvc2VPdXQKICAgID09CiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgJiYKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBDbG9zZU91dCAmJiBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBiIGNsb3NlT3V0CgptYWluX29wdEluX3JvdXRlQDM6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyODAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IGFsbG93QWN0aW9uczogJ09wdEluJyB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgaW50Y18xIC8vIE9wdEluCiAgICA9PQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgT3B0SW4gJiYgY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgYiBvcHRJbgoKbWFpbl9iYXJlX3JvdXRpbmdAMjQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNAogICAgLy8gZXhwb3J0IGNsYXNzIFJhcmVGaVZhdWx0IGV4dGVuZHMgYXJjNC5Db250cmFjdCB7CiAgICBpbnRjXzIgLy8gVXBkYXRlQXBwbGljYXRpb24KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgdHhuIE9uQ29tcGxldGlvbgogICAgbWF0Y2ggbWFpbl91cGRhdGVBcHBsaWNhdGlvbkAyNSBtYWluX2RlbGV0ZUFwcGxpY2F0aW9uQDI2CiAgICBlcnIKCm1haW5fZGVsZXRlQXBwbGljYXRpb25AMjY6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MzkKICAgIC8vIEBiYXJlbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnRGVsZXRlQXBwbGljYXRpb24nIH0pCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY0MQogICAgLy8gYXNzZXJ0KGZhbHNlLCAnQ29udHJhY3QgZGVsZXRpb24gZGlzYWJsZWQnKTsKICAgIGVyciAvLyBDb250cmFjdCBkZWxldGlvbiBkaXNhYmxlZAoKbWFpbl91cGRhdGVBcHBsaWNhdGlvbkAyNToKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzNAogICAgLy8gQGJhcmVtZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdVcGRhdGVBcHBsaWNhdGlvbicgfSkKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjM2CiAgICAvLyBhc3NlcnQoZmFsc2UsICdDb250cmFjdCB1cGRhdGVzIGRpc2FibGVkJyk7CiAgICBlcnIgLy8gQ29udHJhY3QgdXBkYXRlcyBkaXNhYmxlZAoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5jcmVhdGVWYXVsdFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmNyZWF0ZVZhdWx0OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTcyCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyBvbkNyZWF0ZTogJ3JlcXVpcmUnIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA0CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA1CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA2CiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA3CiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyA4CiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxODQKICAgIC8vIGFzc2VydChjcmVhdG9yRmVlUmF0ZSA8PSBNQVhfRkVFX1JBVEUsICdDcmVhdG9yIGZlZSByYXRlIGV4Y2VlZHMgbWF4aW11bSAoMTAwJSknKTsKICAgIGRpZyA0CiAgICBwdXNoaW50IDEwMCAvLyAxMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gQ3JlYXRvciBmZWUgcmF0ZSBleGNlZWRzIG1heGltdW0gKDEwMCUpCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxODUKICAgIC8vIGFzc2VydChtaW5Td2FwVGhyZXNob2xkID49IE1JTl9TV0FQX0FNT1VOVCwgJ1N3YXAgdGhyZXNob2xkIHRvbyBsb3cnKTsKICAgIGRpZyAzCiAgICBpbnRjIDYgLy8gMjAwMDAwCiAgICA+PQogICAgYXNzZXJ0IC8vIFN3YXAgdGhyZXNob2xkIHRvbyBsb3cKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE4NgogICAgLy8gYXNzZXJ0KGRlcG9zaXRBc3NldElkICE9PSBVaW50NjQoMCksICdJbnZhbGlkIGRlcG9zaXQgYXNzZXQnKTsKICAgIGRpZyA3CiAgICBhc3NlcnQgLy8gSW52YWxpZCBkZXBvc2l0IGFzc2V0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxODcKICAgIC8vIGFzc2VydCh5aWVsZEFzc2V0SWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgeWllbGQgYXNzZXQnKTsKICAgIGRpZyA2CiAgICBhc3NlcnQgLy8gSW52YWxpZCB5aWVsZCBhc3NldAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTg4CiAgICAvLyBhc3NlcnQoc3dhcEFzc2V0SWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgc3dhcCBhc3NldCcpOwogICAgZGlnIDUKICAgIGFzc2VydCAvLyBJbnZhbGlkIHN3YXAgYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE4OQogICAgLy8gYXNzZXJ0KHRpbnltYW5Qb29sQXBwSWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgVGlueW1hbiBwb29sIGFwcCBJRCcpOwogICAgZGlnIDIKICAgIGFzc2VydCAvLyBJbnZhbGlkIFRpbnltYW4gcG9vbCBhcHAgSUQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE5MgogICAgLy8gYXNzZXJ0KGRlcG9zaXRBc3NldElkICE9PSB5aWVsZEFzc2V0SWQsICdEZXBvc2l0IGFuZCB5aWVsZCBhc3NldHMgbXVzdCBiZSBkaWZmZXJlbnQnKTsKICAgIGRpZyA3CiAgICBkaWcgNwogICAgIT0KICAgIGFzc2VydCAvLyBEZXBvc2l0IGFuZCB5aWVsZCBhc3NldHMgbXVzdCBiZSBkaWZmZXJlbnQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE5MwogICAgLy8gYXNzZXJ0KGRlcG9zaXRBc3NldElkICE9PSBzd2FwQXNzZXRJZCwgJ0RlcG9zaXQgYW5kIHN3YXAgYXNzZXRzIG11c3QgYmUgZGlmZmVyZW50Jyk7CiAgICBkaWcgNwogICAgZGlnIDYKICAgICE9CiAgICBhc3NlcnQgLy8gRGVwb3NpdCBhbmQgc3dhcCBhc3NldHMgbXVzdCBiZSBkaWZmZXJlbnQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE5NAogICAgLy8gYXNzZXJ0KHlpZWxkQXNzZXRJZCAhPT0gc3dhcEFzc2V0SWQsICdZaWVsZCBhbmQgc3dhcCBhc3NldHMgbXVzdCBiZSBkaWZmZXJlbnQnKTsKICAgIGRpZyA2CiAgICBkaWcgNgogICAgIT0KICAgIGFzc2VydCAvLyBZaWVsZCBhbmQgc3dhcCBhc3NldHMgbXVzdCBiZSBkaWZmZXJlbnQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwCiAgICAvLyBkZXBvc2l0QXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gQWxwaGEgQVNBIElEICh3aGF0IHVzZXJzIGRlcG9zaXQpCiAgICBieXRlYyA4IC8vICJkZXBvc2l0QXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxOTcKICAgIC8vIHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlID0gZGVwb3NpdEFzc2V0SWQ7CiAgICB1bmNvdmVyIDgKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MQogICAgLy8geWllbGRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgQVNBIElEICh3aGF0IGFpcmRyb3BzIGNvbWUgaW4gYXMpCiAgICBieXRlY18yIC8vICJ5aWVsZEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTk4CiAgICAvLyB0aGlzLnlpZWxkQXNzZXQudmFsdWUgPSB5aWVsZEFzc2V0SWQ7CiAgICB1bmNvdmVyIDcKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MgogICAgLy8gc3dhcEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgIC8vIFByb2plY3QncyBBU0EgSUQgKHdoYXQgeWllbGQgaXMgc3dhcHBlZCB0bykKICAgIGJ5dGVjXzMgLy8gInN3YXBBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE5OQogICAgLy8gdGhpcy5zd2FwQXNzZXQudmFsdWUgPSBzd2FwQXNzZXRJZDsKICAgIHVuY292ZXIgNgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ1CiAgICAvLyBjcmVhdG9yQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgLy8gVmF1bHQgY3JlYXRvciB3aG8gcmVjZWl2ZXMgZmVlCiAgICBieXRlYyA2IC8vICJjcmVhdG9yQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIwMgogICAgLy8gdGhpcy5jcmVhdG9yQWRkcmVzcy52YWx1ZSA9IFR4bi5zZW5kZXI7CiAgICB0eG4gU2VuZGVyCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDYKICAgIC8vIHJhcmVmaUFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgICAvLyBSYXJlRmkgcGxhdGZvcm0gYWRkcmVzcyAoY2FuIGFsc28gdHJpZ2dlciBzd2FwcykKICAgIGJ5dGVjIDkgLy8gInJhcmVmaUFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMDMKICAgIC8vIHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZSA9IHJhcmVmaUFkZHJlc3M7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDcKICAgIC8vIGNyZWF0b3JGZWVSYXRlID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAvLyAwLTEwMCwgcGVyY2VudGFnZSBvZiB5aWVsZCB0byBjcmVhdG9yCiAgICBieXRlYyAxNSAvLyAiY3JlYXRvckZlZVJhdGUiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMDQKICAgIC8vIHRoaXMuY3JlYXRvckZlZVJhdGUudmFsdWUgPSBjcmVhdG9yRmVlUmF0ZTsKICAgIHVuY292ZXIgNAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4CiAgICAvLyBjcmVhdG9yVW5jbGFpbWVkWWllbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7IC8vIEFjY3VtdWxhdGVkIHlpZWxkIGZvciBjcmVhdG9yIHRvIGNsYWltCiAgICBieXRlYyA3IC8vICJjcmVhdG9yVW5jbGFpbWVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMDUKICAgIC8vIHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlID0gVWludDY0KDApOwogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MQogICAgLy8gdG90YWxEZXBvc2l0cyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIEFscGhhIGRlcG9zaXRlZCBpbiB2YXVsdAogICAgYnl0ZWNfMCAvLyAidG90YWxEZXBvc2l0cyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIwOAogICAgLy8gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID0gVWludDY0KDApOwogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MgogICAgLy8geWllbGRQZXJUb2tlbiA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIEFjY3VtdWxhdG9yIGZvciB5aWVsZCBkaXN0cmlidXRpb24gKHNjYWxlZCBieSBTQ0FMRSkKICAgIGJ5dGVjIDQgLy8gInlpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMDkKICAgIC8vIHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTMKICAgIC8vIG1pblN3YXBUaHJlc2hvbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBNaW5pbXVtIFVTREMgYmVmb3JlIHN3YXAgYWxsb3dlZAogICAgYnl0ZWMgMTAgLy8gIm1pblN3YXBUaHJlc2hvbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMTAKICAgIC8vIHRoaXMubWluU3dhcFRocmVzaG9sZC52YWx1ZSA9IG1pblN3YXBUaHJlc2hvbGQ7CiAgICB1bmNvdmVyIDMKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NgogICAgLy8gdGlueW1hblBvb2xBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFRpbnltYW4gVjIgcG9vbCBhcHAgSUQgKFVTREMvc3dhcEFzc2V0KQogICAgYnl0ZWMgMTEgLy8gInRpbnltYW5Qb29sQXBwSWQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMTMKICAgIC8vIHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZSA9IHRpbnltYW5Qb29sQXBwSWQ7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NwogICAgLy8gdGlueW1hblBvb2xBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgLy8gVGlueW1hbiBwb29sIGFkZHJlc3MKICAgIGJ5dGVjIDE0IC8vICJ0aW55bWFuUG9vbEFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMTQKICAgIC8vIHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlID0gdGlueW1hblBvb2xBZGRyZXNzOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE3MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgb25DcmVhdGU6ICdyZXF1aXJlJyB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5vcHRJbkFzc2V0c1tyb3V0aW5nXSgpIC0+IHZvaWQ6Cm9wdEluQXNzZXRzOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjI2CiAgICAvLyBhc3NlcnQoVHhuLnNlbmRlciA9PT0gdGhpcy5jcmVhdG9yQWRkcmVzcy52YWx1ZSwgJ09ubHkgY3JlYXRvciBjYW4gb3B0LWluIGFzc2V0cycpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ1CiAgICAvLyBjcmVhdG9yQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgLy8gVmF1bHQgY3JlYXRvciB3aG8gcmVjZWl2ZXMgZmVlCiAgICBieXRlYyA2IC8vICJjcmVhdG9yQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIyNgogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvckFkZHJlc3MudmFsdWUsICdPbmx5IGNyZWF0b3IgY2FuIG9wdC1pbiBhc3NldHMnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBjYW4gb3B0LWluIGFzc2V0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjI4CiAgICAvLyBjb25zdCBhcHBBZGRyOiBBY2NvdW50ID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3M7CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjMzCiAgICAvLyBjb25zdCBjdXJyZW50SW5kZXggPSBUeG4uZ3JvdXBJbmRleDsKICAgIHR4biBHcm91cEluZGV4CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMzQKICAgIC8vIGFzc2VydChjdXJyZW50SW5kZXggPj0gVWludDY0KDEpLCAnQXBwIGNhbGwgbXVzdCBmb2xsb3cgcGF5bWVudCcpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gQXBwIGNhbGwgbXVzdCBmb2xsb3cgcGF5bWVudAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjM2CiAgICAvLyBjb25zdCBhbGdvUGF5bWVudCA9IGd0eG4uUGF5bWVudFR4bihjdXJyZW50SW5kZXggLSBVaW50NjQoMSkpOwogICAgaW50Y18xIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMSAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjIzNwogICAgLy8gYXNzZXJ0KGFsZ29QYXltZW50LnJlY2VpdmVyID09PSBhcHBBZGRyLCAnUGF5bWVudCBtdXN0IGJlIHRvIGFwcCcpOwogICAgZHVwCiAgICBndHhucyBSZWNlaXZlcgogICAgZGlnIDIKICAgID09CiAgICBhc3NlcnQgLy8gUGF5bWVudCBtdXN0IGJlIHRvIGFwcAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjM4CiAgICAvLyBhc3NlcnQoYWxnb1BheW1lbnQuYW1vdW50ID49IHRvdGFsUmVxdWlyZWQsICdJbnN1ZmZpY2llbnQgQUxHTyAobmVlZCAyMDAuMyBBTEdPOiAyMDAgc2V0dXAgZmVlICsgMC4zIE1CUiknKTsKICAgIGR1cAogICAgZ3R4bnMgQW1vdW50CiAgICBwdXNoaW50IDIwMDMwMDAwMCAvLyAyMDAzMDAwMDAKICAgID49CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IEFMR08gKG5lZWQgMjAwLjMgQUxHTzogMjAwIHNldHVwIGZlZSArIDAuMyBNQlIpCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMzkKICAgIC8vIGFzc2VydChhbGdvUGF5bWVudC5zZW5kZXIgPT09IFR4bi5zZW5kZXIsICdQYXltZW50IG11c3QgYmUgZnJvbSBjYWxsZXInKTsKICAgIGd0eG5zIFNlbmRlcgogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBQYXltZW50IG11c3QgYmUgZnJvbSBjYWxsZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI0Mi0yNDYKICAgIC8vIGl0eG4ucGF5bWVudCh7CiAgICAvLyAgIHJlY2VpdmVyOiB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWUsCiAgICAvLyAgIGFtb3VudDogQ1JFQVRPUl9TRVRVUF9GRUUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNDMKICAgIC8vIHJlY2VpdmVyOiB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDYKICAgIC8vIHJhcmVmaUFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgICAvLyBSYXJlRmkgcGxhdGZvcm0gYWRkcmVzcyAoY2FuIGFsc28gdHJpZ2dlciBzd2FwcykKICAgIGJ5dGVjIDkgLy8gInJhcmVmaUFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNDMKICAgIC8vIHJlY2VpdmVyOiB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWUsCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjQ0CiAgICAvLyBhbW91bnQ6IENSRUFUT1JfU0VUVVBfRkVFLAogICAgcHVzaGludCAyMDAwMDAwMDAgLy8gMjAwMDAwMDAwCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjQyLTI0NgogICAgLy8gaXR4bi5wYXltZW50KHsKICAgIC8vICAgcmVjZWl2ZXI6IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZSwKICAgIC8vICAgYW1vdW50OiBDUkVBVE9SX1NFVFVQX0ZFRSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMSAvLyAxCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNDUKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNDItMjQ2CiAgICAvLyBpdHhuLnBheW1lbnQoewogICAgLy8gICByZWNlaXZlcjogdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlLAogICAgLy8gICBhbW91bnQ6IENSRUFUT1JfU0VUVVBfRkVFLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI0OS0yNTQKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IGFwcEFkZHIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9iZWdpbgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjUxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MAogICAgLy8gZGVwb3NpdEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgIC8vIEFscGhhIEFTQSBJRCAod2hhdCB1c2VycyBkZXBvc2l0KQogICAgYnl0ZWMgOCAvLyAiZGVwb3NpdEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjUxCiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNTIKICAgIC8vIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNDktMjU0CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNTMKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNDktMjU0CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNTctMjYyCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBVaW50NjQoMCksCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNTkKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MQogICAgLy8geWllbGRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgQVNBIElEICh3aGF0IGFpcmRyb3BzIGNvbWUgaW4gYXMpCiAgICBieXRlY18yIC8vICJ5aWVsZEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjU5CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjYwCiAgICAvLyBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBkdXAKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjU3LTI2MgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogYXBwQWRkciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogVWludDY0KDApLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI2MQogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI1Ny0yNjIKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IGFwcEFkZHIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNjUtMjcwCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI2NwogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDIKICAgIC8vIHN3YXBBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAvLyBQcm9qZWN0J3MgQVNBIElEICh3aGF0IHlpZWxkIGlzIHN3YXBwZWQgdG8pCiAgICBieXRlY18zIC8vICJzd2FwQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNjcKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI2OAogICAgLy8gYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNjUtMjcwCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNjkKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyNjUtMjcwCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBhcHBBZGRyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IFVpbnQ2NCgwKSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fc3VibWl0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyMjQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0Lm9wdEluW3JvdXRpbmddKCkgLT4gdm9pZDoKb3B0SW46CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyODMKICAgIC8vIHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlID0gVWludDY0KDApOwogICAgdHhuIFNlbmRlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjMKICAgIC8vIGRlcG9zaXRlZEFtb3VudCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAvLyBVc2VyJ3MgQWxwaGEgYmFsYW5jZSBpbiB2YXVsdAogICAgYnl0ZWNfMSAvLyAiZGVwb3NpdGVkQW1vdW50IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjgzCiAgICAvLyB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyODQKICAgIC8vIHRoaXMudXNlcllpZWxkUGVyVG9rZW4oVHhuLnNlbmRlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gdXNlcllpZWxkUGVyVG9rZW4gPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFNuYXBzaG90IG9mIHlpZWxkUGVyVG9rZW4gYXQgbGFzdCBhY3Rpb24KICAgIGJ5dGVjIDEyIC8vICJ1c2VyWWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI4NAogICAgLy8gdGhpcy51c2VyWWllbGRQZXJUb2tlbihUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyODUKICAgIC8vIHRoaXMuZWFybmVkWWllbGQoVHhuLnNlbmRlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NQogICAgLy8gZWFybmVkWWllbGQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIEFjY3VtdWxhdGVkIHlpZWxkIG5vdCB5ZXQgY2xhaW1lZAogICAgYnl0ZWMgNSAvLyAiZWFybmVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyODUKICAgIC8vIHRoaXMuZWFybmVkWWllbGQoVHhuLnNlbmRlcikudmFsdWUgPSBVaW50NjQoMCk7CiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjgwCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdPcHRJbicgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuY2xvc2VPdXRbcm91dGluZ10oKSAtPiB2b2lkOgpjbG9zZU91dDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI5NAogICAgLy8gdGhpcy51cGRhdGVFYXJuZWRZaWVsZChUeG4uc2VuZGVyKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgdXBkYXRlRWFybmVkWWllbGQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjI5NgogICAgLy8gY29uc3QgdXNlckRlcG9zaXQgPSB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MwogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyOTYKICAgIC8vIGNvbnN0IHVzZXJEZXBvc2l0ID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoyOTcKICAgIC8vIGNvbnN0IHVzZXJZaWVsZCA9IHRoaXMuZWFybmVkWWllbGQoVHhuLnNlbmRlcikudmFsdWU7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjUKICAgIC8vIGVhcm5lZFlpZWxkID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBBY2N1bXVsYXRlZCB5aWVsZCBub3QgeWV0IGNsYWltZWQKICAgIGJ5dGVjIDUgLy8gImVhcm5lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mjk3CiAgICAvLyBjb25zdCB1c2VyWWllbGQgPSB0aGlzLmVhcm5lZFlpZWxkKFR4bi5zZW5kZXIpLnZhbHVlOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDAKICAgIC8vIGlmICh1c2VyRGVwb3NpdCA+IFVpbnQ2NCgwKSkgewogICAgYnogY2xvc2VPdXRfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDEKICAgIC8vIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSA9IHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSAtIHVzZXJEZXBvc2l0OwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzAxCiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgLSB1c2VyRGVwb3NpdDsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICAtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MQogICAgLy8gdG90YWxEZXBvc2l0cyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIEFscGhhIGRlcG9zaXRlZCBpbiB2YXVsdAogICAgYnl0ZWNfMCAvLyAidG90YWxEZXBvc2l0cyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwMQogICAgLy8gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID0gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlIC0gdXNlckRlcG9zaXQ7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzAzLTMwOAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2VyRGVwb3NpdCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwNAogICAgLy8gYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwNQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDAKICAgIC8vIGRlcG9zaXRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAvLyBBbHBoYSBBU0EgSUQgKHdoYXQgdXNlcnMgZGVwb3NpdCkKICAgIGJ5dGVjIDggLy8gImRlcG9zaXRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwNQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgdW5jb3ZlciAyCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMDMtMzA4CiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHVzZXJEZXBvc2l0LAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaW50Y18yIC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwNwogICAgLy8gZmVlOiBVaW50NjQoMCksCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMwMy0zMDgKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogdXNlckRlcG9zaXQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKY2xvc2VPdXRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzEyCiAgICAvLyBpZiAodXNlcllpZWxkID4gVWludDY0KDApKSB7CiAgICBkdXAKICAgIGJ6IGNsb3NlT3V0X2FmdGVyX2lmX2Vsc2VANwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzEzLTMxOAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2VyWWllbGQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMTQKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMTUKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyCiAgICAvLyBzd2FwQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAgLy8gUHJvamVjdCdzIEFTQSBJRCAod2hhdCB5aWVsZCBpcyBzd2FwcGVkIHRvKQogICAgYnl0ZWNfMyAvLyAic3dhcEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzE1CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzEzLTMxOAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2VyWWllbGQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzE3CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzEzLTMxOAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2VyWWllbGQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAoKY2xvc2VPdXRfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MjkxCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdDbG9zZU91dCcgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZGVwb3NpdFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmRlcG9zaXQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozMzYKICAgIC8vIGNvbnN0IGFwcEFkZHI6IEFjY291bnQgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzczsKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNDAKICAgIC8vIGNvbnN0IHVzZGNCYWxhbmNlID0gQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxCiAgICAvLyB5aWVsZEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gVVNEQyBBU0EgSUQgKHdoYXQgYWlyZHJvcHMgY29tZSBpbiBhcykKICAgIGJ5dGVjXzIgLy8gInlpZWxkQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNDAKICAgIC8vIGNvbnN0IHVzZGNCYWxhbmNlID0gQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKS5iYWxhbmNlKGFwcEFkZHIpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGRpZyAxCiAgICBzd2FwCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0MQogICAgLy8gYXNzZXJ0KHVzZGNCYWxhbmNlIDwgdGhpcy5taW5Td2FwVGhyZXNob2xkLnZhbHVlLCAnRGVwb3NpdHMgcGF1c2VkOiB5aWVsZCBwZW5kaW5nIHN3YXAnKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MwogICAgLy8gbWluU3dhcFRocmVzaG9sZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIE1pbmltdW0gVVNEQyBiZWZvcmUgc3dhcCBhbGxvd2VkCiAgICBieXRlYyAxMCAvLyAibWluU3dhcFRocmVzaG9sZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0MQogICAgLy8gYXNzZXJ0KHVzZGNCYWxhbmNlIDwgdGhpcy5taW5Td2FwVGhyZXNob2xkLnZhbHVlLCAnRGVwb3NpdHMgcGF1c2VkOiB5aWVsZCBwZW5kaW5nIHN3YXAnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA8CiAgICBhc3NlcnQgLy8gRGVwb3NpdHMgcGF1c2VkOiB5aWVsZCBwZW5kaW5nIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM0MwogICAgLy8gY29uc3QgY3VycmVudEluZGV4ID0gVHhuLmdyb3VwSW5kZXg7CiAgICB0eG4gR3JvdXBJbmRleAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzQ0CiAgICAvLyBhc3NlcnQoY3VycmVudEluZGV4ID49IFVpbnQ2NCgxKSwgJ0FwcCBjYWxsIG11c3QgZm9sbG93IGFzc2V0IHRyYW5zZmVyJyk7CiAgICBkdXAKICAgIGFzc2VydCAvLyBBcHAgY2FsbCBtdXN0IGZvbGxvdyBhc3NldCB0cmFuc2ZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzQ3CiAgICAvLyBjb25zdCBkZXBvc2l0VHJhbnNmZXIgPSBndHhuLkFzc2V0VHJhbnNmZXJUeG4oY3VycmVudEluZGV4IC0gVWludDY0KDEpKTsKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzIgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzQ4CiAgICAvLyBhc3NlcnQoZGVwb3NpdFRyYW5zZmVyLnhmZXJBc3NldCA9PT0gQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLCAnTXVzdCB0cmFuc2ZlciBkZXBvc2l0IGFzc2V0Jyk7CiAgICBkdXAKICAgIGd0eG5zIFhmZXJBc3NldAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwCiAgICAvLyBkZXBvc2l0QXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gQWxwaGEgQVNBIElEICh3aGF0IHVzZXJzIGRlcG9zaXQpCiAgICBieXRlYyA4IC8vICJkZXBvc2l0QXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNDgKICAgIC8vIGFzc2VydChkZXBvc2l0VHJhbnNmZXIueGZlckFzc2V0ID09PSBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksICdNdXN0IHRyYW5zZmVyIGRlcG9zaXQgYXNzZXQnKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3QgdHJhbnNmZXIgZGVwb3NpdCBhc3NldAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzQ5CiAgICAvLyBhc3NlcnQoZGVwb3NpdFRyYW5zZmVyLmFzc2V0UmVjZWl2ZXIgPT09IGFwcEFkZHIsICdNdXN0IHNlbmQgdG8gY29udHJhY3QnKTsKICAgIGR1cAogICAgZ3R4bnMgQXNzZXRSZWNlaXZlcgogICAgdW5jb3ZlciAyCiAgICA9PQogICAgYXNzZXJ0IC8vIE11c3Qgc2VuZCB0byBjb250cmFjdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzUwCiAgICAvLyBhc3NlcnQoZGVwb3NpdFRyYW5zZmVyLnNlbmRlciA9PT0gVHhuLnNlbmRlciwgJ1RyYW5zZmVyIG11c3QgYmUgZnJvbSBjYWxsZXInKTsKICAgIGR1cAogICAgZ3R4bnMgU2VuZGVyCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIFRyYW5zZmVyIG11c3QgYmUgZnJvbSBjYWxsZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1MgogICAgLy8gY29uc3QgYW1vdW50ID0gZGVwb3NpdFRyYW5zZmVyLmFzc2V0QW1vdW50OwogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1MwogICAgLy8gYXNzZXJ0KGFtb3VudCA+PSBNSU5fREVQT1NJVF9BTU9VTlQsICdEZXBvc2l0IHRvbyBzbWFsbCcpOwogICAgZHVwCiAgICBwdXNoaW50IDEwMDAwMDAgLy8gMTAwMDAwMAogICAgPj0KICAgIGFzc2VydCAvLyBEZXBvc2l0IHRvbyBzbWFsbAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzU2CiAgICAvLyB0aGlzLnVwZGF0ZUVhcm5lZFlpZWxkKFR4bi5zZW5kZXIpOwogICAgdHhuIFNlbmRlcgogICAgY2FsbHN1YiB1cGRhdGVFYXJuZWRZaWVsZAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzU5CiAgICAvLyB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZSA9IHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlICsgYW1vdW50OwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyBkZXBvc2l0ZWRBbW91bnQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gVXNlcidzIEFscGhhIGJhbGFuY2UgaW4gdmF1bHQKICAgIGJ5dGVjXzEgLy8gImRlcG9zaXRlZEFtb3VudCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1OQogICAgLy8gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgPSB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZSArIGFtb3VudDsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgZGlnIDEKICAgICsKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyBkZXBvc2l0ZWRBbW91bnQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gVXNlcidzIEFscGhhIGJhbGFuY2UgaW4gdmF1bHQKICAgIGJ5dGVjXzEgLy8gImRlcG9zaXRlZEFtb3VudCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM1OQogICAgLy8gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgPSB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZSArIGFtb3VudDsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzYwCiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgKyBhbW91bnQ7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHRvdGFsRGVwb3NpdHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBBbHBoYSBkZXBvc2l0ZWQgaW4gdmF1bHQKICAgIGJ5dGVjXzAgLy8gInRvdGFsRGVwb3NpdHMiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNjAKICAgIC8vIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSA9IHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSArIGFtb3VudDsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICArCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MQogICAgLy8gdG90YWxEZXBvc2l0cyA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIFRvdGFsIEFscGhhIGRlcG9zaXRlZCBpbiB2YXVsdAogICAgYnl0ZWNfMCAvLyAidG90YWxEZXBvc2l0cyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM2MAogICAgLy8gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID0gdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlICsgYW1vdW50OwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjMzNAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQud2l0aGRyYXdbcm91dGluZ10oKSAtPiB2b2lkOgp3aXRoZHJhdzoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM2NwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzY5CiAgICAvLyBjb25zdCB1c2VyQmFsYW5jZSA9IHRoaXMuZGVwb3NpdGVkQW1vdW50KFR4bi5zZW5kZXIpLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyBkZXBvc2l0ZWRBbW91bnQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gVXNlcidzIEFscGhhIGJhbGFuY2UgaW4gdmF1bHQKICAgIGJ5dGVjXzEgLy8gImRlcG9zaXRlZEFtb3VudCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM2OQogICAgLy8gY29uc3QgdXNlckJhbGFuY2UgPSB0aGlzLmRlcG9zaXRlZEFtb3VudChUeG4uc2VuZGVyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MzczCiAgICAvLyBpZiAod2l0aGRyYXdBbW91bnQgPT09IFVpbnQ2NCgwKSkgewogICAgYnogd2l0aGRyYXdfaWZfYm9keUAyCiAgICBkaWcgMQoKd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mzc3CiAgICAvLyBhc3NlcnQod2l0aGRyYXdBbW91bnQgPiBVaW50NjQoMCksICdOb3RoaW5nIHRvIHdpdGhkcmF3Jyk7CiAgICBkdXAKICAgIGFzc2VydCAvLyBOb3RoaW5nIHRvIHdpdGhkcmF3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozNzgKICAgIC8vIGFzc2VydCh3aXRoZHJhd0Ftb3VudCA8PSB1c2VyQmFsYW5jZSwgJ0luc3VmZmljaWVudCBiYWxhbmNlJyk7CiAgICBkdXAKICAgIGRpZyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIDw9CiAgICBhc3NlcnQgLy8gSW5zdWZmaWNpZW50IGJhbGFuY2UKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM4MQogICAgLy8gdGhpcy51cGRhdGVFYXJuZWRZaWVsZChUeG4uc2VuZGVyKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgdXBkYXRlRWFybmVkWWllbGQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM4NAogICAgLy8gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgPSB1c2VyQmFsYW5jZSAtIHdpdGhkcmF3QW1vdW50OwogICAgZGlnIDEKICAgIC0KICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYzCiAgICAvLyBkZXBvc2l0ZWRBbW91bnQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgLy8gVXNlcidzIEFscGhhIGJhbGFuY2UgaW4gdmF1bHQKICAgIGJ5dGVjXzEgLy8gImRlcG9zaXRlZEFtb3VudCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM4NAogICAgLy8gdGhpcy5kZXBvc2l0ZWRBbW91bnQoVHhuLnNlbmRlcikudmFsdWUgPSB1c2VyQmFsYW5jZSAtIHdpdGhkcmF3QW1vdW50OwogICAgdW5jb3ZlciAyCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozODUKICAgIC8vIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSA9IHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSAtIHdpdGhkcmF3QW1vdW50OwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxCiAgICAvLyB0b3RhbERlcG9zaXRzID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gVG90YWwgQWxwaGEgZGVwb3NpdGVkIGluIHZhdWx0CiAgICBieXRlY18wIC8vICJ0b3RhbERlcG9zaXRzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mzg1CiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPSB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgLSB3aXRoZHJhd0Ftb3VudDsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgLQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHRvdGFsRGVwb3NpdHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBBbHBoYSBkZXBvc2l0ZWQgaW4gdmF1bHQKICAgIGJ5dGVjXzAgLy8gInRvdGFsRGVwb3NpdHMiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozODUKICAgIC8vIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSA9IHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSAtIHdpdGhkcmF3QW1vdW50OwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM4OC0zOTMKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgLy8gICBhc3NldEFtb3VudDogd2l0aGRyYXdBbW91bnQsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX2JlZ2luCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozODkKICAgIC8vIGFzc2V0UmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozOTAKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwCiAgICAvLyBkZXBvc2l0QXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgLy8gQWxwaGEgQVNBIElEICh3aGF0IHVzZXJzIGRlcG9zaXQpCiAgICBieXRlYyA4IC8vICJkZXBvc2l0QXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozOTAKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5kZXBvc2l0QXNzZXQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6Mzg4LTM5MwogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLmRlcG9zaXRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB3aXRoZHJhd0Ftb3VudCwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozOTIKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czozODgtMzkzCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuZGVwb3NpdEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IHdpdGhkcmF3QW1vdW50LAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vIH0pLnN1Ym1pdCgpOwogICAgaXR4bl9zdWJtaXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjM2NwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCndpdGhkcmF3X2lmX2JvZHlAMjoKICAgIGR1cAogICAgYiB3aXRoZHJhd19hZnRlcl9pZl9lbHNlQDMKCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuY2xhaW1bcm91dGluZ10oKSAtPiB2b2lkOgpjbGFpbToKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwNgogICAgLy8gdGhpcy51cGRhdGVFYXJuZWRZaWVsZChUeG4uc2VuZGVyKTsKICAgIHR4biBTZW5kZXIKICAgIGNhbGxzdWIgdXBkYXRlRWFybmVkWWllbGQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwOAogICAgLy8gY29uc3QgY2xhaW1hYmxlID0gdGhpcy5lYXJuZWRZaWVsZChUeG4uc2VuZGVyKS52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NQogICAgLy8gZWFybmVkWWllbGQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIEFjY3VtdWxhdGVkIHlpZWxkIG5vdCB5ZXQgY2xhaW1lZAogICAgYnl0ZWMgNSAvLyAiZWFybmVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MDgKICAgIC8vIGNvbnN0IGNsYWltYWJsZSA9IHRoaXMuZWFybmVkWWllbGQoVHhuLnNlbmRlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgTG9jYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQwOQogICAgLy8gYXNzZXJ0KGNsYWltYWJsZSA+IFVpbnQ2NCgwKSwgJ05vdGhpbmcgdG8gY2xhaW0nKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIE5vdGhpbmcgdG8gY2xhaW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxMgogICAgLy8gdGhpcy5lYXJuZWRZaWVsZChUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY1CiAgICAvLyBlYXJuZWRZaWVsZCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gQWNjdW11bGF0ZWQgeWllbGQgbm90IHlldCBjbGFpbWVkCiAgICBieXRlYyA1IC8vICJlYXJuZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxMgogICAgLy8gdGhpcy5lYXJuZWRZaWVsZChUeG4uc2VuZGVyKS52YWx1ZSA9IFVpbnQ2NCgwKTsKICAgIGludGNfMCAvLyAwCiAgICBhcHBfbG9jYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTUtNDIwCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IGNsYWltYWJsZSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxNgogICAgLy8gYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQxNwogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDIKICAgIC8vIHN3YXBBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAvLyBQcm9qZWN0J3MgQVNBIElEICh3aGF0IHlpZWxkIGlzIHN3YXBwZWQgdG8pCiAgICBieXRlY18zIC8vICJzd2FwQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MTcKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDE1LTQyMAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDE5CiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDE1LTQyMAogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDAzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5jbGFpbUNyZWF0b3Jbcm91dGluZ10oKSAtPiB2b2lkOgpjbGFpbUNyZWF0b3I6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MjgKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlLCAnT25seSBjcmVhdG9yIGNhbiBjbGFpbScpOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ1CiAgICAvLyBjcmVhdG9yQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgLy8gVmF1bHQgY3JlYXRvciB3aG8gcmVjZWl2ZXMgZmVlCiAgICBieXRlYyA2IC8vICJjcmVhdG9yQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQyOAogICAgLy8gYXNzZXJ0KFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvckFkZHJlc3MudmFsdWUsICdPbmx5IGNyZWF0b3IgY2FuIGNsYWltJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3IgY2FuIGNsYWltCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MzAKICAgIC8vIGNvbnN0IGNsYWltYWJsZSA9IHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4CiAgICAvLyBjcmVhdG9yVW5jbGFpbWVkWWllbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7IC8vIEFjY3VtdWxhdGVkIHlpZWxkIGZvciBjcmVhdG9yIHRvIGNsYWltCiAgICBieXRlYyA3IC8vICJjcmVhdG9yVW5jbGFpbWVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MzAKICAgIC8vIGNvbnN0IGNsYWltYWJsZSA9IHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQzMQogICAgLy8gYXNzZXJ0KGNsYWltYWJsZSA+IFVpbnQ2NCgwKSwgJ05vdGhpbmcgdG8gY2xhaW0nKTsKICAgIGR1cAogICAgYXNzZXJ0IC8vIE5vdGhpbmcgdG8gY2xhaW0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4CiAgICAvLyBjcmVhdG9yVW5jbGFpbWVkWWllbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7IC8vIEFjY3VtdWxhdGVkIHlpZWxkIGZvciBjcmVhdG9yIHRvIGNsYWltCiAgICBieXRlYyA3IC8vICJjcmVhdG9yVW5jbGFpbWVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MzQKICAgIC8vIHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlID0gVWludDY0KDApOwogICAgaW50Y18wIC8vIDAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MzctNDQyCiAgICAvLyBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICBhc3NldFJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKSwKICAgIC8vICAgYXNzZXRBbW91bnQ6IGNsYWltYWJsZSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KS5zdWJtaXQoKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQzOAogICAgLy8gYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQzOQogICAgLy8geGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDIKICAgIC8vIHN3YXBBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAvLyBQcm9qZWN0J3MgQVNBIElEICh3aGF0IHlpZWxkIGlzIHN3YXBwZWQgdG8pCiAgICBieXRlY18zIC8vICJzd2FwQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MzkKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBc3NldEFtb3VudAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIGl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDM3LTQ0MgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpbnRjXzIgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDQxCiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDM3LTQ0MgogICAgLy8gaXR4bi5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgYXNzZXRSZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiBjbGFpbWFibGUsCiAgICAvLyAgIGZlZTogVWludDY0KDApLAogICAgLy8gfSkuc3VibWl0KCk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDI2CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5zd2FwWWllbGRbcm91dGluZ10oKSAtPiB2b2lkOgpzd2FwWWllbGQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NjAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NjIKICAgIC8vIGNvbnN0IGlzQ3JlYXRvciA9IFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvckFkZHJlc3MudmFsdWU7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDUKICAgIC8vIGNyZWF0b3JBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAvLyBWYXVsdCBjcmVhdG9yIHdobyByZWNlaXZlcyBmZWUKICAgIGJ5dGVjIDYgLy8gImNyZWF0b3JBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDYyCiAgICAvLyBjb25zdCBpc0NyZWF0b3IgPSBUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NjMKICAgIC8vIGNvbnN0IGlzUmFyZWZpID0gVHhuLnNlbmRlciA9PT0gdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ2CiAgICAvLyByYXJlZmlBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgICAgLy8gUmFyZUZpIHBsYXRmb3JtIGFkZHJlc3MgKGNhbiBhbHNvIHRyaWdnZXIgc3dhcHMpCiAgICBieXRlYyA5IC8vICJyYXJlZmlBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDYzCiAgICAvLyBjb25zdCBpc1JhcmVmaSA9IFR4bi5zZW5kZXIgPT09IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDY0CiAgICAvLyBhc3NlcnQoaXNDcmVhdG9yIHx8IGlzUmFyZWZpLCAnT25seSBjcmVhdG9yIG9yIFJhcmVGaSBjYW4gc3dhcCcpOwogICAgfHwKICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3Igb3IgUmFyZUZpIGNhbiBzd2FwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NjUKICAgIC8vIGFzc2VydChzbGlwcGFnZUJwcyA8PSBNQVhfU0xJUFBBR0VfQlBTLCAnU2xpcHBhZ2UgdG9vIGhpZ2ggKG1heCAxMCUpJyk7CiAgICBkdXAKICAgIHB1c2hpbnQgMTAwMCAvLyAxMDAwCiAgICA8PQogICAgYXNzZXJ0IC8vIFNsaXBwYWdlIHRvbyBoaWdoIChtYXggMTAlKQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDY3CiAgICAvLyBjb25zdCBhcHBBZGRyOiBBY2NvdW50ID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3M7CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDY4CiAgICAvLyBjb25zdCB1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MQogICAgLy8geWllbGRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgQVNBIElEICh3aGF0IGFpcmRyb3BzIGNvbWUgaW4gYXMpCiAgICBieXRlY18yIC8vICJ5aWVsZEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDY4CiAgICAvLyBjb25zdCB1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBkaWcgMQogICAgc3dhcAogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NzAKICAgIC8vIGFzc2VydCh1c2RjQmFsYW5jZSA+PSB0aGlzLm1pblN3YXBUaHJlc2hvbGQudmFsdWUsICdCZWxvdyBtaW5pbXVtIHN3YXAgdGhyZXNob2xkJyk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTMKICAgIC8vIG1pblN3YXBUaHJlc2hvbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBNaW5pbXVtIFVTREMgYmVmb3JlIHN3YXAgYWxsb3dlZAogICAgYnl0ZWMgMTAgLy8gIm1pblN3YXBUaHJlc2hvbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NzAKICAgIC8vIGFzc2VydCh1c2RjQmFsYW5jZSA+PSB0aGlzLm1pblN3YXBUaHJlc2hvbGQudmFsdWUsICdCZWxvdyBtaW5pbXVtIHN3YXAgdGhyZXNob2xkJyk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDEKICAgIDw9CiAgICBhc3NlcnQgLy8gQmVsb3cgbWluaW11bSBzd2FwIHRocmVzaG9sZAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDcxCiAgICAvLyBhc3NlcnQodGhpcy50b3RhbERlcG9zaXRzLnZhbHVlID4gVWludDY0KDApLCAnTm8gZGVwb3NpdG9ycyB0byBkaXN0cmlidXRlIHRvJyk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHRvdGFsRGVwb3NpdHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBBbHBoYSBkZXBvc2l0ZWQgaW4gdmF1bHQKICAgIGJ5dGVjXzAgLy8gInRvdGFsRGVwb3NpdHMiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NzEKICAgIC8vIGFzc2VydCh0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUgPiBVaW50NjQoMCksICdObyBkZXBvc2l0b3JzIHRvIGRpc3RyaWJ1dGUgdG8nKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBhc3NlcnQgLy8gTm8gZGVwb3NpdG9ycyB0byBkaXN0cmlidXRlIHRvCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NzQKICAgIC8vIGNvbnN0IGV4cGVjdGVkT3V0cHV0ID0gdGhpcy5nZXRFeHBlY3RlZFN3YXBPdXRwdXQodXNkY0JhbGFuY2UpOwogICAgZHVwCiAgICBjYWxsc3ViIGdldEV4cGVjdGVkU3dhcE91dHB1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDc1CiAgICAvLyBhc3NlcnQoZXhwZWN0ZWRPdXRwdXQgPiBVaW50NjQoMCksICdFeHBlY3RlZCBvdXRwdXQgaXMgemVybycpOwogICAgZHVwCiAgICBhc3NlcnQgLy8gRXhwZWN0ZWQgb3V0cHV0IGlzIHplcm8KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ3OAogICAgLy8gY29uc3QgbWluQW1vdW50T3V0ID0gdGhpcy5tdWxEaXZGbG9vcihleHBlY3RlZE91dHB1dCwgRkVFX0JQU19CQVNFIC0gc2xpcHBhZ2VCcHMsIEZFRV9CUFNfQkFTRSk7CiAgICBpbnRjIDQgLy8gMTAwMDAKICAgIHVuY292ZXIgNAogICAgLQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzYKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgbXVsdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDc4CiAgICAvLyBjb25zdCBtaW5BbW91bnRPdXQgPSB0aGlzLm11bERpdkZsb29yKGV4cGVjdGVkT3V0cHV0LCBGRUVfQlBTX0JBU0UgLSBzbGlwcGFnZUJwcywgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDgxCiAgICAvLyBjb25zdCBzd2FwQXNzZXRCZWZvcmUgPSBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MgogICAgLy8gc3dhcEFzc2V0ID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgICAgIC8vIFByb2plY3QncyBBU0EgSUQgKHdoYXQgeWllbGQgaXMgc3dhcHBlZCB0bykKICAgIGJ5dGVjXzMgLy8gInN3YXBBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4MQogICAgLy8gY29uc3Qgc3dhcEFzc2V0QmVmb3JlID0gQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDMKICAgIGRpZyAxCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IG9wdGVkIGludG8gYXNzZXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4NS01MDUKICAgIC8vIGl0eG4uc3VibWl0R3JvdXAoCiAgICAvLyAgIC8vIFRyYW5zYWN0aW9uIDE6IFNlbmQgVVNEQyB0byBwb29sCiAgICAvLyAgIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWUsCiAgICAvLyAgICAgeGZlckFzc2V0OiBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiB1c2RjQmFsYW5jZSwKICAgIC8vICAgICBmZWU6IFVpbnQ2NCgwKSwKICAgIC8vICAgfSksCiAgICAvLyAgIC8vIFRyYW5zYWN0aW9uIDI6IENhbGwgVGlueW1hbiBwb29sIHRvIGV4ZWN1dGUgc3dhcAogICAgLy8gICBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IEFwcGxpY2F0aW9uKHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZSksCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgQnl0ZXMoJ3N3YXAnKSwKICAgIC8vICAgICAgIEJ5dGVzKCdmaXhlZC1pbnB1dCcpLAogICAgLy8gICAgICAgaXRvYihtaW5BbW91bnRPdXQpLAogICAgLy8gICAgIF0sCiAgICAvLyAgICAgYXNzZXRzOiBbQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpXSwgIC8vIE9ubHkgb3V0cHV0IGFzc2V0IG5lZWRlZAogICAgLy8gICAgIGFjY291bnRzOiBbdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWVdLAogICAgLy8gICAgIGZlZTogVWludDY0KDApLCAgLy8gVXNlIGZlZSBwb29saW5nIC0gb3V0ZXIgdHhuIGNvdmVycyBmZWVzCiAgICAvLyAgIH0pLAogICAgLy8gKTsKICAgIGl0eG5fYmVnaW4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4OAogICAgLy8gYXNzZXRSZWNlaXZlcjogdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTcKICAgIC8vIHRpbnltYW5Qb29sQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7IC8vIFRpbnltYW4gcG9vbCBhZGRyZXNzCiAgICBieXRlYyAxNCAvLyAidGlueW1hblBvb2xBZGRyZXNzIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDg4CiAgICAvLyBhc3NldFJlY2VpdmVyOiB0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0ODkKICAgIC8vIHhmZXJBc3NldDogQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MQogICAgLy8geWllbGRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgQVNBIElEICh3aGF0IGFpcmRyb3BzIGNvbWUgaW4gYXMpCiAgICBieXRlY18yIC8vICJ5aWVsZEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDg5CiAgICAvLyB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgdW5jb3ZlciA1CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgZHVwCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4Ny00OTIKICAgIC8vIGl0eG4uYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlLAogICAgLy8gICB4ZmVyQXNzZXQ6IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSksCiAgICAvLyAgIGFzc2V0QW1vdW50OiB1c2RjQmFsYW5jZSwKICAgIC8vICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyB9KSwKICAgIGludGNfMiAvLyA0CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OTEKICAgIC8vIGZlZTogVWludDY0KDApLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OTQtNTA0CiAgICAvLyBpdHhuLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUpLAogICAgLy8gICBhcHBBcmdzOiBbCiAgICAvLyAgICAgQnl0ZXMoJ3N3YXAnKSwKICAgIC8vICAgICBCeXRlcygnZml4ZWQtaW5wdXQnKSwKICAgIC8vICAgICBpdG9iKG1pbkFtb3VudE91dCksCiAgICAvLyAgIF0sCiAgICAvLyAgIGFzc2V0czogW0Fzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKV0sICAvLyBPbmx5IG91dHB1dCBhc3NldCBuZWVkZWQKICAgIC8vICAgYWNjb3VudHM6IFt0aGlzLnRpbnltYW5Qb29sQWRkcmVzcy52YWx1ZV0sCiAgICAvLyAgIGZlZTogVWludDY0KDApLCAgLy8gVXNlIGZlZSBwb29saW5nIC0gb3V0ZXIgdHhuIGNvdmVycyBmZWVzCiAgICAvLyB9KSwKICAgIGl0eG5fbmV4dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDk1CiAgICAvLyBhcHBJZDogQXBwbGljYXRpb24odGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlKSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NgogICAgLy8gdGlueW1hblBvb2xBcHBJZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFRpbnltYW4gVjIgcG9vbCBhcHAgSUQgKFVTREMvc3dhcEFzc2V0KQogICAgYnl0ZWMgMTEgLy8gInRpbnltYW5Qb29sQXBwSWQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OTUKICAgIC8vIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUpLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ5OQogICAgLy8gaXRvYihtaW5BbW91bnRPdXQpLAogICAgZGlnIDQKICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgaXR4bl9maWVsZCBBY2NvdW50cwogICAgZGlnIDMKICAgIGl0eG5fZmllbGQgQXNzZXRzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OTcKICAgIC8vIEJ5dGVzKCdzd2FwJyksCiAgICBwdXNoYnl0ZXMgInN3YXAiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDk4CiAgICAvLyBCeXRlcygnZml4ZWQtaW5wdXQnKSwKICAgIHB1c2hieXRlcyAiZml4ZWQtaW5wdXQiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25JRAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDk0LTUwNAogICAgLy8gaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICBhcHBJZDogQXBwbGljYXRpb24odGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlKSwKICAgIC8vICAgYXBwQXJnczogWwogICAgLy8gICAgIEJ5dGVzKCdzd2FwJyksCiAgICAvLyAgICAgQnl0ZXMoJ2ZpeGVkLWlucHV0JyksCiAgICAvLyAgICAgaXRvYihtaW5BbW91bnRPdXQpLAogICAgLy8gICBdLAogICAgLy8gICBhc3NldHM6IFtBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSldLCAgLy8gT25seSBvdXRwdXQgYXNzZXQgbmVlZGVkCiAgICAvLyAgIGFjY291bnRzOiBbdGhpcy50aW55bWFuUG9vbEFkZHJlc3MudmFsdWVdLAogICAgLy8gICBmZWU6IFVpbnQ2NCgwKSwgIC8vIFVzZSBmZWUgcG9vbGluZyAtIG91dGVyIHR4biBjb3ZlcnMgZmVlcwogICAgLy8gfSksCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTAzCiAgICAvLyBmZWU6IFVpbnQ2NCgwKSwgIC8vIFVzZSBmZWUgcG9vbGluZyAtIG91dGVyIHR4biBjb3ZlcnMgZmVlcwogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0ODUtNTA1CiAgICAvLyBpdHhuLnN1Ym1pdEdyb3VwKAogICAgLy8gICAvLyBUcmFuc2FjdGlvbiAxOiBTZW5kIFVTREMgdG8gcG9vbAogICAgLy8gICBpdHhuLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlLAogICAgLy8gICAgIHhmZXJBc3NldDogQXNzZXQodGhpcy55aWVsZEFzc2V0LnZhbHVlKSwKICAgIC8vICAgICBhc3NldEFtb3VudDogdXNkY0JhbGFuY2UsCiAgICAvLyAgICAgZmVlOiBVaW50NjQoMCksCiAgICAvLyAgIH0pLAogICAgLy8gICAvLyBUcmFuc2FjdGlvbiAyOiBDYWxsIFRpbnltYW4gcG9vbCB0byBleGVjdXRlIHN3YXAKICAgIC8vICAgaXR4bi5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBBcHBsaWNhdGlvbih0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUpLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgIEJ5dGVzKCdzd2FwJyksCiAgICAvLyAgICAgICBCeXRlcygnZml4ZWQtaW5wdXQnKSwKICAgIC8vICAgICAgIGl0b2IobWluQW1vdW50T3V0KSwKICAgIC8vICAgICBdLAogICAgLy8gICAgIGFzc2V0czogW0Fzc2V0KHRoaXMuc3dhcEFzc2V0LnZhbHVlKV0sICAvLyBPbmx5IG91dHB1dCBhc3NldCBuZWVkZWQKICAgIC8vICAgICBhY2NvdW50czogW3RoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlXSwKICAgIC8vICAgICBmZWU6IFVpbnQ2NCgwKSwgIC8vIFVzZSBmZWUgcG9vbGluZyAtIG91dGVyIHR4biBjb3ZlcnMgZmVlcwogICAgLy8gICB9KSwKICAgIC8vICk7CiAgICBpdHhuX3N1Ym1pdAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTA4CiAgICAvLyBjb25zdCBzd2FwQXNzZXRBZnRlcjogdWludDY0ID0gQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MDkKICAgIC8vIGNvbnN0IHN3YXBPdXRwdXQ6IHVpbnQ2NCA9IHN3YXBBc3NldEFmdGVyIC0gc3dhcEFzc2V0QmVmb3JlOwogICAgc3dhcAogICAgLQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTExCiAgICAvLyBhc3NlcnQoc3dhcE91dHB1dCA+PSBtaW5BbW91bnRPdXQsICdTd2FwIG91dHB1dCBiZWxvdyBtaW5pbXVtJyk7CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgPj0KICAgIGFzc2VydCAvLyBTd2FwIG91dHB1dCBiZWxvdyBtaW5pbXVtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MTQKICAgIC8vIGNvbnN0IGNyZWF0b3JDdXQ6IHVpbnQ2NCA9IHRoaXMubXVsRGl2Rmxvb3Ioc3dhcE91dHB1dCwgdGhpcy5jcmVhdG9yRmVlUmF0ZS52YWx1ZSwgTUFYX0ZFRV9SQVRFKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NwogICAgLy8gY3JlYXRvckZlZVJhdGUgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIDAtMTAwLCBwZXJjZW50YWdlIG9mIHlpZWxkIHRvIGNyZWF0b3IKICAgIGJ5dGVjIDE1IC8vICJjcmVhdG9yRmVlUmF0ZSIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUxNAogICAgLy8gY29uc3QgY3JlYXRvckN1dDogdWludDY0ID0gdGhpcy5tdWxEaXZGbG9vcihzd2FwT3V0cHV0LCB0aGlzLmNyZWF0b3JGZWVSYXRlLnZhbHVlLCBNQVhfRkVFX1JBVEUpOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc2CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGRpZyAxCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NwogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MTQKICAgIC8vIGNvbnN0IGNyZWF0b3JDdXQ6IHVpbnQ2NCA9IHRoaXMubXVsRGl2Rmxvb3Ioc3dhcE91dHB1dCwgdGhpcy5jcmVhdG9yRmVlUmF0ZS52YWx1ZSwgTUFYX0ZFRV9SQVRFKTsKICAgIHB1c2hpbnQgMTAwIC8vIDEwMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTE1CiAgICAvLyBjb25zdCB1c2VyQ3V0OiB1aW50NjQgPSBzd2FwT3V0cHV0IC0gY3JlYXRvckN1dDsKICAgIHN3YXAKICAgIGRpZyAxCiAgICAtCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTE4CiAgICAvLyB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSA9IHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlICsgY3JlYXRvckN1dDsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OAogICAgLy8gY3JlYXRvclVuY2xhaW1lZFlpZWxkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBBY2N1bXVsYXRlZCB5aWVsZCBmb3IgY3JlYXRvciB0byBjbGFpbQogICAgYnl0ZWMgNyAvLyAiY3JlYXRvclVuY2xhaW1lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTE4CiAgICAvLyB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSA9IHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlICsgY3JlYXRvckN1dDsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICArCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0OAogICAgLy8gY3JlYXRvclVuY2xhaW1lZFlpZWxkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAvLyBBY2N1bXVsYXRlZCB5aWVsZCBmb3IgY3JlYXRvciB0byBjbGFpbQogICAgYnl0ZWMgNyAvLyAiY3JlYXRvclVuY2xhaW1lZFlpZWxkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTE4CiAgICAvLyB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSA9IHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlICsgY3JlYXRvckN1dDsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MjIKICAgIC8vIGlmICh1c2VyQ3V0ID4gVWludDY0KDApKSB7CiAgICBieiBzd2FwWWllbGRfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MjMKICAgIC8vIGNvbnN0IHlpZWxkSW5jcmVhc2U6IHVpbnQ2NCA9IHRoaXMubXVsRGl2Rmxvb3IodXNlckN1dCwgU0NBTEUsIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHRvdGFsRGVwb3NpdHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBBbHBoYSBkZXBvc2l0ZWQgaW4gdmF1bHQKICAgIGJ5dGVjXzAgLy8gInRvdGFsRGVwb3NpdHMiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MjMKICAgIC8vIGNvbnN0IHlpZWxkSW5jcmVhc2U6IHVpbnQ2NCA9IHRoaXMubXVsRGl2Rmxvb3IodXNlckN1dCwgU0NBTEUsIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSk7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzYKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgZGlnIDEKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyMwogICAgLy8gY29uc3QgeWllbGRJbmNyZWFzZTogdWludDY0ID0gdGhpcy5tdWxEaXZGbG9vcih1c2VyQ3V0LCBTQ0FMRSwgdGhpcy50b3RhbERlcG9zaXRzLnZhbHVlKTsKICAgIGludGMgNSAvLyAxMDAwMDAwMDAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NgogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NwogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDMKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzgKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE11bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MjQKICAgIC8vIHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZSA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZSArIHlpZWxkSW5jcmVhc2U7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTIKICAgIC8vIHlpZWxkUGVyVG9rZW4gPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBBY2N1bXVsYXRvciBmb3IgeWllbGQgZGlzdHJpYnV0aW9uIChzY2FsZWQgYnkgU0NBTEUpCiAgICBieXRlYyA0IC8vICJ5aWVsZFBlclRva2VuIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTI0CiAgICAvLyB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWUgPSB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWUgKyB5aWVsZEluY3JlYXNlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgICsKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyCiAgICAvLyB5aWVsZFBlclRva2VuID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgICAgLy8gQWNjdW11bGF0b3IgZm9yIHlpZWxkIGRpc3RyaWJ1dGlvbiAoc2NhbGVkIGJ5IFNDQUxFKQogICAgYnl0ZWMgNCAvLyAieWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUyNAogICAgLy8gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlID0gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlICsgeWllbGRJbmNyZWFzZTsKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0Cgpzd2FwWWllbGRfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDYwCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC5nZXRWYXVsdFN0YXRzW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0VmF1bHRTdGF0czoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUzNwogICAgLy8gY29uc3QgYXBwQWRkcjogQWNjb3VudCA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzOwogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUzOAogICAgLy8gY29uc3QgdXNkY0JhbGFuY2UgPSBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDEKICAgIC8vIHlpZWxkQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBVU0RDIEFTQSBJRCAod2hhdCBhaXJkcm9wcyBjb21lIGluIGFzKQogICAgYnl0ZWNfMiAvLyAieWllbGRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUzOAogICAgLy8gY29uc3QgdXNkY0JhbGFuY2UgPSBBc3NldCh0aGlzLnlpZWxkQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZGlnIDEKICAgIHN3YXAKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTM5CiAgICAvLyBjb25zdCBzd2FwQXNzZXRCYWxhbmNlID0gQXNzZXQodGhpcy5zd2FwQXNzZXQudmFsdWUpLmJhbGFuY2UoYXBwQWRkcik7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDIKICAgIC8vIHN3YXBBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgICAvLyBQcm9qZWN0J3MgQVNBIElEICh3aGF0IHlpZWxkIGlzIHN3YXBwZWQgdG8pCiAgICBieXRlY18zIC8vICJzd2FwQXNzZXQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MzkKICAgIC8vIGNvbnN0IHN3YXBBc3NldEJhbGFuY2UgPSBBc3NldCh0aGlzLnN3YXBBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIGFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgb3B0ZWQgaW50byBhc3NldAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTQzCiAgICAvLyB0aGlzLnRvdGFsRGVwb3NpdHMudmFsdWUsCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTEKICAgIC8vIHRvdGFsRGVwb3NpdHMgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBUb3RhbCBBbHBoYSBkZXBvc2l0ZWQgaW4gdmF1bHQKICAgIGJ5dGVjXzAgLy8gInRvdGFsRGVwb3NpdHMiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDMKICAgIC8vIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDQKICAgIC8vIHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZSwKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MgogICAgLy8geWllbGRQZXJUb2tlbiA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIEFjY3VtdWxhdG9yIGZvciB5aWVsZCBkaXN0cmlidXRpb24gKHNjYWxlZCBieSBTQ0FMRSkKICAgIGJ5dGVjIDQgLy8gInlpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDQKICAgIC8vIHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZSwKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDUKICAgIC8vIHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlLAogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ4CiAgICAvLyBjcmVhdG9yVW5jbGFpbWVkWWllbGQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7IC8vIEFjY3VtdWxhdGVkIHlpZWxkIGZvciBjcmVhdG9yIHRvIGNsYWltCiAgICBieXRlYyA3IC8vICJjcmVhdG9yVW5jbGFpbWVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NDUKICAgIC8vIHRoaXMuY3JlYXRvclVuY2xhaW1lZFlpZWxkLnZhbHVlLAogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU0Mi01NDgKICAgIC8vIHJldHVybiBbCiAgICAvLyAgIHRoaXMudG90YWxEZXBvc2l0cy52YWx1ZSwKICAgIC8vICAgdGhpcy55aWVsZFBlclRva2VuLnZhbHVlLAogICAgLy8gICB0aGlzLmNyZWF0b3JVbmNsYWltZWRZaWVsZC52YWx1ZSwKICAgIC8vICAgdXNkY0JhbGFuY2UsCiAgICAvLyAgIHN3YXBBc3NldEJhbGFuY2UKICAgIC8vIF07CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjUzNQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGJ5dGVjIDEzIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmdldFBlbmRpbmdZaWVsZFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFBlbmRpbmdZaWVsZDoKICAgIHB1c2hieXRlcyAiIgogICAgZHVwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NTQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NTYKICAgIC8vIGNvbnN0IGRlcG9zaXRlZCA9IHRoaXMuZGVwb3NpdGVkQW1vdW50KHVzZXIpLnZhbHVlOwogICAgZHVwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjMKICAgIC8vIGRlcG9zaXRlZEFtb3VudCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAvLyBVc2VyJ3MgQWxwaGEgYmFsYW5jZSBpbiB2YXVsdAogICAgYnl0ZWNfMSAvLyAiZGVwb3NpdGVkQW1vdW50IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTU2CiAgICAvLyBjb25zdCBkZXBvc2l0ZWQgPSB0aGlzLmRlcG9zaXRlZEFtb3VudCh1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMwogICAgY292ZXIgMwogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NTcKICAgIC8vIGxldCBwZW5kaW5nID0gdGhpcy5lYXJuZWRZaWVsZCh1c2VyKS52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NQogICAgLy8gZWFybmVkWWllbGQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIEFjY3VtdWxhdGVkIHlpZWxkIG5vdCB5ZXQgY2xhaW1lZAogICAgYnl0ZWMgNSAvLyAiZWFybmVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NTcKICAgIC8vIGxldCBwZW5kaW5nID0gdGhpcy5lYXJuZWRZaWVsZCh1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTU5CiAgICAvLyBpZiAoZGVwb3NpdGVkID4gVWludDY0KDApKSB7CiAgICBieiBnZXRQZW5kaW5nWWllbGRfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NjAKICAgIC8vIGNvbnN0IGN1cnJlbnRZUFQgPSB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWU7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTIKICAgIC8vIHlpZWxkUGVyVG9rZW4gPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAvLyBBY2N1bXVsYXRvciBmb3IgeWllbGQgZGlzdHJpYnV0aW9uIChzY2FsZWQgYnkgU0NBTEUpCiAgICBieXRlYyA0IC8vICJ5aWVsZFBlclRva2VuIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTYwCiAgICAvLyBjb25zdCBjdXJyZW50WVBUID0gdGhpcy55aWVsZFBlclRva2VuLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSA3CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NjEKICAgIC8vIGNvbnN0IHVzZXJZUFQgPSB0aGlzLnVzZXJZaWVsZFBlclRva2VuKHVzZXIpLnZhbHVlOwogICAgZGlnIDMKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gdXNlcllpZWxkUGVyVG9rZW4gPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFNuYXBzaG90IG9mIHlpZWxkUGVyVG9rZW4gYXQgbGFzdCBhY3Rpb24KICAgIGJ5dGVjIDEyIC8vICJ1c2VyWWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2MQogICAgLy8gY29uc3QgdXNlcllQVCA9IHRoaXMudXNlcllpZWxkUGVyVG9rZW4odXNlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgNwogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NjMKICAgIC8vIGlmIChjdXJyZW50WVBUID4gdXNlcllQVCkgewogICAgPgogICAgYnogZ2V0UGVuZGluZ1lpZWxkX2FmdGVyX2lmX2Vsc2VANQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTY0CiAgICAvLyBwZW5kaW5nID0gcGVuZGluZyArIHRoaXMubXVsRGl2Rmxvb3IoZGVwb3NpdGVkLCBjdXJyZW50WVBUIC0gdXNlcllQVCwgU0NBTEUpOwogICAgZGlnIDQKICAgIGRpZyA0CiAgICAtCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NgogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBkaWcgMgogICAgbXVsdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTY0CiAgICAvLyBwZW5kaW5nID0gcGVuZGluZyArIHRoaXMubXVsRGl2Rmxvb3IoZGVwb3NpdGVkLCBjdXJyZW50WVBUIC0gdXNlcllQVCwgU0NBTEUpOwogICAgaW50YyA1IC8vIDEwMDAwMDAwMDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc3CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OAogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ011bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2NAogICAgLy8gcGVuZGluZyA9IHBlbmRpbmcgKyB0aGlzLm11bERpdkZsb29yKGRlcG9zaXRlZCwgY3VycmVudFlQVCAtIHVzZXJZUFQsIFNDQUxFKTsKICAgIGRpZyAxCiAgICArCiAgICBidXJ5IDEKCmdldFBlbmRpbmdZaWVsZF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NTQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBkdXAKICAgIGl0b2IKICAgIGJ5dGVjIDEzIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmdldFVzZXJEZXBvc2l0W3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0VXNlckRlcG9zaXQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NzQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMiAvLyAzMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5zdGF0aWNfYXJyYXk8YXJjNC51aW50OCwgMzI+CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NzYKICAgIC8vIHJldHVybiB0aGlzLmRlcG9zaXRlZEFtb3VudCh1c2VyKS52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MwogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NzYKICAgIC8vIHJldHVybiB0aGlzLmRlcG9zaXRlZEFtb3VudCh1c2VyKS52YWx1ZTsKICAgIGFwcF9sb2NhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBMb2NhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTc0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgaXRvYgogICAgYnl0ZWMgMTMgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZ2V0U3dhcFF1b3RlW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0U3dhcFF1b3RlOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTg2CiAgICAvLyBjb25zdCBhcHBBZGRyOiBBY2NvdW50ID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3M7CiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTg3CiAgICAvLyBjb25zdCB1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0MQogICAgLy8geWllbGRBc3NldCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIFVTREMgQVNBIElEICh3aGF0IGFpcmRyb3BzIGNvbWUgaW4gYXMpCiAgICBieXRlY18yIC8vICJ5aWVsZEFzc2V0IgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTg3CiAgICAvLyBjb25zdCB1c2RjQmFsYW5jZSA9IEFzc2V0KHRoaXMueWllbGRBc3NldC52YWx1ZSkuYmFsYW5jZShhcHBBZGRyKTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIHN3YXAKICAgIGR1cAogICAgdW5jb3ZlciAyCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1ODkKICAgIC8vIGlmICh1c2RjQmFsYW5jZSA9PT0gVWludDY0KDApKSB7CiAgICBibnogZ2V0U3dhcFF1b3RlX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTkwCiAgICAvLyByZXR1cm4gW1VpbnQ2NCgwKSwgVWludDY0KDApLCBVaW50NjQoMCldOwogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCgpnZXRTd2FwUXVvdGVfYWZ0ZXJfaW5saW5lZF9jb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQuZ2V0U3dhcFF1b3RlQDQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1ODQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBieXRlYyAxMyAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZ2V0U3dhcFF1b3RlX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU5MwogICAgLy8gY29uc3QgZXhwZWN0ZWRPdXRwdXQgPSB0aGlzLmdldEV4cGVjdGVkU3dhcE91dHB1dCh1c2RjQmFsYW5jZSk7CiAgICBkdXBuIDIKICAgIGNhbGxzdWIgZ2V0RXhwZWN0ZWRTd2FwT3V0cHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NgogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBkdXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU5NQogICAgLy8gY29uc3QgbWluQXQ1MEJwcyA9IHRoaXMubXVsRGl2Rmxvb3IoZXhwZWN0ZWRPdXRwdXQsIEZFRV9CUFNfQkFTRSAtIFVpbnQ2NCg1MCksIEZFRV9CUFNfQkFTRSk7CiAgICBwdXNoaW50IDk5NTAgLy8gOTk1MAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzYKICAgIC8vIGNvbnN0IFtoaSwgbG9dID0gbXVsdyhuMSwgbjIpOwogICAgbXVsdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTk1CiAgICAvLyBjb25zdCBtaW5BdDUwQnBzID0gdGhpcy5tdWxEaXZGbG9vcihleHBlY3RlZE91dHB1dCwgRkVFX0JQU19CQVNFIC0gVWludDY0KDUwKSwgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTk3CiAgICAvLyByZXR1cm4gW3VzZGNCYWxhbmNlLCBleHBlY3RlZE91dHB1dCwgbWluQXQ1MEJwc107CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIHVuY292ZXIgMgogICAgaXRvYgogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU4NAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGIgZ2V0U3dhcFF1b3RlX2FmdGVyX2lubGluZWRfY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmdldFN3YXBRdW90ZUA0CgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LnVwZGF0ZU1pblN3YXBUaHJlc2hvbGRbcm91dGluZ10oKSAtPiB2b2lkOgp1cGRhdGVNaW5Td2FwVGhyZXNob2xkOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjA3CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjA5CiAgICAvLyBjb25zdCBpc0NyZWF0b3IgPSBUeG4uc2VuZGVyID09PSB0aGlzLmNyZWF0b3JBZGRyZXNzLnZhbHVlOwogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjQ1CiAgICAvLyBjcmVhdG9yQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgLy8gVmF1bHQgY3JlYXRvciB3aG8gcmVjZWl2ZXMgZmVlCiAgICBieXRlYyA2IC8vICJjcmVhdG9yQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYwOQogICAgLy8gY29uc3QgaXNDcmVhdG9yID0gVHhuLnNlbmRlciA9PT0gdGhpcy5jcmVhdG9yQWRkcmVzcy52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjEwCiAgICAvLyBjb25zdCBpc1JhcmVmaSA9IFR4bi5zZW5kZXIgPT09IHRoaXMucmFyZWZpQWRkcmVzcy52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NgogICAgLy8gcmFyZWZpQWRkcmVzcyA9IEdsb2JhbFN0YXRlPEFjY291bnQ+KCk7ICAgIC8vIFJhcmVGaSBwbGF0Zm9ybSBhZGRyZXNzIChjYW4gYWxzbyB0cmlnZ2VyIHN3YXBzKQogICAgYnl0ZWMgOSAvLyAicmFyZWZpQWRkcmVzcyIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYxMAogICAgLy8gY29uc3QgaXNSYXJlZmkgPSBUeG4uc2VuZGVyID09PSB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYxMQogICAgLy8gYXNzZXJ0KGlzQ3JlYXRvciB8fCBpc1JhcmVmaSwgJ09ubHkgY3JlYXRvciBvciBSYXJlRmkgY2FuIHVwZGF0ZScpOwogICAgfHwKICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3Igb3IgUmFyZUZpIGNhbiB1cGRhdGUKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYxMgogICAgLy8gYXNzZXJ0KG5ld1RocmVzaG9sZCA+PSBNSU5fU1dBUF9BTU9VTlQsICdUaHJlc2hvbGQgdG9vIGxvdycpOwogICAgZHVwCiAgICBpbnRjIDYgLy8gMjAwMDAwCiAgICA+PQogICAgYXNzZXJ0IC8vIFRocmVzaG9sZCB0b28gbG93CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MwogICAgLy8gbWluU3dhcFRocmVzaG9sZCA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIE1pbmltdW0gVVNEQyBiZWZvcmUgc3dhcCBhbGxvd2VkCiAgICBieXRlYyAxMCAvLyAibWluU3dhcFRocmVzaG9sZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYxMwogICAgLy8gdGhpcy5taW5Td2FwVGhyZXNob2xkLnZhbHVlID0gbmV3VGhyZXNob2xkOwogICAgc3dhcAogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYwNwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo6UmFyZUZpVmF1bHQudXBkYXRlVGlueW1hblBvb2xbcm91dGluZ10oKSAtPiB2b2lkOgp1cGRhdGVUaW55bWFuUG9vbDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYyMAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnN0YXRpY19hcnJheTxhcmM0LnVpbnQ4LCAzMj4KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYyMgogICAgLy8gY29uc3QgaXNDcmVhdG9yID0gVHhuLnNlbmRlciA9PT0gdGhpcy5jcmVhdG9yQWRkcmVzcy52YWx1ZTsKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo0NQogICAgLy8gY3JlYXRvckFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgIC8vIFZhdWx0IGNyZWF0b3Igd2hvIHJlY2VpdmVzIGZlZQogICAgYnl0ZWMgNiAvLyAiY3JlYXRvckFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MjIKICAgIC8vIGNvbnN0IGlzQ3JlYXRvciA9IFR4bi5zZW5kZXIgPT09IHRoaXMuY3JlYXRvckFkZHJlc3MudmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgPT0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjYyMwogICAgLy8gY29uc3QgaXNSYXJlZmkgPSBUeG4uc2VuZGVyID09PSB0aGlzLnJhcmVmaUFkZHJlc3MudmFsdWU7CiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDYKICAgIC8vIHJhcmVmaUFkZHJlc3MgPSBHbG9iYWxTdGF0ZTxBY2NvdW50PigpOyAgICAvLyBSYXJlRmkgcGxhdGZvcm0gYWRkcmVzcyAoY2FuIGFsc28gdHJpZ2dlciBzd2FwcykKICAgIGJ5dGVjIDkgLy8gInJhcmVmaUFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MjMKICAgIC8vIGNvbnN0IGlzUmFyZWZpID0gVHhuLnNlbmRlciA9PT0gdGhpcy5yYXJlZmlBZGRyZXNzLnZhbHVlOwogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MjQKICAgIC8vIGFzc2VydChpc0NyZWF0b3IgfHwgaXNSYXJlZmksICdPbmx5IGNyZWF0b3Igb3IgUmFyZUZpIGNhbiB1cGRhdGUnKTsKICAgIHx8CiAgICBhc3NlcnQgLy8gT25seSBjcmVhdG9yIG9yIFJhcmVGaSBjYW4gdXBkYXRlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MjUKICAgIC8vIGFzc2VydChuZXdQb29sQXBwSWQgIT09IFVpbnQ2NCgwKSwgJ0ludmFsaWQgcG9vbCBhcHAgSUQnKTsKICAgIGRpZyAxCiAgICBhc3NlcnQgLy8gSW52YWxpZCBwb29sIGFwcCBJRAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NTYKICAgIC8vIHRpbnltYW5Qb29sQXBwSWQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBUaW55bWFuIFYyIHBvb2wgYXBwIElEIChVU0RDL3N3YXBBc3NldCkKICAgIGJ5dGVjIDExIC8vICJ0aW55bWFuUG9vbEFwcElkIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjI2CiAgICAvLyB0aGlzLnRpbnltYW5Qb29sQXBwSWQudmFsdWUgPSBuZXdQb29sQXBwSWQ7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1NwogICAgLy8gdGlueW1hblBvb2xBZGRyZXNzID0gR2xvYmFsU3RhdGU8QWNjb3VudD4oKTsgLy8gVGlueW1hbiBwb29sIGFkZHJlc3MKICAgIGJ5dGVjIDE0IC8vICJ0aW55bWFuUG9vbEFkZHJlc3MiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MjcKICAgIC8vIHRoaXMudGlueW1hblBvb2xBZGRyZXNzLnZhbHVlID0gbmV3UG9vbEFkZHJlc3M7CiAgICBzd2FwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjIwCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjpSYXJlRmlWYXVsdC51cGRhdGVFYXJuZWRZaWVsZCh1c2VyOiBieXRlcykgLT4gdm9pZDoKdXBkYXRlRWFybmVkWWllbGQ6CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo4NgogICAgLy8gcHJpdmF0ZSB1cGRhdGVFYXJuZWRZaWVsZCh1c2VyOiBBY2NvdW50KTogdm9pZCB7CiAgICBwcm90byAxIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo4NwogICAgLy8gY29uc3QgZGVwb3NpdGVkID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQodXNlcikudmFsdWU7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2MwogICAgLy8gZGVwb3NpdGVkQW1vdW50ID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAgIC8vIFVzZXIncyBBbHBoYSBiYWxhbmNlIGluIHZhdWx0CiAgICBieXRlY18xIC8vICJkZXBvc2l0ZWRBbW91bnQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo4NwogICAgLy8gY29uc3QgZGVwb3NpdGVkID0gdGhpcy5kZXBvc2l0ZWRBbW91bnQodXNlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo4OQogICAgLy8gaWYgKGRlcG9zaXRlZCA+IFVpbnQ2NCgwKSkgewogICAgYnogdXBkYXRlRWFybmVkWWllbGRfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo5MQogICAgLy8gY29uc3QgY3VycmVudFlQVCA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MgogICAgLy8geWllbGRQZXJUb2tlbiA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIEFjY3VtdWxhdG9yIGZvciB5aWVsZCBkaXN0cmlidXRpb24gKHNjYWxlZCBieSBTQ0FMRSkKICAgIGJ5dGVjIDQgLy8gInlpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo5MQogICAgLy8gY29uc3QgY3VycmVudFlQVCA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGZyYW1lX2J1cnkgMAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OTIKICAgIC8vIGNvbnN0IHVzZXJZUFQgPSB0aGlzLnVzZXJZaWVsZFBlclRva2VuKHVzZXIpLnZhbHVlOwogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NjQKICAgIC8vIHVzZXJZaWVsZFBlclRva2VuID0gTG9jYWxTdGF0ZTx1aW50NjQ+KCk7ICAvLyBTbmFwc2hvdCBvZiB5aWVsZFBlclRva2VuIGF0IGxhc3QgYWN0aW9uCiAgICBieXRlYyAxMiAvLyAidXNlcllpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo5MgogICAgLy8gY29uc3QgdXNlcllQVCA9IHRoaXMudXNlcllpZWxkUGVyVG9rZW4odXNlcikudmFsdWU7CiAgICBhcHBfbG9jYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGZyYW1lX2J1cnkgMQogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo5NAogICAgLy8gaWYgKGN1cnJlbnRZUFQgPiB1c2VyWVBUKSB7CiAgICA+CiAgICBieiB1cGRhdGVFYXJuZWRZaWVsZF9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjk1CiAgICAvLyBjb25zdCBwZW5kaW5nID0gdGhpcy5tdWxEaXZGbG9vcihkZXBvc2l0ZWQsIGN1cnJlbnRZUFQgLSB1c2VyWVBULCBTQ0FMRSk7CiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfZGlnIDEKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc2CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGZyYW1lX2RpZyAyCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NwogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo5NQogICAgLy8gY29uc3QgcGVuZGluZyA9IHRoaXMubXVsRGl2Rmxvb3IoZGVwb3NpdGVkLCBjdXJyZW50WVBUIC0gdXNlcllQVCwgU0NBTEUpOwogICAgaW50YyA1IC8vIDEwMDAwMDAwMDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc3CiAgICAvLyBjb25zdCBbcV9oaSwgcV9sbywgX3JfaGksIF9yX2xvXSA9IGRpdm1vZHcoaGksIGxvLCBVaW50NjQoMCksIGQpOwogICAgZGl2bW9kdwogICAgcG9wbiAyCiAgICBzd2FwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3OAogICAgLy8gYXNzZXJ0KHFfaGkgPT09IFVpbnQ2NCgwKSwgJ011bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yJyk7CiAgICAhCiAgICBhc3NlcnQgLy8gTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3IKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyB0aGlzLmVhcm5lZFlpZWxkKHVzZXIpLnZhbHVlID0gdGhpcy5lYXJuZWRZaWVsZCh1c2VyKS52YWx1ZSArIHBlbmRpbmc7CiAgICBmcmFtZV9kaWcgLTEKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NQogICAgLy8gZWFybmVkWWllbGQgPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgICAgICAgIC8vIEFjY3VtdWxhdGVkIHlpZWxkIG5vdCB5ZXQgY2xhaW1lZAogICAgYnl0ZWMgNSAvLyAiZWFybmVkWWllbGQiCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo5NgogICAgLy8gdGhpcy5lYXJuZWRZaWVsZCh1c2VyKS52YWx1ZSA9IHRoaXMuZWFybmVkWWllbGQodXNlcikudmFsdWUgKyBwZW5kaW5nOwogICAgYXBwX2xvY2FsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIExvY2FsU3RhdGUgZXhpc3RzCiAgICArCiAgICBmcmFtZV9kaWcgLTEKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjY1CiAgICAvLyBlYXJuZWRZaWVsZCA9IExvY2FsU3RhdGU8dWludDY0PigpOyAgICAgICAgLy8gQWNjdW11bGF0ZWQgeWllbGQgbm90IHlldCBjbGFpbWVkCiAgICBieXRlYyA1IC8vICJlYXJuZWRZaWVsZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjk2CiAgICAvLyB0aGlzLmVhcm5lZFlpZWxkKHVzZXIpLnZhbHVlID0gdGhpcy5lYXJuZWRZaWVsZCh1c2VyKS52YWx1ZSArIHBlbmRpbmc7CiAgICB1bmNvdmVyIDIKICAgIGFwcF9sb2NhbF9wdXQKCnVwZGF0ZUVhcm5lZFlpZWxkX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEwMQogICAgLy8gdGhpcy51c2VyWWllbGRQZXJUb2tlbih1c2VyKS52YWx1ZSA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZTsKICAgIGludGNfMCAvLyAwCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo1MgogICAgLy8geWllbGRQZXJUb2tlbiA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oKTsgICAgIC8vIEFjY3VtdWxhdG9yIGZvciB5aWVsZCBkaXN0cmlidXRpb24gKHNjYWxlZCBieSBTQ0FMRSkKICAgIGJ5dGVjIDQgLy8gInlpZWxkUGVyVG9rZW4iCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMDEKICAgIC8vIHRoaXMudXNlcllpZWxkUGVyVG9rZW4odXNlcikudmFsdWUgPSB0aGlzLnlpZWxkUGVyVG9rZW4udmFsdWU7CiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIEdsb2JhbFN0YXRlIGV4aXN0cwogICAgZnJhbWVfZGlnIC0xCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo2NAogICAgLy8gdXNlcllpZWxkUGVyVG9rZW4gPSBMb2NhbFN0YXRlPHVpbnQ2ND4oKTsgIC8vIFNuYXBzaG90IG9mIHlpZWxkUGVyVG9rZW4gYXQgbGFzdCBhY3Rpb24KICAgIGJ5dGVjIDEyIC8vICJ1c2VyWWllbGRQZXJUb2tlbiIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEwMQogICAgLy8gdGhpcy51c2VyWWllbGRQZXJUb2tlbih1c2VyKS52YWx1ZSA9IHRoaXMueWllbGRQZXJUb2tlbi52YWx1ZTsKICAgIHVuY292ZXIgMgogICAgYXBwX2xvY2FsX3B1dAogICAgcmV0c3ViCgoKLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6OlJhcmVGaVZhdWx0LmdldEV4cGVjdGVkU3dhcE91dHB1dChpbnB1dEFtb3VudDogdWludDY0KSAtPiB1aW50NjQ6CmdldEV4cGVjdGVkU3dhcE91dHB1dDoKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEyMQogICAgLy8gcHJpdmF0ZSBnZXRFeHBlY3RlZFN3YXBPdXRwdXQoaW5wdXRBbW91bnQ6IHVpbnQ2NCk6IHVpbnQ2NCB7CiAgICBwcm90byAxIDEKICAgIHB1c2hieXRlcyAiIgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTIyCiAgICAvLyBjb25zdCBwb29sQXBwID0gdGhpcy50aW55bWFuUG9vbEFwcElkLnZhbHVlOwogICAgaW50Y18wIC8vIDAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjU2CiAgICAvLyB0aW55bWFuUG9vbEFwcElkID0gR2xvYmFsU3RhdGU8dWludDY0PigpOyAgLy8gVGlueW1hbiBWMiBwb29sIGFwcCBJRCAoVVNEQy9zd2FwQXNzZXQpCiAgICBieXRlYyAxMSAvLyAidGlueW1hblBvb2xBcHBJZCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEyMgogICAgLy8gY29uc3QgcG9vbEFwcCA9IHRoaXMudGlueW1hblBvb2xBcHBJZC52YWx1ZTsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMjYKICAgIC8vIGNvbnN0IFthc3NldDFJZCwgaGFzQXNzZXQxSWRdID0gQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xBcHAsIEJ5dGVzKCdhc3NldF8xX2lkJykpOwogICAgZHVwCiAgICBwdXNoYnl0ZXMgImFzc2V0XzFfaWQiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTI3CiAgICAvLyBhc3NlcnQoaGFzQXNzZXQxSWQsICdDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzFfaWQnKTsKICAgIGFzc2VydCAvLyBDYW5ub3QgcmVhZCBwb29sIGFzc2V0XzFfaWQKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEyOQogICAgLy8gY29uc3QgW2Fzc2V0MVJlc2VydmVzLCBoYXNBc3NldDFSZXNlcnZlc10gPSBBcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbEFwcCwgQnl0ZXMoJ2Fzc2V0XzFfcmVzZXJ2ZXMnKSk7CiAgICBkaWcgMQogICAgcHVzaGJ5dGVzICJhc3NldF8xX3Jlc2VydmVzIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGNvdmVyIDMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEzMAogICAgLy8gYXNzZXJ0KGhhc0Fzc2V0MVJlc2VydmVzLCAnQ2Fubm90IHJlYWQgcG9vbCBhc3NldF8xX3Jlc2VydmVzJyk7CiAgICBhc3NlcnQgLy8gQ2Fubm90IHJlYWQgcG9vbCBhc3NldF8xX3Jlc2VydmVzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMzIKICAgIC8vIGNvbnN0IFthc3NldDJSZXNlcnZlcywgaGFzQXNzZXQyUmVzZXJ2ZXNdID0gQXBwR2xvYmFsLmdldEV4VWludDY0KHBvb2xBcHAsIEJ5dGVzKCdhc3NldF8yX3Jlc2VydmVzJykpOwogICAgZGlnIDEKICAgIHB1c2hieXRlcyAiYXNzZXRfMl9yZXNlcnZlcyIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBzd2FwCiAgICBjb3ZlciAzCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxMzMKICAgIC8vIGFzc2VydChoYXNBc3NldDJSZXNlcnZlcywgJ0Nhbm5vdCByZWFkIHBvb2wgYXNzZXRfMl9yZXNlcnZlcycpOwogICAgYXNzZXJ0IC8vIENhbm5vdCByZWFkIHBvb2wgYXNzZXRfMl9yZXNlcnZlcwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTM1CiAgICAvLyBjb25zdCBbdG90YWxGZWVTaGFyZSwgaGFzVG90YWxGZWVTaGFyZV0gPSBBcHBHbG9iYWwuZ2V0RXhVaW50NjQocG9vbEFwcCwgQnl0ZXMoJ3RvdGFsX2ZlZV9zaGFyZScpKTsKICAgIHN3YXAKICAgIHB1c2hieXRlcyAidG90YWxfZmVlX3NoYXJlIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIHN3YXAKICAgIGNvdmVyIDMKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjEzNgogICAgLy8gYXNzZXJ0KGhhc1RvdGFsRmVlU2hhcmUsICdDYW5ub3QgcmVhZCBwb29sIHRvdGFsX2ZlZV9zaGFyZScpOwogICAgYXNzZXJ0IC8vIENhbm5vdCByZWFkIHBvb2wgdG90YWxfZmVlX3NoYXJlCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxNDIKICAgIC8vIGlmIChhc3NldDFJZCA9PT0gdGhpcy55aWVsZEFzc2V0LnZhbHVlKSB7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NDEKICAgIC8vIHlpZWxkQXNzZXQgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KCk7ICAgICAgICAvLyBVU0RDIEFTQSBJRCAod2hhdCBhaXJkcm9wcyBjb21lIGluIGFzKQogICAgYnl0ZWNfMiAvLyAieWllbGRBc3NldCIKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjE0MgogICAgLy8gaWYgKGFzc2V0MUlkID09PSB0aGlzLnlpZWxkQXNzZXQudmFsdWUpIHsKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgR2xvYmFsU3RhdGUgZXhpc3RzCiAgICA9PQogICAgYnogZ2V0RXhwZWN0ZWRTd2FwT3V0cHV0X2Vsc2VfYm9keUAyCiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfYnVyeSAwCgpnZXRFeHBlY3RlZFN3YXBPdXRwdXRfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTU1CiAgICAvLyBjb25zdCBuZXRJbnB1dCA9IHRoaXMubXVsRGl2Rmxvb3IoaW5wdXRBbW91bnQsIEZFRV9CUFNfQkFTRSAtIGZlZUJwcywgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgZnJhbWVfZGlnIDIKICAgIC0KICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc2CiAgICAvLyBjb25zdCBbaGksIGxvXSA9IG11bHcobjEsIG4yKTsKICAgIGZyYW1lX2RpZyAtMQogICAgbXVsdwogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBpbnRjXzAgLy8gMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTU1CiAgICAvLyBjb25zdCBuZXRJbnB1dCA9IHRoaXMubXVsRGl2Rmxvb3IoaW5wdXRBbW91bnQsIEZFRV9CUFNfQkFTRSAtIGZlZUJwcywgRkVFX0JQU19CQVNFKTsKICAgIGludGMgNCAvLyAxMDAwMAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzcKICAgIC8vIGNvbnN0IFtxX2hpLCBxX2xvLCBfcl9oaSwgX3JfbG9dID0gZGl2bW9kdyhoaSwgbG8sIFVpbnQ2NCgwKSwgZCk7CiAgICBkaXZtb2R3CiAgICBwb3BuIDIKICAgIHN3YXAKICAgIC8vIGNvbnRyYWN0cy9SYXJlRmlWYXVsdC5hbGdvLnRzOjc4CiAgICAvLyBhc3NlcnQocV9oaSA9PT0gVWludDY0KDApLCAnTXVsdGlwbGljYXRpb24gb3ZlcmZsb3cgaW4gbXVsRGl2Rmxvb3InKTsKICAgICEKICAgIGFzc2VydCAvLyBNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcgogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6MTU5CiAgICAvLyBjb25zdCBleHBlY3RlZE91dHB1dCA9IHRoaXMubXVsRGl2Rmxvb3Iob3V0cHV0UmVzZXJ2ZXMsIG5ldElucHV0LCBpbnB1dFJlc2VydmVzICsgbmV0SW5wdXQpOwogICAgZnJhbWVfZGlnIDAKICAgIGRpZyAxCiAgICArCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NgogICAgLy8gY29uc3QgW2hpLCBsb10gPSBtdWx3KG4xLCBuMik7CiAgICBjb3ZlciAyCiAgICBtdWx3CiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czo3NwogICAgLy8gY29uc3QgW3FfaGksIHFfbG8sIF9yX2hpLCBfcl9sb10gPSBkaXZtb2R3KGhpLCBsbywgVWludDY0KDApLCBkKTsKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDMKICAgIGRpdm1vZHcKICAgIHBvcG4gMgogICAgc3dhcAogICAgLy8gY29udHJhY3RzL1JhcmVGaVZhdWx0LmFsZ28udHM6NzgKICAgIC8vIGFzc2VydChxX2hpID09PSBVaW50NjQoMCksICdNdWx0aXBsaWNhdGlvbiBvdmVyZmxvdyBpbiBtdWxEaXZGbG9vcicpOwogICAgIQogICAgYXNzZXJ0IC8vIE11bHRpcGxpY2F0aW9uIG92ZXJmbG93IGluIG11bERpdkZsb29yCiAgICAvLyBjb250cmFjdHMvUmFyZUZpVmF1bHQuYWxnby50czoxNjEKICAgIC8vIHJldHVybiBleHBlY3RlZE91dHB1dDsKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgpnZXRFeHBlY3RlZFN3YXBPdXRwdXRfZWxzZV9ib2R5QDI6CiAgICBmcmFtZV9idXJ5IDAKICAgIGZyYW1lX2RpZyAxCiAgICBiIGdldEV4cGVjdGVkU3dhcE91dHB1dF9hZnRlcl9pZl9lbHNlQDMK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "CyAHAAEECJBOgJTr3APAmgwmEA10b3RhbERlcG9zaXRzD2RlcG9zaXRlZEFtb3VudAp5aWVsZEFzc2V0CXN3YXBBc3NldA15aWVsZFBlclRva2VuC2Vhcm5lZFlpZWxkDmNyZWF0b3JBZGRyZXNzFWNyZWF0b3JVbmNsYWltZWRZaWVsZAxkZXBvc2l0QXNzZXQNcmFyZWZpQWRkcmVzcxBtaW5Td2FwVGhyZXNob2xkEHRpbnltYW5Qb29sQXBwSWQRdXNlcllpZWxkUGVyVG9rZW4EFR98dRJ0aW55bWFuUG9vbEFkZHJlc3MOY3JlYXRvckZlZVJhdGUxG0EAn4ICBCkxTZUEamkf4jYaAI4CAH8AczEZFEQxGEEAXIIMBEFOQbUEkuA7HAQh8d3/BPFXdyYEvJlEngQ287L0BM9hoaQEsN9cDwQ/uKknBPQdo10Eq273OwQe97WGNhoAjgwA4gHTAjECiAK0AuAD2QQVBHMEiATZBP8AgARNA8spNhoAjgEALAAxGYECEjEYEERCAVwxGSMSMRgQREIBPiSBBTEZjgIABQABADEYRAAxGEQANhoBSRUlEkQXNhoCSRUlEkQXNhoDSRUlEkQXNhoESRUlEkQXNhoFSRUlEkQXNhoGSRUlEkQXNhoHSRWBIBJENhoISRWBIBJESwSBZA5ESwMhBg9ESwdESwZESwVESwJESwdLBxNESwdLBhNESwZLBhNEJwhPCGcqTwdnK08GZycGMQBnJwlMZycPTwRnJwciZygiZycEImcnCk8DZycLTwJnJw5MZyNDMQAiJwZlRBJEMgoxFklEIwlJOBAjEkRJOAdLAhJESTgIgeCrwV8PRDgAMQASRLEiJwllRIGAhK9fsgiyByOyECKyAbOxIicIZUQishKyEUmyFCSyECKyAbOxIiplRCKyErIRSbIUJLIQIrIBs7EiK2VEIrISshGyFCSyECKyAbMjQzEAKSJmMQAnDCJmMQAnBSJmI0MxAIgDtTEAIiljTElPAkQxACInBWNMTgJEQQAkIihlREsCSU4CCShMZ7ExACInCGVETwKyErIRshQkshAisgGzSUEAFrExACIrZURLArISshGyFCSyECKyAbMjQzIKIiplREsBTHAARCInCmVEDEQxFklEIwlJOBAkEkRJOBEiJwhlRBJESTgUTwISREk4ADEAEkQ4EkmBwIQ9D0QxAIgDGTEAIiljREsBCDEAKU8CZiIoZUQIKExnI0M2GgFJFSUSRBdJMQAiKWNMTgJEQQA9SwFJRElLAklOAg5EMQCIAtlLAQkxAClPAmYiKGVESwEJKExnsTEAIicIZURPArISshGyFCSyECKyAbMjQ0lC/8ExAIgCpDEAIicFY0RJRDEAJwUiZrExACIrZURPArISshGyFCSyECKyAbMjQzEAIicGZUQSRCInB2VESUQnByJnsTEAIitlRE8CshKyEbIUJLIQIrIBsyNDNhoBSRUlEkQXMQAiJwZlRBIxACInCWVEEhFESYHoBw5EMgoiKmVESwFMcABEIicKZURLAQ5EIihlRERJiAJuSUQhBE8ECR0iIQQfRgJMFEQiK2VESwNLAXAARLEiJw5lRCIqZURPBbISshFJshQkshAisgG2IicLZURLBBZPArIcSwOyMIAEc3dhcLIagAtmaXhlZC1pbnB1dLIashqyGIEGshAisgGzTwNPAnAAREwJSU8CD0QiJw9lREsBHSKBZB9GAkwURExLAQlJTwIiJwdlRAgnB0xnQQAcIihlREsBIQUdIk8DH0YCTBREIicEZUQIJwRMZyNDMgoiKmVESwFMcABEIitlRE8CTHAARCIoZUQiJwRlRCInB2VETwIWTwIWUEwWUE8CFlBMFlAnDUxQsCNDgABJNhoBRwIVgSASREkiKWNMSU4DTgNEIicFY0xOAkRBADIiJwRlTElOAkUHREsDIicMY0xJTgJFB0QNQQAWSwRLBAlLAh0iIQUfRgJMFERLAQhFAUkWJw1MULAjQzYaAUkVgSASRCIpY0QWJw1MULAjQzIKIiplRHAATElPAkRAACGAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcNTFCwI0NHAogAz0mB3k0dIiEEH0YCTBRETwIWTwIWUEwWUEL/2TYaAUkVJRJEFzEAIicGZUQSMQAiJwllRBIRREkhBg9EJwpMZyNDNhoBSRUlEkQXNhoCSRWBIBJEMQAiJwZlRBIxACInCWVEEhFESwFEJwtPAmcnDkxnI0OKAQCAAEmL/yIpY0xJTwJEQQA8IicEZUxJTgKMAESL/yInDGNMSU4CjAFEDUEAIIsAiwEJiwIdIiEFH0YCTBREi/8iJwVjRAiL/ycFTwJmIicEZUSL/ycMTwJmiYoBAYAAIicLZURJgAphc3NldF8xX2lkZURLAYAQYXNzZXRfMV9yZXNlcnZlc2VMTgNESwGAEGFzc2V0XzJfcmVzZXJ2ZXNlTE4DREyAD3RvdGFsX2ZlZV9zaGFyZWVMTgNEIiplRBJBACmLAYwAIQSLAgmL/x0iIQQfRgJMFESLAEsBCE4CHSJPAx9GAkwURIwAiYwAiwFC/9Q=",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 3,
            "patch": 2
        }
    },
    "events": [],
    "templateVariables": {}
}